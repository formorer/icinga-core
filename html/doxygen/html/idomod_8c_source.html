<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Icinga-core: module/idoutils/src/idomod.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icinga_logo4-300x109.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Icinga-core&#160;<span id="projectnumber">1.4.0</span></div>
   <div id="projectbrief">next gen monitoring</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('idomod_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">module/idoutils/src/idomod.c</div>  </div>
</div>
<div class="contents">
<a href="idomod_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * IDOMOD.C - Icinga Data Output Event Broker Module</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * Copyright (c) 2005-2007 Ethan Galstad</span>
<a name="l00006"></a>00006 <span class="comment"> * Copyright (c) 2009-2011 Icinga Development Team (http://www.icinga.org)</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> *****************************************************************************/</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="comment">/* include our project&#39;s header files */</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;../../../include/config.h&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;../include/common.h&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;../include/io.h&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;../include/utils.h&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;../include/protoapi.h&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;../include/idomod.h&quot;</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="comment">/* include (minimum required) event broker header files */</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;../../../include/nebstructs.h&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;../../../include/nebmodules.h&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;../../../include/nebcallbacks.h&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;../../../include/broker.h&quot;</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="comment">/* include other Icinga header files for access to functions, data structs, etc. */</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;../../../include/common.h&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;../../../include/icinga.h&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;../../../include/downtime.h&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;../../../include/comments.h&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;../../../include/macros.h&quot;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">/* specify event broker API version (required) */</span>
<a name="l00032"></a>00032 <a class="code" href="helloworld_8c.html#a36121cfa7583c2268a050844b2b45b93">NEB_API_VERSION</a>(<a class="code" href="nebmodules_8h.html#ae3c01e16560f5d7f9c3319a1f46397a2">CURRENT_NEB_API_VERSION</a>)
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">00036</a> void *<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>=NULL;
<a name="l00037"></a><a class="code" href="idomod_8c.html#a54ce5635ebc7afa28129daa8fd42f03d">00037</a> <span class="keywordtype">char</span> *<a class="code" href="idomod_8c.html#a54ce5635ebc7afa28129daa8fd42f03d">idomod_instance_name</a>=NULL;
<a name="l00038"></a><a class="code" href="idomod_8c.html#a8dba628ff0ac57f64e26e92f004150cc">00038</a> <span class="keywordtype">char</span> *<a class="code" href="idomod_8c.html#a8dba628ff0ac57f64e26e92f004150cc">idomod_buffer_file</a>=NULL;
<a name="l00039"></a><a class="code" href="idomod_8c.html#a8b6f6aac3251be043e622e8eb498a6ab">00039</a> <span class="keywordtype">char</span> *<a class="code" href="idomod_8c.html#a8b6f6aac3251be043e622e8eb498a6ab">idomod_sink_name</a>=NULL;
<a name="l00040"></a><a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">00040</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>=<a class="code" href="io_8h.html#a607ea9f9be1d29bfce180bee814534f3">IDO_SINK_UNIXSOCKET</a>;
<a name="l00041"></a><a class="code" href="idomod_8c.html#aa748d0af47ea5405a8776d44584ee342">00041</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#aa748d0af47ea5405a8776d44584ee342">idomod_sink_tcp_port</a>=<a class="code" href="io_8h.html#a0a3a45b8e59b33c00838012c05319f65">IDO_DEFAULT_TCP_PORT</a>;
<a name="l00042"></a><a class="code" href="idomod_8c.html#a44806c1340939a45db528d8f6d45c5d5">00042</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#a44806c1340939a45db528d8f6d45c5d5">idomod_sink_is_open</a>=<a class="code" href="module_2idoutils_2include_2common_8h.html#af609ab4b282d85d9fab8025f5b2b66c1">IDO_FALSE</a>;
<a name="l00043"></a><a class="code" href="idomod_8c.html#a1bdeb13cd3160742454623192f642f12">00043</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#a1bdeb13cd3160742454623192f642f12">idomod_sink_previously_open</a>=IDO_FALSE;
<a name="l00044"></a><a class="code" href="idomod_8c.html#a1707bc9d6ba98682522c726dfade0e9a">00044</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#a1707bc9d6ba98682522c726dfade0e9a">idomod_sink_fd</a>=-1;
<a name="l00045"></a><a class="code" href="idomod_8c.html#a93d353a249246c7f80134b80fe73dc6b">00045</a> time_t <a class="code" href="idomod_8c.html#a93d353a249246c7f80134b80fe73dc6b">idomod_sink_last_reconnect_attempt</a>=0L;
<a name="l00046"></a><a class="code" href="idomod_8c.html#aedfda807ec13dbb2f3557ebc74d559e3">00046</a> time_t <a class="code" href="idomod_8c.html#aedfda807ec13dbb2f3557ebc74d559e3">idomod_sink_last_reconnect_warning</a>=0L;
<a name="l00047"></a><a class="code" href="idomod_8c.html#a90e39e57e7922c0213d0e2b63af698a0">00047</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="idomod_8c.html#a90e39e57e7922c0213d0e2b63af698a0">idomod_sink_connect_attempt</a>=0L;
<a name="l00048"></a><a class="code" href="idomod_8c.html#a96ba7d09184c7c3b8e995bef09073986">00048</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="idomod_8c.html#a96ba7d09184c7c3b8e995bef09073986">idomod_sink_reconnect_interval</a>=15;
<a name="l00049"></a><a class="code" href="idomod_8c.html#a1977a86b460daddf9688aa4c5e62de98">00049</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="idomod_8c.html#a1977a86b460daddf9688aa4c5e62de98">idomod_sink_reconnect_warning_interval</a>=900;
<a name="l00050"></a><a class="code" href="idomod_8c.html#ab8c677daad6aa83724db3bbe24891044">00050</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="idomod_8c.html#ab8c677daad6aa83724db3bbe24891044">idomod_sink_rotation_interval</a>=3600;
<a name="l00051"></a><a class="code" href="idomod_8c.html#a740a0c42fd3ab7e67484b6a20f7034fd">00051</a> <span class="keywordtype">char</span> *<a class="code" href="idomod_8c.html#a740a0c42fd3ab7e67484b6a20f7034fd">idomod_sink_rotation_command</a>=NULL;
<a name="l00052"></a><a class="code" href="idomod_8c.html#ac3ff4a4cc0ecd77f8e477a110ce8a84e">00052</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#ac3ff4a4cc0ecd77f8e477a110ce8a84e">idomod_sink_rotation_timeout</a>=60;
<a name="l00053"></a><a class="code" href="idomod_8c.html#aaa97b4749745906c590dffeb64906d47">00053</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#aaa97b4749745906c590dffeb64906d47">idomod_allow_sink_activity</a>=<a class="code" href="module_2idoutils_2include_2common_8h.html#a1fa5946b37f7219aef0f13d921804a2f">IDO_TRUE</a>;
<a name="l00054"></a><a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">00054</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a>=<a class="code" href="idomod_8h.html#a50a9fa0e6fd66bbd57b155821f60cc66">IDOMOD_PROCESS_EVERYTHING</a>;
<a name="l00055"></a><a class="code" href="idomod_8c.html#aab6b88dcd16b21e5ff20f43422352494">00055</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#aab6b88dcd16b21e5ff20f43422352494">idomod_config_output_options</a>=<a class="code" href="idomod_8h.html#aa02eaaf2c05220f380cab7392a372338">IDOMOD_CONFIG_DUMP_ALL</a>;
<a name="l00056"></a><a class="code" href="idomod_8c.html#accb3cb7e47dd3963060d03bf892c9455">00056</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="idomod_8c.html#accb3cb7e47dd3963060d03bf892c9455">idomod_sink_buffer_slots</a>=5000;
<a name="l00057"></a><a class="code" href="idomod_8c.html#ac021fc3f1b6e1a200b132ce4f61379be">00057</a> <a class="code" href="structidomod__sink__buffer__struct.html">idomod_sink_buffer</a> <a class="code" href="idomod_8c.html#ac021fc3f1b6e1a200b132ce4f61379be">sinkbuf</a>;
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="idomod_8c.html#a0e5a333ba1eed57fb2d1818259c03022">00059</a> <span class="keywordtype">char</span> *<a class="code" href="idomod_8c.html#a0e5a333ba1eed57fb2d1818259c03022">idomod_debug_file</a>=NULL;
<a name="l00060"></a><a class="code" href="idomod_8c.html#a4fb3e59ec9d3a1f5f401eafd0f6d492a">00060</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#a4fb3e59ec9d3a1f5f401eafd0f6d492a">idomod_debug_level</a>=<a class="code" href="idomod_8h.html#a1f5bde5b347b26a137be56cb00f5c72e">IDOMOD_DEBUGL_NONE</a>;
<a name="l00061"></a><a class="code" href="idomod_8c.html#ad7f4adc09694c36dba1b2d467e217cc8">00061</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#ad7f4adc09694c36dba1b2d467e217cc8">idomod_debug_verbosity</a>=<a class="code" href="idomod_8h.html#ae1e94ac3a186c750f8cf6a8eb3c7be60">IDOMOD_DEBUGV_BASIC</a>;
<a name="l00062"></a><a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">00062</a> FILE *<a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">idomod_debug_file_fp</a>=NULL;
<a name="l00063"></a><a class="code" href="idomod_8c.html#a1426eac4f55c444bf56d9196623cf47d">00063</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="idomod_8c.html#a1426eac4f55c444bf56d9196623cf47d">idomod_max_debug_file_size</a>=0L;
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#a923f986e44e7431e73cebaf9555a611e">idomod_open_debug_log</a>(<span class="keywordtype">void</span>);
<a name="l00066"></a>00066 <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#a001d10e51bce600e88b5b65493512b78">idomod_close_debug_log</a>(<span class="keywordtype">void</span>);
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 extern <span class="keywordtype">int</span> errno;
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="comment">/**** Icinga VARIABLES ****/</span>
<a name="l00071"></a>00071 extern <a class="code" href="structcommand__struct.html">command</a> *<a class="code" href="base_2config_8c.html#a9a492850fa6692dc161ac48fff09e2b5">command_list</a>;
<a name="l00072"></a>00072 extern <a class="code" href="structtimeperiod__struct.html">timeperiod</a> *<a class="code" href="base_2config_8c.html#ae2e0edcdc460ca51c836c07df857f85e">timeperiod_list</a>;
<a name="l00073"></a>00073 extern <a class="code" href="structcontact__struct.html">contact</a> *<a class="code" href="base_2config_8c.html#af6cb44967a671bbb9e6c0dcd57f75259">contact_list</a>;
<a name="l00074"></a>00074 extern <a class="code" href="structcontactgroup__struct.html">contactgroup</a> *<a class="code" href="base_2config_8c.html#aedbc4ad6955f964b3dbff1bbf5fb309d">contactgroup_list</a>;
<a name="l00075"></a>00075 extern <a class="code" href="structhost__struct.html">host</a> *<a class="code" href="checks_8c.html#a7efb54fbdc5a556ffdbe25c56e6e7469">host_list</a>;
<a name="l00076"></a>00076 extern <a class="code" href="structhostgroup__struct.html">hostgroup</a> *<a class="code" href="base_2config_8c.html#a4a15afed3efea74c99e450dc19fc9f5d">hostgroup_list</a>;
<a name="l00077"></a>00077 extern <a class="code" href="structservice__struct.html">service</a> *<a class="code" href="checks_8c.html#aa680c491c2d6c99868a3789592868c15">service_list</a>;
<a name="l00078"></a>00078 extern <a class="code" href="structservicegroup__struct.html">servicegroup</a> *<a class="code" href="base_2config_8c.html#a77e50a8587b7b8e1ca12d99a05af684e">servicegroup_list</a>;
<a name="l00079"></a>00079 extern <a class="code" href="structhostescalation__struct.html">hostescalation</a> *<a class="code" href="base_2config_8c.html#a7e0992c0412f246b107354e4f3e25ba1">hostescalation_list</a>;
<a name="l00080"></a>00080 extern <a class="code" href="structserviceescalation__struct.html">serviceescalation</a> *<a class="code" href="base_2config_8c.html#a68a48bbf7142eb2cc9785aa86cc71c3f">serviceescalation_list</a>;
<a name="l00081"></a>00081 extern <a class="code" href="structhostdependency__struct.html">hostdependency</a> *<a class="code" href="checks_8c.html#ad605bbee38fc009d01d4e245fe74e85d">hostdependency_list</a>;
<a name="l00082"></a>00082 extern <a class="code" href="structservicedependency__struct.html">servicedependency</a> *<a class="code" href="checks_8c.html#a42367b9675e5559520ccd1997e4e4bad">servicedependency_list</a>;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 extern <span class="keywordtype">char</span> *<a class="code" href="commands_8c.html#ac269be8b91ae4b24df48de5d8ad7e7a7">config_file</a>;
<a name="l00085"></a>00085 extern <a class="code" href="structsched__info__struct.html">sched_info</a> <a class="code" href="base_2config_8c.html#a756e2bda1d1cf5aaf7a90a145b82543a">scheduling_info</a>;
<a name="l00086"></a>00086 extern <span class="keywordtype">char</span> *<a class="code" href="broker_8c.html#a2cd88e2da654d6d1d2c52e79d0174109">global_host_event_handler</a>;
<a name="l00087"></a>00087 extern <span class="keywordtype">char</span> *<a class="code" href="broker_8c.html#a0073f89db72fa9c3474b5a1327382784">global_service_event_handler</a>;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 extern <span class="keywordtype">int</span> __icinga_object_structure_version;
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 extern <span class="keywordtype">int</span> <a class="code" href="ido2db_8c.html#af8f2d7fa6511db9cf490b81cbe39ab31">use_ssl</a>;
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="idomod_8c.html#af9ba9c9a46e6c87b6f8de3ccfcea7306">00093</a> <span class="preprocessor">#define DEBUG_IDO 1</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span>
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 <span class="comment">/* this function gets called when the module is loaded by the event broker */</span>
<a name="l00098"></a><a class="code" href="idomod_8c.html#accf4debbe2c863d0c5e347916138e8a3">00098</a> <span class="keywordtype">int</span> <a class="code" href="helloworld_8c.html#ad48deeae24b4bf92effcf5dede43fec8">nebmodule_init</a>(<span class="keywordtype">int</span> flags, <span class="keywordtype">char</span> *args, <span class="keywordtype">void</span> *handle){
<a name="l00099"></a>00099         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l00100"></a>00100 
<a name="l00101"></a>00101         <span class="comment">/* save our handle */</span>
<a name="l00102"></a>00102         <a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>=handle;
<a name="l00103"></a>00103 
<a name="l00104"></a>00104         <span class="comment">/* log module info to the Icinga log file */</span>
<a name="l00105"></a>00105         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer, <span class="keyword">sizeof</span>(temp_buffer)-1, <span class="stringliteral">&quot;idomod: %s %s (%s) Copyright (c) 2005-2008 Ethan Galstad (nagios@nagios.org), Copyright (c) 2009-2011 Icinga Development Team (http://www.icinga.org))&quot;</span>, <a class="code" href="idomod_8h.html#afad363ccce8cc4a894b3cd3efdafea08">IDOMOD_NAME</a>, <a class="code" href="idomod_8h.html#abd9fb5b81223002dc4c1634b1129c33f">IDOMOD_VERSION</a>, <a class="code" href="idomod_8h.html#a7a7a014657631215714f3fbe09157c04">IDOMOD_DATE</a>);
<a name="l00106"></a>00106         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l00107"></a>00107         <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00108"></a>00108 
<a name="l00109"></a>00109         <span class="comment">/* check Icinga object structure version */</span>
<a name="l00110"></a>00110         <span class="keywordflow">if</span>(<a class="code" href="idomod_8h.html#ab3cc126b412f71fd110a547f0d3c6f13">idomod_check_icinga_object_version</a>()==<a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>)
<a name="l00111"></a>00111                 <span class="keywordflow">return</span> -1;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113         <span class="comment">/* process arguments */</span>
<a name="l00114"></a>00114         <span class="keywordflow">if</span>(<a class="code" href="idomod_8h.html#afc2a822ad66cb8f4bef523255f69dffd">idomod_process_module_args</a>(args)==<a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>){
<a name="l00115"></a>00115                 <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(<span class="stringliteral">&quot;idomod: An error occurred while attempting to process module arguments.&quot;</span>,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00116"></a>00116                 <span class="keywordflow">return</span> -1;
<a name="l00117"></a>00117                 }
<a name="l00118"></a>00118 
<a name="l00119"></a>00119         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>==IDO_SINK_UNIXSOCKET &amp;&amp; use_ssl == IDO_TRUE){
<a name="l00120"></a>00120                 <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(<span class="stringliteral">&quot;idomod: use_ssl=1 while using socket_type=unix is not allowed. Aborting...&quot;</span>,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00121"></a>00121                 <span class="keywordflow">return</span> -1;
<a name="l00122"></a>00122                 }
<a name="l00123"></a>00123 
<a name="l00124"></a>00124         <span class="comment">/* do some initialization stuff... */</span>
<a name="l00125"></a>00125         <span class="keywordflow">if</span>(<a class="code" href="idomod_8h.html#adb9e5bd95c75a3ec1645aeab97fc13c0">idomod_init</a>()==<a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>){
<a name="l00126"></a>00126                 <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(<span class="stringliteral">&quot;idomod: An error occurred while attempting to initialize.&quot;</span>,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00127"></a>00127                 <span class="keywordflow">return</span> -1;
<a name="l00128"></a>00128                 }
<a name="l00129"></a>00129 
<a name="l00130"></a>00130         <span class="keywordflow">return</span> 0;
<a name="l00131"></a>00131         }
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 <span class="comment">/* this function gets called when the module is unloaded by the event broker */</span>
<a name="l00135"></a><a class="code" href="idomod_8c.html#ab8f0823e14f460f9d90db62097a5f8cb">00135</a> <span class="keywordtype">int</span> <a class="code" href="helloworld_8c.html#ab8f0823e14f460f9d90db62097a5f8cb">nebmodule_deinit</a>(<span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> reason){
<a name="l00136"></a>00136         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l00137"></a>00137 
<a name="l00138"></a>00138         <span class="comment">/* do some shutdown stuff... */</span>
<a name="l00139"></a>00139         <a class="code" href="idomod_8h.html#abc7765aa7a178b8066c741080c0764f4">idomod_deinit</a>();
<a name="l00140"></a>00140 
<a name="l00141"></a>00141         <span class="comment">/* log a message to the Icinga log file */</span>
<a name="l00142"></a>00142         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1,<span class="stringliteral">&quot;idomod: Shutdown complete.\n&quot;</span>);
<a name="l00143"></a>00143         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l00144"></a>00144         <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00145"></a>00145 
<a name="l00146"></a>00146         <span class="keywordflow">return</span> 0;
<a name="l00147"></a>00147         }
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 <span class="comment">/****************************************************************************/</span>
<a name="l00152"></a>00152 <span class="comment">/* INIT/DEINIT FUNCTIONS                                                    */</span>
<a name="l00153"></a>00153 <span class="comment">/****************************************************************************/</span>
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="comment">/* checks to make sure Icinga object version matches what we know about */</span>
<a name="l00156"></a><a class="code" href="idomod_8c.html#ab3cc126b412f71fd110a547f0d3c6f13">00156</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#ab3cc126b412f71fd110a547f0d3c6f13">idomod_check_icinga_object_version</a>(<span class="keywordtype">void</span>){
<a name="l00157"></a>00157         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l00158"></a>00158 
<a name="l00159"></a>00159         <span class="keywordflow">if</span>(__icinga_object_structure_version!=<a class="code" href="objects_8h.html#a47e1946f21becf4f8d4efc333a70e3de">CURRENT_OBJECT_STRUCTURE_VERSION</a>){
<a name="l00160"></a>00160 
<a name="l00161"></a>00161                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1,<span class="stringliteral">&quot;idomod: I&#39;ve been compiled with support for revision %d of the internal Icinga object structures, but the Icinga daemon is currently using revision %d.  I&#39;m going to unload so I don&#39;t cause any problems...\n&quot;</span>,<a class="code" href="objects_8h.html#a47e1946f21becf4f8d4efc333a70e3de">CURRENT_OBJECT_STRUCTURE_VERSION</a>,__icinga_object_structure_version);
<a name="l00162"></a>00162                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l00163"></a>00163                 <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00164"></a>00164 
<a name="l00165"></a>00165                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00166"></a>00166                 }
<a name="l00167"></a>00167 
<a name="l00168"></a>00168         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00169"></a>00169         }
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="comment">/* performs some initialization stuff */</span>
<a name="l00173"></a><a class="code" href="idomod_8c.html#adb9e5bd95c75a3ec1645aeab97fc13c0">00173</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#adb9e5bd95c75a3ec1645aeab97fc13c0">idomod_init</a>(<span class="keywordtype">void</span>){
<a name="l00174"></a>00174         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l00175"></a>00175         time_t <a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177         <span class="comment">/* open debug log */</span>
<a name="l00178"></a>00178         <a class="code" href="idomod_8c.html#a923f986e44e7431e73cebaf9555a611e">idomod_open_debug_log</a>();
<a name="l00179"></a>00179 
<a name="l00180"></a>00180         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_init() start\n&quot;</span>);
<a name="l00181"></a>00181 
<a name="l00182"></a>00182         <span class="comment">/* initialize some vars (needed for restarts of daemon - why, if the module gets reloaded ???) */</span>
<a name="l00183"></a>00183         <a class="code" href="idomod_8c.html#a44806c1340939a45db528d8f6d45c5d5">idomod_sink_is_open</a>=<a class="code" href="module_2idoutils_2include_2common_8h.html#af609ab4b282d85d9fab8025f5b2b66c1">IDO_FALSE</a>;
<a name="l00184"></a>00184         <a class="code" href="idomod_8c.html#a1bdeb13cd3160742454623192f642f12">idomod_sink_previously_open</a>=<a class="code" href="module_2idoutils_2include_2common_8h.html#af609ab4b282d85d9fab8025f5b2b66c1">IDO_FALSE</a>;
<a name="l00185"></a>00185         idomod_sink_fd=-1;
<a name="l00186"></a>00186         <a class="code" href="idomod_8c.html#a93d353a249246c7f80134b80fe73dc6b">idomod_sink_last_reconnect_attempt</a>=0L;
<a name="l00187"></a>00187         <a class="code" href="idomod_8c.html#aedfda807ec13dbb2f3557ebc74d559e3">idomod_sink_last_reconnect_warning</a>=0L;
<a name="l00188"></a>00188         <a class="code" href="idomod_8c.html#aaa97b4749745906c590dffeb64906d47">idomod_allow_sink_activity</a>=<a class="code" href="module_2idoutils_2include_2common_8h.html#a1fa5946b37f7219aef0f13d921804a2f">IDO_TRUE</a>;
<a name="l00189"></a>00189 
<a name="l00190"></a>00190         <span class="comment">/* initialize data sink buffer */</span>
<a name="l00191"></a>00191         <a class="code" href="idomod_8h.html#af6a98ed6f933f1d26d10f35ff2a5bd95">idomod_sink_buffer_init</a>(&amp;sinkbuf,idomod_sink_buffer_slots);
<a name="l00192"></a>00192 
<a name="l00193"></a>00193         <span class="comment">/* read unprocessed data from buffer file */</span>
<a name="l00194"></a>00194         <a class="code" href="idomod_8h.html#ad2bb93a84d703b393b621b9131a0b299">idomod_load_unprocessed_data</a>(<a class="code" href="idomod_8c.html#a8dba628ff0ac57f64e26e92f004150cc">idomod_buffer_file</a>);
<a name="l00195"></a>00195 
<a name="l00196"></a>00196         <span class="comment">/* open data sink and say hello */</span>
<a name="l00197"></a>00197         <span class="comment">/* 05/04/06 - modified to flush buffer items that may have been read in from file */</span>
<a name="l00198"></a>00198         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(<span class="stringliteral">&quot;\n&quot;</span>,IDO_FALSE,IDO_TRUE);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200         <span class="comment">/* register callbacks */</span>
<a name="l00201"></a>00201         <span class="keywordflow">if</span>(<a class="code" href="idomod_8h.html#a315a4f1bcd58ca41f7f0ad19a1a4d4e7">idomod_register_callbacks</a>()==<a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>)
<a name="l00202"></a>00202                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00203"></a>00203 
<a name="l00204"></a>00204         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>==<a class="code" href="io_8h.html#a07fbf567fde2d9038800fb1ba00f4dda">IDO_SINK_FILE</a>){
<a name="l00205"></a>00205 
<a name="l00206"></a>00206                 <span class="comment">/* make sure we have a rotation command defined... */</span>
<a name="l00207"></a>00207                 <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#a740a0c42fd3ab7e67484b6a20f7034fd">idomod_sink_rotation_command</a>==NULL){
<a name="l00208"></a>00208 
<a name="l00209"></a>00209                         <span class="comment">/* log an error message to the Icinga log file */</span>
<a name="l00210"></a>00210                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1,<span class="stringliteral">&quot;idomod: Warning - No file rotation command defined.\n&quot;</span>);
<a name="l00211"></a>00211                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l00212"></a>00212                         <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00213"></a>00213                         }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215                 <span class="comment">/* schedule a file rotation event */</span>
<a name="l00216"></a>00216                 <span class="keywordflow">else</span>{
<a name="l00217"></a>00217                         time(&amp;current_time);
<a name="l00218"></a>00218                         <a class="code" href="events_8c.html#a6fdca757563a53ea1d9f282995a05d71">schedule_new_event</a>(<a class="code" href="icinga_8h.html#a3a2267fca063eb383b6f637422ed2cca">EVENT_USER_FUNCTION</a>,<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,current_time+idomod_sink_rotation_interval,<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,idomod_sink_rotation_interval,NULL,<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,(<span class="keywordtype">void</span> *)<a class="code" href="idomod_8h.html#a8a4a76b19efea7974e14a228ff224824">idomod_rotate_sink_file</a>,NULL,0);
<a name="l00219"></a>00219                 }
<a name="l00220"></a>00220         }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_init() end\n&quot;</span>);
<a name="l00223"></a>00223 
<a name="l00224"></a>00224         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00225"></a>00225         }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="comment">/* performs some shutdown stuff */</span>
<a name="l00229"></a><a class="code" href="idomod_8c.html#abc7765aa7a178b8066c741080c0764f4">00229</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#abc7765aa7a178b8066c741080c0764f4">idomod_deinit</a>(<span class="keywordtype">void</span>){
<a name="l00230"></a>00230 
<a name="l00231"></a>00231         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_deinit() start\n&quot;</span>);
<a name="l00232"></a>00232 
<a name="l00233"></a>00233         <span class="comment">/* deregister callbacks */</span>
<a name="l00234"></a>00234         <a class="code" href="idomod_8h.html#a11cf8a247e7757c459c1d05f91a5face">idomod_deregister_callbacks</a>();
<a name="l00235"></a>00235 
<a name="l00236"></a>00236         <span class="comment">/* save unprocessed data to buffer file */</span>
<a name="l00237"></a>00237         <a class="code" href="idomod_8h.html#a3d2bc078731e933c81f0789b7e6199c0">idomod_save_unprocessed_data</a>(<a class="code" href="idomod_8c.html#a8dba628ff0ac57f64e26e92f004150cc">idomod_buffer_file</a>);
<a name="l00238"></a>00238 
<a name="l00239"></a>00239         <span class="comment">/* clear sink buffer */</span>
<a name="l00240"></a>00240         <a class="code" href="idomod_8h.html#a6e8cc9c74448c63dda20ecfd8db76131">idomod_sink_buffer_deinit</a>(&amp;sinkbuf);
<a name="l00241"></a>00241 
<a name="l00242"></a>00242         <span class="comment">/* close data sink */</span>
<a name="l00243"></a>00243         <a class="code" href="idomod_8h.html#a8f0987fb1a6c851b4963dfc0b816b333">idomod_goodbye_sink</a>();
<a name="l00244"></a>00244         <a class="code" href="idomod_8h.html#acad4c99691b0212db1ba04cbc8e31147">idomod_close_sink</a>();
<a name="l00245"></a>00245 
<a name="l00246"></a>00246         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_deinit() end\n&quot;</span>);
<a name="l00247"></a>00247 
<a name="l00248"></a>00248         <span class="comment">/* close debug log */</span>
<a name="l00249"></a>00249         <a class="code" href="idomod_8c.html#a001d10e51bce600e88b5b65493512b78">idomod_close_debug_log</a>();
<a name="l00250"></a>00250 
<a name="l00251"></a>00251         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00252"></a>00252         }
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 
<a name="l00256"></a>00256 <span class="comment">/****************************************************************************/</span>
<a name="l00257"></a>00257 <span class="comment">/* CONFIG FUNCTIONS                                                         */</span>
<a name="l00258"></a>00258 <span class="comment">/****************************************************************************/</span>
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 <span class="comment">/* process arguments that were passed to the module at startup */</span>
<a name="l00261"></a><a class="code" href="idomod_8c.html#a3e87ca0aa498df551f586181d1d6d7e9">00261</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#afc2a822ad66cb8f4bef523255f69dffd">idomod_process_module_args</a>(<span class="keywordtype">char</span> *args){
<a name="l00262"></a>00262         <span class="keywordtype">char</span> *ptr=NULL;
<a name="l00263"></a>00263         <span class="keywordtype">char</span> **arglist=NULL;
<a name="l00264"></a>00264         <span class="keywordtype">char</span> **newarglist=NULL;
<a name="l00265"></a>00265         <span class="keywordtype">int</span> argcount=0;
<a name="l00266"></a>00266         <span class="keywordtype">int</span> memblocks=64;
<a name="l00267"></a>00267         <span class="keywordtype">int</span> arg=0;
<a name="l00268"></a>00268 
<a name="l00269"></a>00269         <span class="keywordflow">if</span>(args==NULL)
<a name="l00270"></a>00270                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00271"></a>00271 
<a name="l00272"></a>00272 
<a name="l00273"></a>00273         <span class="comment">/* get all the var/val argument pairs */</span>
<a name="l00274"></a>00274 
<a name="l00275"></a>00275         <span class="comment">/* allocate some memory */</span>
<a name="l00276"></a>00276         <span class="keywordflow">if</span>((arglist=(<span class="keywordtype">char</span> **)malloc(memblocks*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span> **)))==NULL)
<a name="l00277"></a>00277                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00278"></a>00278 
<a name="l00279"></a>00279         <span class="comment">/* process all args */</span>
<a name="l00280"></a>00280         ptr=strtok(args,<span class="stringliteral">&quot;,&quot;</span>);
<a name="l00281"></a>00281         <span class="keywordflow">while</span>(ptr){
<a name="l00282"></a>00282 
<a name="l00283"></a>00283                 <span class="comment">/* save the argument */</span>
<a name="l00284"></a>00284                 arglist[argcount++]=strdup(ptr);
<a name="l00285"></a>00285 
<a name="l00286"></a>00286                 <span class="comment">/* allocate more memory if needed */</span>
<a name="l00287"></a>00287                 <span class="keywordflow">if</span>(!(argcount%memblocks)){
<a name="l00288"></a>00288                         <span class="keywordflow">if</span>((newarglist=(<span class="keywordtype">char</span> **)realloc(arglist,(argcount+memblocks)*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span> **)))==NULL){
<a name="l00289"></a>00289                                 <span class="keywordflow">for</span>(arg=0;arg&lt;argcount;arg++)
<a name="l00290"></a>00290                                         free(arglist[argcount]);
<a name="l00291"></a>00291                                 free(arglist);
<a name="l00292"></a>00292                                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00293"></a>00293                                 }
<a name="l00294"></a>00294                         <span class="keywordflow">else</span>
<a name="l00295"></a>00295                                 arglist=newarglist;
<a name="l00296"></a>00296                         }
<a name="l00297"></a>00297 
<a name="l00298"></a>00298                 ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>);
<a name="l00299"></a>00299                 }
<a name="l00300"></a>00300 
<a name="l00301"></a>00301         <span class="comment">/* terminate the arg list */</span>
<a name="l00302"></a>00302         arglist[argcount]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l00303"></a>00303 
<a name="l00304"></a>00304 
<a name="l00305"></a>00305         <span class="comment">/* process each argument */</span>
<a name="l00306"></a>00306         <span class="keywordflow">for</span>(arg=0;arg&lt;argcount;arg++){
<a name="l00307"></a>00307                 <span class="keywordflow">if</span>(<a class="code" href="idomod_8h.html#a883f73dfefafb2348479b04e262dee35">idomod_process_config_var</a>(arglist[arg])==<a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>){
<a name="l00308"></a>00308                         <span class="keywordflow">for</span>(arg=0;arg&lt;argcount;arg++)
<a name="l00309"></a>00309                                 free(arglist[arg]);
<a name="l00310"></a>00310                         free(arglist);
<a name="l00311"></a>00311                         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00312"></a>00312                         }
<a name="l00313"></a>00313                 }
<a name="l00314"></a>00314 
<a name="l00315"></a>00315         <span class="comment">/* free allocated memory */</span>
<a name="l00316"></a>00316         <span class="keywordflow">for</span>(arg=0;arg&lt;argcount;arg++)
<a name="l00317"></a>00317                 free(arglist[arg]);
<a name="l00318"></a>00318         free(arglist);
<a name="l00319"></a>00319 
<a name="l00320"></a>00320         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00321"></a>00321         }
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 
<a name="l00324"></a>00324 <span class="comment">/* process all config vars in a file */</span>
<a name="l00325"></a><a class="code" href="idomod_8c.html#a97c31bc3fcaa7b62fd40c7b47f167425">00325</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a20f221271b8d10d67b1a135461536a91">idomod_process_config_file</a>(<span class="keywordtype">char</span> *filename){
<a name="l00326"></a>00326         <a class="code" href="structido__mmapfile__struct.html">ido_mmapfile</a> *thefile=NULL;
<a name="l00327"></a>00327         <span class="keywordtype">char</span> *buf=NULL;
<a name="l00328"></a>00328         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l00329"></a>00329         <span class="keywordtype">int</span> result=<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00330"></a>00330 
<a name="l00331"></a>00331         <span class="comment">/* open the file */</span>
<a name="l00332"></a>00332         <span class="keywordflow">if</span>((thefile=<a class="code" href="io_8h.html#a0cab4680c7e760a25d7b4e21fd251c19">ido_mmap_fopen</a>(filename))==NULL){
<a name="l00333"></a>00333                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1,<span class="stringliteral">&quot;idomod: Unable to open configuration file %s: %s\n&quot;</span>, filename, strerror(errno));
<a name="l00334"></a>00334                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l00335"></a>00335                 <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00336"></a>00336                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00337"></a>00337         }
<a name="l00338"></a>00338 
<a name="l00339"></a>00339         <span class="comment">/* process each line of the file */</span>
<a name="l00340"></a>00340         <span class="keywordflow">while</span>((buf=<a class="code" href="io_8h.html#a320945b0735c887009ad8c82c8cdc790">ido_mmap_fgets</a>(thefile))){
<a name="l00341"></a>00341 
<a name="l00342"></a>00342                 <span class="comment">/* skip comments */</span>
<a name="l00343"></a>00343                 <span class="keywordflow">if</span>(buf[0]==<span class="charliteral">&#39;#&#39;</span>){
<a name="l00344"></a>00344                         free(buf);
<a name="l00345"></a>00345                         <span class="keywordflow">continue</span>;
<a name="l00346"></a>00346                         }
<a name="l00347"></a>00347 
<a name="l00348"></a>00348                 <span class="comment">/* skip blank lines */</span>
<a name="l00349"></a>00349                 <span class="keywordflow">if</span>(!strcmp(buf,<span class="stringliteral">&quot;&quot;</span>)){
<a name="l00350"></a>00350                         free(buf);
<a name="l00351"></a>00351                         <span class="keywordflow">continue</span>;
<a name="l00352"></a>00352                         }
<a name="l00353"></a>00353 
<a name="l00354"></a>00354                 <span class="comment">/* process the variable */</span>
<a name="l00355"></a>00355                 result=<a class="code" href="idomod_8h.html#a883f73dfefafb2348479b04e262dee35">idomod_process_config_var</a>(buf);
<a name="l00356"></a>00356 
<a name="l00357"></a>00357                 <span class="comment">/* free memory */</span>
<a name="l00358"></a>00358                 free(buf);
<a name="l00359"></a>00359 
<a name="l00360"></a>00360                 <span class="keywordflow">if</span>(result!=<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l00361"></a>00361                         <span class="keywordflow">break</span>;
<a name="l00362"></a>00362                 }
<a name="l00363"></a>00363 
<a name="l00364"></a>00364         <span class="comment">/* close the file */</span>
<a name="l00365"></a>00365         <a class="code" href="io_8h.html#adf9db5340ae5d215489aab3642daccaf">ido_mmap_fclose</a>(thefile);
<a name="l00366"></a>00366 
<a name="l00367"></a>00367         <span class="keywordflow">return</span> result;
<a name="l00368"></a>00368         }
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 <span class="comment">/* process a single module config variable */</span>
<a name="l00372"></a><a class="code" href="idomod_8c.html#ad2a857669fdc474302ca045947852f63">00372</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a883f73dfefafb2348479b04e262dee35">idomod_process_config_var</a>(<span class="keywordtype">char</span> *arg){
<a name="l00373"></a>00373         <span class="keywordtype">char</span> *var=NULL;
<a name="l00374"></a>00374         <span class="keywordtype">char</span> *val=NULL;
<a name="l00375"></a>00375 
<a name="l00376"></a>00376         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l00377"></a>00377 
<a name="l00378"></a>00378         <span class="comment">/* split var/val */</span>
<a name="l00379"></a>00379         var=strtok(arg,<span class="stringliteral">&quot;=&quot;</span>);
<a name="l00380"></a>00380         val=strtok(NULL,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00381"></a>00381 
<a name="l00382"></a>00382         <span class="comment">/* skip incomplete var/val pairs */</span>
<a name="l00383"></a>00383         <span class="keywordflow">if</span>(var==NULL || val==NULL)
<a name="l00384"></a>00384                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00385"></a>00385 
<a name="l00386"></a>00386         <span class="comment">/* strip var/val */</span>
<a name="l00387"></a>00387         <a class="code" href="utils_8h.html#a4d11582f9df7d1cae65190b09a949cd5">idomod_strip</a>(var);
<a name="l00388"></a>00388         <a class="code" href="utils_8h.html#a4d11582f9df7d1cae65190b09a949cd5">idomod_strip</a>(val);
<a name="l00389"></a>00389 
<a name="l00390"></a>00390         <span class="comment">/* process the variable... */</span>
<a name="l00391"></a>00391 
<a name="l00392"></a>00392         <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;config_file&quot;</span>))
<a name="l00393"></a>00393                 <span class="keywordflow">return</span> <a class="code" href="idomod_8h.html#a20f221271b8d10d67b1a135461536a91">idomod_process_config_file</a>(val);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;instance_name&quot;</span>))
<a name="l00396"></a>00396                 <a class="code" href="idomod_8c.html#a54ce5635ebc7afa28129daa8fd42f03d">idomod_instance_name</a>=strdup(val);
<a name="l00397"></a>00397 
<a name="l00398"></a>00398         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;output&quot;</span>))
<a name="l00399"></a>00399                 <a class="code" href="idomod_8c.html#a8b6f6aac3251be043e622e8eb498a6ab">idomod_sink_name</a>=strdup(val);
<a name="l00400"></a>00400 
<a name="l00401"></a>00401         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;output_type&quot;</span>)){
<a name="l00402"></a>00402                 <span class="keywordflow">if</span>(!strcmp(val,<span class="stringliteral">&quot;file&quot;</span>))
<a name="l00403"></a>00403                         <a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>=<a class="code" href="io_8h.html#a07fbf567fde2d9038800fb1ba00f4dda">IDO_SINK_FILE</a>;
<a name="l00404"></a>00404                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(val,<span class="stringliteral">&quot;tcpsocket&quot;</span>))
<a name="l00405"></a>00405                         <a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>=<a class="code" href="io_8h.html#a55998c4058fa96daf21dc2ef39120d39">IDO_SINK_TCPSOCKET</a>;
<a name="l00406"></a>00406                 <span class="keywordflow">else</span>
<a name="l00407"></a>00407                         <a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>=<a class="code" href="io_8h.html#a607ea9f9be1d29bfce180bee814534f3">IDO_SINK_UNIXSOCKET</a>;
<a name="l00408"></a>00408                 }
<a name="l00409"></a>00409 
<a name="l00410"></a>00410         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;tcp_port&quot;</span>))
<a name="l00411"></a>00411                 <a class="code" href="idomod_8c.html#aa748d0af47ea5405a8776d44584ee342">idomod_sink_tcp_port</a>=atoi(val);
<a name="l00412"></a>00412 
<a name="l00413"></a>00413         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;output_buffer_items&quot;</span>))
<a name="l00414"></a>00414                 idomod_sink_buffer_slots=strtoul(val,NULL,0);
<a name="l00415"></a>00415 
<a name="l00416"></a>00416         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;reconnect_interval&quot;</span>))
<a name="l00417"></a>00417                 idomod_sink_reconnect_interval=strtoul(val,NULL,0);
<a name="l00418"></a>00418 
<a name="l00419"></a>00419         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;reconnect_warning_interval&quot;</span>))
<a name="l00420"></a>00420                 idomod_sink_reconnect_warning_interval=strtoul(val,NULL,0);
<a name="l00421"></a>00421 
<a name="l00422"></a>00422         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;file_rotation_interval&quot;</span>))
<a name="l00423"></a>00423                 idomod_sink_rotation_interval=strtoul(val,NULL,0);
<a name="l00424"></a>00424 
<a name="l00425"></a>00425         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;file_rotation_command&quot;</span>))
<a name="l00426"></a>00426                 <a class="code" href="idomod_8c.html#a740a0c42fd3ab7e67484b6a20f7034fd">idomod_sink_rotation_command</a>=strdup(val);
<a name="l00427"></a>00427 
<a name="l00428"></a>00428         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;file_rotation_timeout&quot;</span>))
<a name="l00429"></a>00429                 idomod_sink_rotation_timeout=atoi(val);
<a name="l00430"></a>00430 
<a name="l00431"></a>00431         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;data_processing_options&quot;</span>)){
<a name="l00432"></a>00432                 <span class="keywordflow">if</span>(!strcmp(val,<span class="stringliteral">&quot;-1&quot;</span>))
<a name="l00433"></a>00433                         <a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a>=<a class="code" href="idomod_8h.html#a50a9fa0e6fd66bbd57b155821f60cc66">IDOMOD_PROCESS_EVERYTHING</a>;
<a name="l00434"></a>00434                 <span class="keywordflow">else</span>
<a name="l00435"></a>00435                         <a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a>=strtoul(val,NULL,0);
<a name="l00436"></a>00436                 }
<a name="l00437"></a>00437 
<a name="l00438"></a>00438         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;config_output_options&quot;</span>))
<a name="l00439"></a>00439                 <a class="code" href="idomod_8c.html#aab6b88dcd16b21e5ff20f43422352494">idomod_config_output_options</a>=atoi(val);
<a name="l00440"></a>00440 
<a name="l00441"></a>00441         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;buffer_file&quot;</span>))
<a name="l00442"></a>00442                 <a class="code" href="idomod_8c.html#a8dba628ff0ac57f64e26e92f004150cc">idomod_buffer_file</a>=strdup(val);
<a name="l00443"></a>00443 
<a name="l00444"></a>00444         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;debug_file&quot;</span>)){
<a name="l00445"></a>00445                 <span class="keywordflow">if</span>((<a class="code" href="idomod_8c.html#a0e5a333ba1eed57fb2d1818259c03022">idomod_debug_file</a>=strdup(val))==NULL)
<a name="l00446"></a>00446                         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00447"></a>00447                 }
<a name="l00448"></a>00448         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;debug_level&quot;</span>))
<a name="l00449"></a>00449                 <a class="code" href="idomod_8c.html#a4fb3e59ec9d3a1f5f401eafd0f6d492a">idomod_debug_level</a>=atoi(val);
<a name="l00450"></a>00450         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;debug_verbosity&quot;</span>))
<a name="l00451"></a>00451                 <a class="code" href="idomod_8c.html#ad7f4adc09694c36dba1b2d467e217cc8">idomod_debug_verbosity</a>=atoi(val);
<a name="l00452"></a>00452         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;max_debug_file_size&quot;</span>))
<a name="l00453"></a>00453                 <a class="code" href="idomod_8c.html#a1426eac4f55c444bf56d9196623cf47d">idomod_max_debug_file_size</a>=strtoul(val,NULL,0);
<a name="l00454"></a>00454 
<a name="l00455"></a>00455         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;use_ssl&quot;</span>)){
<a name="l00456"></a>00456                 <span class="keywordflow">if</span> (strlen(val) == 1) {
<a name="l00457"></a>00457                         <span class="keywordflow">if</span> (isdigit((<span class="keywordtype">int</span>)val[strlen(val)-1]) != IDO_FALSE)
<a name="l00458"></a>00458                                 use_ssl = atoi(val);
<a name="l00459"></a>00459                         <span class="keywordflow">else</span>
<a name="l00460"></a>00460                                 use_ssl = 0;
<a name="l00461"></a>00461                         }
<a name="l00462"></a>00462         }
<a name="l00463"></a>00463 
<a name="l00464"></a>00464         <span class="keywordflow">else</span> {
<a name="l00465"></a>00465                 <span class="comment">/* log an error message to the Icinga log file */</span>
<a name="l00466"></a>00466                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1,<span class="stringliteral">&quot;idomod: ERROR - Unknown config file variable &#39;%s&#39;.\n&quot;</span>, var);
<a name="l00467"></a>00467                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l00468"></a>00468                 <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00469"></a>00469 
<a name="l00470"></a>00470                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00471"></a>00471         }
<a name="l00472"></a>00472 
<a name="l00473"></a>00473         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00474"></a>00474         }
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 
<a name="l00477"></a>00477 
<a name="l00478"></a>00478 <span class="comment">/****************************************************************************/</span>
<a name="l00479"></a>00479 <span class="comment">/* UTILITY FUNCTIONS                                                        */</span>
<a name="l00480"></a>00480 <span class="comment">/****************************************************************************/</span>
<a name="l00481"></a>00481 
<a name="l00482"></a>00482 <span class="comment">/* writes a string to Icinga logs */</span>
<a name="l00483"></a><a class="code" href="idomod_8c.html#aebaa00b2af991108413cc163c08790a0">00483</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(<span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> flags){
<a name="l00484"></a>00484 
<a name="l00485"></a>00485         <span class="keywordflow">if</span>(buf==NULL)
<a name="l00486"></a>00486                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00487"></a>00487 
<a name="l00488"></a>00488         <span class="keywordflow">return</span> <a class="code" href="logging_8c.html#a2666b989ff5a55fa516aab49511b3742">write_to_all_logs</a>(buf,flags);
<a name="l00489"></a>00489         }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 
<a name="l00493"></a>00493 <span class="comment">/****************************************************************************/</span>
<a name="l00494"></a>00494 <span class="comment">/* DATA SINK FUNCTIONS                                                      */</span>
<a name="l00495"></a>00495 <span class="comment">/****************************************************************************/</span>
<a name="l00496"></a>00496 
<a name="l00497"></a>00497 <span class="comment">/* (re)open data sink */</span>
<a name="l00498"></a><a class="code" href="idomod_8c.html#a1323d6bd86d26d3050d6c41b3a1216f9">00498</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a1323d6bd86d26d3050d6c41b3a1216f9">idomod_open_sink</a>(<span class="keywordtype">void</span>){
<a name="l00499"></a>00499         <span class="keywordtype">int</span> flags=0;
<a name="l00500"></a>00500 
<a name="l00501"></a>00501         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_open_sink() start\n&quot;</span>);
<a name="l00502"></a>00502 
<a name="l00503"></a>00503         <span class="comment">/* sink is already open... */</span>
<a name="l00504"></a>00504         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#a44806c1340939a45db528d8f6d45c5d5">idomod_sink_is_open</a>==IDO_TRUE)
<a name="l00505"></a>00505                 <span class="keywordflow">return</span> <a class="code" href="idomod_8c.html#a1707bc9d6ba98682522c726dfade0e9a">idomod_sink_fd</a>;
<a name="l00506"></a>00506 
<a name="l00507"></a>00507         <span class="comment">/* try and open sink */</span>
<a name="l00508"></a>00508         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>==<a class="code" href="io_8h.html#a07fbf567fde2d9038800fb1ba00f4dda">IDO_SINK_FILE</a>)
<a name="l00509"></a>00509                 flags=O_WRONLY|O_CREAT|O_APPEND;
<a name="l00510"></a>00510         <span class="keywordflow">if</span>(<a class="code" href="io_8h.html#ad77fc02daef7fdb4004a927d900f05d3">ido_sink_open</a>(<a class="code" href="idomod_8c.html#a8b6f6aac3251be043e622e8eb498a6ab">idomod_sink_name</a>,0,<a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>,<a class="code" href="idomod_8c.html#aa748d0af47ea5405a8776d44584ee342">idomod_sink_tcp_port</a>,flags,&amp;idomod_sink_fd)==<a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>)
<a name="l00511"></a>00511                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00512"></a>00512 
<a name="l00513"></a>00513         <span class="comment">/* mark the sink as being open */</span>
<a name="l00514"></a>00514         <a class="code" href="idomod_8c.html#a44806c1340939a45db528d8f6d45c5d5">idomod_sink_is_open</a>=<a class="code" href="module_2idoutils_2include_2common_8h.html#a1fa5946b37f7219aef0f13d921804a2f">IDO_TRUE</a>;
<a name="l00515"></a>00515 
<a name="l00516"></a>00516         <span class="comment">/* mark the sink as having once been open */</span>
<a name="l00517"></a>00517         <a class="code" href="idomod_8c.html#a1bdeb13cd3160742454623192f642f12">idomod_sink_previously_open</a>=<a class="code" href="module_2idoutils_2include_2common_8h.html#a1fa5946b37f7219aef0f13d921804a2f">IDO_TRUE</a>;
<a name="l00518"></a>00518 
<a name="l00519"></a>00519         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_open_sink() end\n&quot;</span>);
<a name="l00520"></a>00520 
<a name="l00521"></a>00521         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00522"></a>00522         }
<a name="l00523"></a>00523 
<a name="l00524"></a>00524 
<a name="l00525"></a>00525 <span class="comment">/* (re)open data sink */</span>
<a name="l00526"></a><a class="code" href="idomod_8c.html#acad4c99691b0212db1ba04cbc8e31147">00526</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#acad4c99691b0212db1ba04cbc8e31147">idomod_close_sink</a>(<span class="keywordtype">void</span>){
<a name="l00527"></a>00527 
<a name="l00528"></a>00528         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_close_sink() start\n&quot;</span>);
<a name="l00529"></a>00529 
<a name="l00530"></a>00530         <span class="comment">/* sink is already closed... */</span>
<a name="l00531"></a>00531         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#a44806c1340939a45db528d8f6d45c5d5">idomod_sink_is_open</a>==IDO_FALSE)
<a name="l00532"></a>00532                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00533"></a>00533 
<a name="l00534"></a>00534         <span class="comment">/* flush sink */</span>
<a name="l00535"></a>00535         <a class="code" href="io_8h.html#a644e920fc39e9acff66d4baac5ec18b9">ido_sink_flush</a>(idomod_sink_fd);
<a name="l00536"></a>00536 
<a name="l00537"></a>00537         <span class="comment">/* close sink */</span>
<a name="l00538"></a>00538         <a class="code" href="io_8h.html#a738e24c6106050500323b84c1a6f1f68">ido_sink_close</a>(idomod_sink_fd);
<a name="l00539"></a>00539 
<a name="l00540"></a>00540         <span class="comment">/* mark the sink as being closed */</span>
<a name="l00541"></a>00541         <a class="code" href="idomod_8c.html#a44806c1340939a45db528d8f6d45c5d5">idomod_sink_is_open</a>=<a class="code" href="module_2idoutils_2include_2common_8h.html#af609ab4b282d85d9fab8025f5b2b66c1">IDO_FALSE</a>;
<a name="l00542"></a>00542 
<a name="l00543"></a>00543         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_close_sink() end\n&quot;</span>);
<a name="l00544"></a>00544 
<a name="l00545"></a>00545         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00546"></a>00546         }
<a name="l00547"></a>00547 
<a name="l00548"></a>00548 
<a name="l00549"></a>00549 <span class="comment">/* say hello */</span>
<a name="l00550"></a><a class="code" href="idomod_8c.html#abbb35f4792f8f9dd16b2a43bbc290e44">00550</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#ae53d4b0fbf5b6535e1a65dd0490ef54b">idomod_hello_sink</a>(<span class="keywordtype">int</span> reconnect, <span class="keywordtype">int</span> problem_disconnect){
<a name="l00551"></a>00551         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l00552"></a>00552         <span class="keywordtype">char</span> *connection_type=NULL;
<a name="l00553"></a>00553         <span class="keywordtype">char</span> *connect_type=NULL;
<a name="l00554"></a>00554 
<a name="l00555"></a>00555         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_hello_sink() start\n&quot;</span>);
<a name="l00556"></a>00556 
<a name="l00557"></a>00557         <span class="comment">/* get the connection type string */</span>
<a name="l00558"></a>00558         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>==<a class="code" href="io_8h.html#aaa7fc5eb7a15ef155a2048852610248f">IDO_SINK_FD</a> || <a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>==<a class="code" href="io_8h.html#a07fbf567fde2d9038800fb1ba00f4dda">IDO_SINK_FILE</a>)
<a name="l00559"></a>00559                 connection_type=<a class="code" href="protoapi_8h.html#a8894840d8cae961c51ce5f0d30204cc0">IDO_API_CONNECTION_FILE</a>;
<a name="l00560"></a>00560         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#ac87dfcb896052c2707233b3d0d5906fa">idomod_sink_type</a>==<a class="code" href="io_8h.html#a55998c4058fa96daf21dc2ef39120d39">IDO_SINK_TCPSOCKET</a>)
<a name="l00561"></a>00561                 connection_type=<a class="code" href="protoapi_8h.html#ad8c0d7fa166f0450f2323f4a5e7dab39">IDO_API_CONNECTION_TCPSOCKET</a>;
<a name="l00562"></a>00562         <span class="keywordflow">else</span>
<a name="l00563"></a>00563                 connection_type=<a class="code" href="protoapi_8h.html#ab69cff909266f77f75c872588add9f9e">IDO_API_CONNECTION_UNIXSOCKET</a>;
<a name="l00564"></a>00564 
<a name="l00565"></a>00565         <span class="comment">/* get the connect type string */</span>
<a name="l00566"></a>00566         <span class="keywordflow">if</span>(reconnect==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> &amp;&amp; problem_disconnect==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
<a name="l00567"></a>00567                 connect_type=<a class="code" href="protoapi_8h.html#a4006596ea111635ded1b874eba99d8ab">IDO_API_CONNECTTYPE_RECONNECT</a>;
<a name="l00568"></a>00568         <span class="keywordflow">else</span>
<a name="l00569"></a>00569                 connect_type=<a class="code" href="protoapi_8h.html#a2cc5eb93489d49afdc6ac0c740290a6e">IDO_API_CONNECTTYPE_INITIAL</a>;
<a name="l00570"></a>00570 
<a name="l00571"></a>00571         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l00572"></a>00572                  ,<span class="stringliteral">&quot;\n\n%s\n%s: %d\n%s: %s\n%s: %s\n%s: %lu\n%s: %s\n%s: %s\n%s: %s\n%s: %s\n%s\n\n&quot;</span>
<a name="l00573"></a>00573                  ,<a class="code" href="protoapi_8h.html#ae6ffbc64c88e64b9650cd77795fb7a70">IDO_API_HELLO</a>
<a name="l00574"></a>00574                  ,<a class="code" href="protoapi_8h.html#a23d90edbe21368a73edb054f0ba90770">IDO_API_PROTOCOL</a>
<a name="l00575"></a>00575                  ,<a class="code" href="protoapi_8h.html#ad5989f94432afe29e8b4262470c4a68b">IDO_API_PROTOVERSION</a>
<a name="l00576"></a>00576                  ,<a class="code" href="protoapi_8h.html#ad15287c149b99d9931a6a746c6d5e059">IDO_API_AGENT</a>
<a name="l00577"></a>00577                  ,<a class="code" href="idomod_8h.html#afad363ccce8cc4a894b3cd3efdafea08">IDOMOD_NAME</a>
<a name="l00578"></a>00578                  ,<a class="code" href="protoapi_8h.html#a0651b4fc7f2ef420338e44f1dc60de5a">IDO_API_AGENTVERSION</a>
<a name="l00579"></a>00579                  ,<a class="code" href="idomod_8h.html#abd9fb5b81223002dc4c1634b1129c33f">IDOMOD_VERSION</a>
<a name="l00580"></a>00580                  ,<a class="code" href="protoapi_8h.html#a36374d2475bcffb2f57a0c7de6317cbf">IDO_API_STARTTIME</a>
<a name="l00581"></a>00581                  ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)time(NULL)
<a name="l00582"></a>00582                  ,<a class="code" href="protoapi_8h.html#a4fece8e1afdca4d1a2b99514542c9d16">IDO_API_DISPOSITION</a>
<a name="l00583"></a>00583                  ,<a class="code" href="protoapi_8h.html#acb1e53c9dd1e944789b3cef0553fe13d">IDO_API_DISPOSITION_REALTIME</a>
<a name="l00584"></a>00584                  ,<a class="code" href="protoapi_8h.html#a998359ea235e69ef92e48f2ebecada43">IDO_API_CONNECTION</a>
<a name="l00585"></a>00585                  ,connection_type
<a name="l00586"></a>00586                  ,<a class="code" href="protoapi_8h.html#aad067296813dde40f02870f8591f00dd">IDO_API_CONNECTTYPE</a>
<a name="l00587"></a>00587                  ,connect_type
<a name="l00588"></a>00588                  ,<a class="code" href="protoapi_8h.html#af5f558761ca32b16e242f8407b67e094">IDO_API_INSTANCENAME</a>
<a name="l00589"></a>00589                  ,(<a class="code" href="idomod_8c.html#a54ce5635ebc7afa28129daa8fd42f03d">idomod_instance_name</a>==NULL)?<span class="stringliteral">&quot;default&quot;</span>:<a class="code" href="idomod_8c.html#a54ce5635ebc7afa28129daa8fd42f03d">idomod_instance_name</a>
<a name="l00590"></a>00590                  ,<a class="code" href="protoapi_8h.html#a6af37667dc2dfdee38ff49bc39e9ad05">IDO_API_STARTDATADUMP</a>
<a name="l00591"></a>00591                 );
<a name="l00592"></a>00592 
<a name="l00593"></a>00593         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l00594"></a>00594 
<a name="l00595"></a>00595         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_FALSE,IDO_FALSE);
<a name="l00596"></a>00596 
<a name="l00597"></a>00597         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_hello_sink() end\n&quot;</span>);
<a name="l00598"></a>00598 
<a name="l00599"></a>00599         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00600"></a>00600         }
<a name="l00601"></a>00601 
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 <span class="comment">/* say goodbye */</span>
<a name="l00604"></a><a class="code" href="idomod_8c.html#a8f0987fb1a6c851b4963dfc0b816b333">00604</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a8f0987fb1a6c851b4963dfc0b816b333">idomod_goodbye_sink</a>(<span class="keywordtype">void</span>){
<a name="l00605"></a>00605         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l00606"></a>00606 
<a name="l00607"></a>00607         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_goodbye_sink() start\n&quot;</span>);
<a name="l00608"></a>00608 
<a name="l00609"></a>00609         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l00610"></a>00610                  ,<span class="stringliteral">&quot;\n%d\n%s: %lu\n%s\n\n&quot;</span>
<a name="l00611"></a>00611                  ,<a class="code" href="protoapi_8h.html#a2c7d2f76286ee5d02e188e16d65fffef">IDO_API_ENDDATADUMP</a>
<a name="l00612"></a>00612                  ,<a class="code" href="protoapi_8h.html#a1d467e7fd651a7cedeba1dc0f0746494">IDO_API_ENDTIME</a>
<a name="l00613"></a>00613                  ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)time(NULL)
<a name="l00614"></a>00614                  ,<a class="code" href="protoapi_8h.html#a90a1466dbcc50b41f0c15bf0f197eb05">IDO_API_GOODBYE</a>
<a name="l00615"></a>00615                  );
<a name="l00616"></a>00616 
<a name="l00617"></a>00617         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l00618"></a>00618 
<a name="l00619"></a>00619         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_FALSE,IDO_TRUE);
<a name="l00620"></a>00620 
<a name="l00621"></a>00621         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_goodbye_sink() end\n&quot;</span>);
<a name="l00622"></a>00622 
<a name="l00623"></a>00623         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00624"></a>00624         }
<a name="l00625"></a>00625 
<a name="l00626"></a>00626 
<a name="l00627"></a>00627 <span class="comment">/* used to rotate data sink file on a regular basis */</span>
<a name="l00628"></a><a class="code" href="idomod_8c.html#a49a4c358fd6a7c0c17d8e169d00bedb7">00628</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a8a4a76b19efea7974e14a228ff224824">idomod_rotate_sink_file</a>(<span class="keywordtype">void</span> *args){
<a name="l00629"></a>00629         <span class="keywordtype">char</span> *raw_command_line_3x=NULL;
<a name="l00630"></a>00630         <span class="keywordtype">char</span> *processed_command_line_3x=NULL;
<a name="l00631"></a>00631         <span class="keywordtype">int</span> early_timeout=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00632"></a>00632         <span class="keywordtype">double</span> exectime;
<a name="l00633"></a>00633         <a class="code" href="structicinga__macros.html">icinga_macros</a> *mac;
<a name="l00634"></a>00634 
<a name="l00635"></a>00635         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_rotate_sink_file() start\n&quot;</span>);
<a name="l00636"></a>00636 
<a name="l00637"></a>00637         <span class="comment">/* get global macros */</span>
<a name="l00638"></a>00638         mac=<a class="code" href="macros_8c.html#ab140ad54ce6173c73864a7b1da8c68fe">get_global_macros</a>();
<a name="l00639"></a>00639 
<a name="l00640"></a>00640         <span class="comment">/* close sink */</span>
<a name="l00641"></a>00641         <a class="code" href="idomod_8h.html#a8f0987fb1a6c851b4963dfc0b816b333">idomod_goodbye_sink</a>();
<a name="l00642"></a>00642         <a class="code" href="idomod_8h.html#acad4c99691b0212db1ba04cbc8e31147">idomod_close_sink</a>();
<a name="l00643"></a>00643 
<a name="l00644"></a>00644         <span class="comment">/* we shouldn&#39;t write any data to the sink while we&#39;re rotating it... */</span>
<a name="l00645"></a>00645         <a class="code" href="idomod_8c.html#aaa97b4749745906c590dffeb64906d47">idomod_allow_sink_activity</a>=<a class="code" href="module_2idoutils_2include_2common_8h.html#af609ab4b282d85d9fab8025f5b2b66c1">IDO_FALSE</a>;
<a name="l00646"></a>00646 
<a name="l00647"></a>00647 
<a name="l00648"></a>00648         <span class="comment">/****** ROTATE THE FILE *****/</span>
<a name="l00649"></a>00649 
<a name="l00650"></a>00650         <span class="comment">/* get the raw command line */</span>
<a name="l00651"></a>00651         <a class="code" href="base_2utils_8c.html#a786c23913ee9613d6e4782aa5e33a8e6">get_raw_command_line_r</a>(mac, <a class="code" href="objects_8c.html#a152a4a0d29a978922a9fe8ad54d1ac8b">find_command</a>(<a class="code" href="idomod_8c.html#a740a0c42fd3ab7e67484b6a20f7034fd">idomod_sink_rotation_command</a>),<a class="code" href="idomod_8c.html#a740a0c42fd3ab7e67484b6a20f7034fd">idomod_sink_rotation_command</a>,&amp;raw_command_line_3x,<a class="code" href="macros_8h.html#a8c3a981f66fb52064a82ae5c12d0c85a">STRIP_ILLEGAL_MACRO_CHARS</a>|<a class="code" href="macros_8h.html#a008cba3c2d5c1718f9b17d837d1b00f5">ESCAPE_MACRO_CHARS</a>);
<a name="l00652"></a>00652         <a class="code" href="icingastats_8c.html#a44ed939e710ce4674954d98865b42ec0">strip</a>(raw_command_line_3x);
<a name="l00653"></a>00653 
<a name="l00654"></a>00654         <span class="comment">/* process any macros in the raw command line */</span>
<a name="l00655"></a>00655         <a class="code" href="macros_8c.html#a1be6f89f750b75aeab483d93badda0e4">process_macros_r</a>(mac, raw_command_line_3x,&amp;processed_command_line_3x,<a class="code" href="macros_8h.html#a8c3a981f66fb52064a82ae5c12d0c85a">STRIP_ILLEGAL_MACRO_CHARS</a>|<a class="code" href="macros_8h.html#a008cba3c2d5c1718f9b17d837d1b00f5">ESCAPE_MACRO_CHARS</a>);
<a name="l00656"></a>00656 
<a name="l00657"></a>00657         <span class="comment">/* run the command */</span>
<a name="l00658"></a>00658         <a class="code" href="base_2utils_8c.html#a27ee699ba68d55a7dac97174d4516d41">my_system</a>(processed_command_line_3x,idomod_sink_rotation_timeout,&amp;early_timeout,&amp;exectime,NULL,0);
<a name="l00659"></a>00659 
<a name="l00660"></a>00660 
<a name="l00661"></a>00661         <span class="comment">/* allow data to be written to the sink */</span>
<a name="l00662"></a>00662         <a class="code" href="idomod_8c.html#aaa97b4749745906c590dffeb64906d47">idomod_allow_sink_activity</a>=<a class="code" href="module_2idoutils_2include_2common_8h.html#a1fa5946b37f7219aef0f13d921804a2f">IDO_TRUE</a>;
<a name="l00663"></a>00663 
<a name="l00664"></a>00664         <span class="comment">/* re-open sink */</span>
<a name="l00665"></a>00665         <a class="code" href="idomod_8h.html#a1323d6bd86d26d3050d6c41b3a1216f9">idomod_open_sink</a>();
<a name="l00666"></a>00666         <a class="code" href="idomod_8h.html#ae53d4b0fbf5b6535e1a65dd0490ef54b">idomod_hello_sink</a>(<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
<a name="l00667"></a>00667 
<a name="l00668"></a>00668         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_rotate_sink_file() end\n&quot;</span>);
<a name="l00669"></a>00669 
<a name="l00670"></a>00670         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00671"></a>00671         }
<a name="l00672"></a>00672 
<a name="l00673"></a>00673 
<a name="l00674"></a>00674 <span class="comment">/* writes data to sink */</span>
<a name="l00675"></a><a class="code" href="idomod_8c.html#ae64e05f6570be2a6731c83ea1dc24edd">00675</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(<span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> buffer_write, <span class="keywordtype">int</span> flush_buffer){
<a name="l00676"></a>00676         <span class="keywordtype">char</span> *temp_buffer=NULL;
<a name="l00677"></a>00677         <span class="keywordtype">char</span> *sbuf=NULL;
<a name="l00678"></a>00678         <span class="keywordtype">int</span> buflen=0;
<a name="l00679"></a>00679         <span class="keywordtype">int</span> result=<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00680"></a>00680         time_t <a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00681"></a>00681         <span class="keywordtype">int</span> reconnect=<a class="code" href="module_2idoutils_2include_2common_8h.html#af609ab4b282d85d9fab8025f5b2b66c1">IDO_FALSE</a>;
<a name="l00682"></a>00682         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> items_to_flush=0L;
<a name="l00683"></a>00683 
<a name="l00684"></a>00684         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_to_sink() start\n&quot;</span>);
<a name="l00685"></a>00685 
<a name="l00686"></a>00686         <span class="comment">/* we have nothing to write... */</span>
<a name="l00687"></a>00687         <span class="keywordflow">if</span>(buf==NULL)
<a name="l00688"></a>00688                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00689"></a>00689 
<a name="l00690"></a>00690         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_to_sink(%s)\n&quot;</span>, buf);
<a name="l00691"></a>00691         
<a name="l00692"></a>00692         <span class="comment">/* we shouldn&#39;t be messing with things... */</span>
<a name="l00693"></a>00693         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#aaa97b4749745906c590dffeb64906d47">idomod_allow_sink_activity</a>==IDO_FALSE)
<a name="l00694"></a>00694                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00695"></a>00695 
<a name="l00696"></a>00696         <span class="comment">/* open the sink if necessary... */</span>
<a name="l00697"></a>00697         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#a44806c1340939a45db528d8f6d45c5d5">idomod_sink_is_open</a>==IDO_FALSE){
<a name="l00698"></a>00698 
<a name="l00699"></a>00699                 time(&amp;current_time);
<a name="l00700"></a>00700 
<a name="l00701"></a>00701                 <span class="comment">/* are we reopening the sink? */</span>
<a name="l00702"></a>00702                 <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#a1bdeb13cd3160742454623192f642f12">idomod_sink_previously_open</a>==IDO_TRUE)
<a name="l00703"></a>00703                         reconnect=<a class="code" href="module_2idoutils_2include_2common_8h.html#a1fa5946b37f7219aef0f13d921804a2f">IDO_TRUE</a>;
<a name="l00704"></a>00704 
<a name="l00705"></a>00705                 <span class="comment">/* (re)connect to the sink if its time */</span>
<a name="l00706"></a>00706                 <span class="keywordflow">if</span>((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)current_time-idomod_sink_reconnect_interval)&gt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code" href="idomod_8c.html#a93d353a249246c7f80134b80fe73dc6b">idomod_sink_last_reconnect_attempt</a>){
<a name="l00707"></a>00707 
<a name="l00708"></a>00708                         result=<a class="code" href="idomod_8h.html#a1323d6bd86d26d3050d6c41b3a1216f9">idomod_open_sink</a>();
<a name="l00709"></a>00709 
<a name="l00710"></a>00710                         idomod_sink_last_reconnect_attempt=<a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00711"></a>00711 
<a name="l00712"></a>00712                         <a class="code" href="idomod_8c.html#a90e39e57e7922c0213d0e2b63af698a0">idomod_sink_connect_attempt</a>++;
<a name="l00713"></a>00713 
<a name="l00714"></a>00714                         <span class="comment">/* sink was (re)opened... */</span>
<a name="l00715"></a>00715                         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>){
<a name="l00716"></a>00716 
<a name="l00717"></a>00717                                 <span class="keywordflow">if</span>(reconnect==IDO_TRUE){
<a name="l00718"></a>00718                                         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer,<span class="stringliteral">&quot;idomod: Successfully reconnected to data sink!  %lu items lost, %lu queued items to flush.&quot;</span>,sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>,sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>)==-1)
<a name="l00719"></a>00719                                                 temp_buffer=NULL;
<a name="l00720"></a>00720 
<a name="l00721"></a>00721                                         <a class="code" href="idomod_8h.html#ae53d4b0fbf5b6535e1a65dd0490ef54b">idomod_hello_sink</a>(<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l00722"></a>00722                                         
<a name="l00723"></a>00723                                 } <span class="keywordflow">else</span> {
<a name="l00724"></a>00724                                         <span class="keywordflow">if</span>(sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>==0L) {
<a name="l00725"></a>00725                                                 <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer,<span class="stringliteral">&quot;idomod: Successfully connected to data sink.  %lu queued items to flush.&quot;</span>,sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>)==-1)
<a name="l00726"></a>00726                                                         ;<span class="comment">//temp_buffer=NULL;</span>
<a name="l00727"></a>00727                                         } <span class="keywordflow">else</span> {
<a name="l00728"></a>00728                                                 <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer,<span class="stringliteral">&quot;idomod: Successfully connected to data sink.  %lu items lost, %lu queued items to flush.&quot;</span>,sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>,sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>)==-1)
<a name="l00729"></a>00729                                                         ;<span class="comment">//temp_buffer=NULL;</span>
<a name="l00730"></a>00730                                         }
<a name="l00731"></a>00731 
<a name="l00732"></a>00732                                         <a class="code" href="idomod_8h.html#ae53d4b0fbf5b6535e1a65dd0490ef54b">idomod_hello_sink</a>(<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);        
<a name="l00733"></a>00733                                 }
<a name="l00734"></a>00734 
<a name="l00735"></a>00735                                 <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00736"></a>00736                                 free(temp_buffer);
<a name="l00737"></a>00737                                 temp_buffer=NULL;
<a name="l00738"></a>00738 
<a name="l00739"></a>00739                                 <span class="comment">/* reset sink overflow */</span>
<a name="l00740"></a>00740                                 sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>=0L;    
<a name="l00741"></a>00741 
<a name="l00742"></a>00742                         <span class="comment">/* sink could not be (re)opened... */</span>
<a name="l00743"></a>00743                         } <span class="keywordflow">else</span> {
<a name="l00744"></a>00744 
<a name="l00745"></a>00745                                 <span class="keywordflow">if</span>((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)current_time-idomod_sink_reconnect_warning_interval)&gt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code" href="idomod_8c.html#aedfda807ec13dbb2f3557ebc74d559e3">idomod_sink_last_reconnect_warning</a>){
<a name="l00746"></a>00746                                         <span class="keywordflow">if</span>(reconnect==IDO_TRUE) {
<a name="l00747"></a>00747                                                 <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer,<span class="stringliteral">&quot;idomod: Still unable to reconnect to data sink.  %lu items lost, %lu queued items to flush.&quot;</span>,sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>,sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>)==-1)
<a name="l00748"></a>00748                                                         temp_buffer=NULL;
<a name="l00749"></a>00749                                         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#a90e39e57e7922c0213d0e2b63af698a0">idomod_sink_connect_attempt</a>==1) {
<a name="l00750"></a>00750                                                 <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer,<span class="stringliteral">&quot;idomod: Could not open data sink!  I&#39;ll keep trying, but some output may get lost...&quot;</span>)==-1)
<a name="l00751"></a>00751                                                         temp_buffer=NULL;
<a name="l00752"></a>00752                                         } <span class="keywordflow">else</span> {
<a name="l00753"></a>00753                                                 <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer,<span class="stringliteral">&quot;idomod: Still unable to connect to data sink.  %lu items lost, %lu queued items to flush.&quot;</span>,sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>,sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>)==-1)
<a name="l00754"></a>00754                                                         temp_buffer=NULL;
<a name="l00755"></a>00755                                         }
<a name="l00756"></a>00756 
<a name="l00757"></a>00757                                         <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00758"></a>00758                                         free(temp_buffer);
<a name="l00759"></a>00759                                         temp_buffer=NULL;
<a name="l00760"></a>00760 
<a name="l00761"></a>00761                                         idomod_sink_last_reconnect_warning=<a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00762"></a>00762                                 }
<a name="l00763"></a>00763                         }
<a name="l00764"></a>00764                 }
<a name="l00765"></a>00765         }
<a name="l00766"></a>00766 
<a name="l00767"></a>00767         <span class="comment">/* we weren&#39;t able to (re)connect */</span>
<a name="l00768"></a>00768         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#a44806c1340939a45db528d8f6d45c5d5">idomod_sink_is_open</a>==IDO_FALSE){
<a name="l00769"></a>00769 
<a name="l00770"></a>00770                 <span class="comment">/***** BUFFER OUTPUT FOR LATER *****/</span>
<a name="l00771"></a>00771 
<a name="l00772"></a>00772                 <span class="keywordflow">if</span>(buffer_write==IDO_TRUE)
<a name="l00773"></a>00773                         <a class="code" href="idomod_8h.html#a2c89d24cb120a2d31b63b4a1c57490f5">idomod_sink_buffer_push</a>(&amp;sinkbuf,buf);
<a name="l00774"></a>00774 
<a name="l00775"></a>00775                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00776"></a>00776                 }
<a name="l00777"></a>00777 
<a name="l00778"></a>00778 
<a name="l00779"></a>00779         <span class="comment">/***** FLUSH BUFFERED DATA FIRST *****/</span>
<a name="l00780"></a>00780 
<a name="l00781"></a>00781         <span class="keywordflow">if</span>(flush_buffer==IDO_TRUE &amp;&amp; (items_to_flush=<a class="code" href="idomod_8h.html#a5c86a33b6d4d23d45ed7bf0353211860">idomod_sink_buffer_items</a>(&amp;sinkbuf))&gt;0){
<a name="l00782"></a>00782 
<a name="l00783"></a>00783                 <span class="keywordflow">while</span>(<a class="code" href="idomod_8h.html#a5c86a33b6d4d23d45ed7bf0353211860">idomod_sink_buffer_items</a>(&amp;sinkbuf)&gt;0){
<a name="l00784"></a>00784 
<a name="l00785"></a>00785                         <span class="comment">/* get next item from buffer */</span>
<a name="l00786"></a>00786                         sbuf=<a class="code" href="idomod_8h.html#a9ac5bedbf17e21766f8b078d0d1d1cbb">idomod_sink_buffer_peek</a>(&amp;sinkbuf);
<a name="l00787"></a>00787 
<a name="l00788"></a>00788                         buflen=strlen(sbuf);
<a name="l00789"></a>00789                         result=<a class="code" href="io_8h.html#a9265a3e2fdd6c071956ff1190a1da042">ido_sink_write</a>(idomod_sink_fd,sbuf,buflen);
<a name="l00790"></a>00790 
<a name="l00791"></a>00791                         <span class="comment">/* an error occurred... */</span>
<a name="l00792"></a>00792                         <span class="keywordflow">if</span>(result&lt;0){
<a name="l00793"></a>00793 
<a name="l00794"></a>00794                                 <span class="comment">/* sink problem! */</span>
<a name="l00795"></a>00795                                 <span class="keywordflow">if</span>(errno!=EAGAIN){
<a name="l00796"></a>00796 
<a name="l00797"></a>00797                                         <span class="comment">/* close the sink */</span>
<a name="l00798"></a>00798                                         <a class="code" href="idomod_8h.html#acad4c99691b0212db1ba04cbc8e31147">idomod_close_sink</a>();
<a name="l00799"></a>00799 
<a name="l00800"></a>00800                                         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer,<span class="stringliteral">&quot;idomod: Error writing to data sink!  Some output may get lost.  %lu queued items to flush.&quot;</span>,sinkbuf.<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>)==-1)
<a name="l00801"></a>00801                                                 temp_buffer=NULL;
<a name="l00802"></a>00802 
<a name="l00803"></a>00803                                         <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00804"></a>00804                                         free(temp_buffer);
<a name="l00805"></a>00805                                         temp_buffer=NULL;
<a name="l00806"></a>00806 
<a name="l00807"></a>00807                                         time(&amp;current_time);
<a name="l00808"></a>00808                                         <a class="code" href="idomod_8c.html#a93d353a249246c7f80134b80fe73dc6b">idomod_sink_last_reconnect_attempt</a>=<a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00809"></a>00809                                         <a class="code" href="idomod_8c.html#aedfda807ec13dbb2f3557ebc74d559e3">idomod_sink_last_reconnect_warning</a>=<a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00810"></a>00810                                         }
<a name="l00811"></a>00811 
<a name="l00812"></a>00812                                 <span class="comment">/***** BUFFER ORIGINAL OUTPUT FOR LATER *****/</span>
<a name="l00813"></a>00813 
<a name="l00814"></a>00814                                 <span class="keywordflow">if</span>(buffer_write==IDO_TRUE)
<a name="l00815"></a>00815                                         <a class="code" href="idomod_8h.html#a2c89d24cb120a2d31b63b4a1c57490f5">idomod_sink_buffer_push</a>(&amp;sinkbuf,buf);
<a name="l00816"></a>00816 
<a name="l00817"></a>00817                                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00818"></a>00818                                 }
<a name="l00819"></a>00819 
<a name="l00820"></a>00820                         <span class="comment">/* buffer was written okay, so remove it from buffer */</span>
<a name="l00821"></a>00821                         <a class="code" href="idomod_8h.html#a0f675d28d14c50b141e30a775c3ff253">idomod_sink_buffer_pop</a>(&amp;sinkbuf);
<a name="l00822"></a>00822                         }
<a name="l00823"></a>00823 
<a name="l00824"></a>00824                 <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer,<span class="stringliteral">&quot;idomod: Successfully flushed %lu queued items to data sink.&quot;</span>,items_to_flush)==-1)
<a name="l00825"></a>00825                         temp_buffer=NULL;
<a name="l00826"></a>00826 
<a name="l00827"></a>00827                 <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00828"></a>00828                 free(temp_buffer);
<a name="l00829"></a>00829                 temp_buffer=NULL;
<a name="l00830"></a>00830                 }
<a name="l00831"></a>00831 
<a name="l00832"></a>00832 
<a name="l00833"></a>00833         <span class="comment">/***** WRITE ORIGINAL DATA *****/</span>
<a name="l00834"></a>00834 
<a name="l00835"></a>00835         <span class="comment">/* write the data */</span>
<a name="l00836"></a>00836         buflen=strlen(buf);
<a name="l00837"></a>00837         result=<a class="code" href="io_8h.html#a9265a3e2fdd6c071956ff1190a1da042">ido_sink_write</a>(idomod_sink_fd,buf,buflen);
<a name="l00838"></a>00838 
<a name="l00839"></a>00839         <span class="comment">/* an error occurred... */</span>
<a name="l00840"></a>00840         <span class="keywordflow">if</span>(result&lt;0){
<a name="l00841"></a>00841 
<a name="l00842"></a>00842                 <span class="comment">/* sink problem! */</span>
<a name="l00843"></a>00843                 <span class="keywordflow">if</span>(errno!=EAGAIN){
<a name="l00844"></a>00844 
<a name="l00845"></a>00845                         <span class="comment">/* close the sink */</span>
<a name="l00846"></a>00846                         <a class="code" href="idomod_8h.html#acad4c99691b0212db1ba04cbc8e31147">idomod_close_sink</a>();
<a name="l00847"></a>00847 
<a name="l00848"></a>00848                         time(&amp;current_time);
<a name="l00849"></a>00849                         <a class="code" href="idomod_8c.html#a93d353a249246c7f80134b80fe73dc6b">idomod_sink_last_reconnect_attempt</a>=<a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00850"></a>00850                         <a class="code" href="idomod_8c.html#aedfda807ec13dbb2f3557ebc74d559e3">idomod_sink_last_reconnect_warning</a>=<a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00851"></a>00851 
<a name="l00852"></a>00852                         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer,<span class="stringliteral">&quot;idomod: Error writing to data sink!  Some output may get lost...&quot;</span>)==-1)
<a name="l00853"></a>00853                                 temp_buffer=NULL;
<a name="l00854"></a>00854 
<a name="l00855"></a>00855                         <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00856"></a>00856                         free(temp_buffer);
<a name="l00857"></a>00857 
<a name="l00858"></a>00858                         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer,<span class="stringliteral">&quot;idomod: Please check remote ido2db log, database connection or SSL Parameters&quot;</span>)==-1)
<a name="l00859"></a>00859                                 temp_buffer=NULL;
<a name="l00860"></a>00860 
<a name="l00861"></a>00861                         <a class="code" href="idomod_8h.html#a35c343a479a240ad5b0ec5c19aed49e2">idomod_write_to_logs</a>(temp_buffer,<a class="code" href="logging_8h.html#aea5b3acdc5c306a9e6b9f3e5525f0ca6">NSLOG_INFO_MESSAGE</a>);
<a name="l00862"></a>00862                         free(temp_buffer);
<a name="l00863"></a>00863                         temp_buffer=NULL;
<a name="l00864"></a>00864                         }
<a name="l00865"></a>00865 
<a name="l00866"></a>00866                 <span class="comment">/***** BUFFER OUTPUT FOR LATER *****/</span>
<a name="l00867"></a>00867 
<a name="l00868"></a>00868                 <span class="keywordflow">if</span>(buffer_write==IDO_TRUE)
<a name="l00869"></a>00869                         <a class="code" href="idomod_8h.html#a2c89d24cb120a2d31b63b4a1c57490f5">idomod_sink_buffer_push</a>(&amp;sinkbuf,buf);
<a name="l00870"></a>00870 
<a name="l00871"></a>00871                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00872"></a>00872                 }
<a name="l00873"></a>00873 
<a name="l00874"></a>00874         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_to_sink() end\n&quot;</span>);
<a name="l00875"></a>00875 
<a name="l00876"></a>00876         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00877"></a>00877         }
<a name="l00878"></a>00878 
<a name="l00879"></a>00879 
<a name="l00880"></a>00880 
<a name="l00881"></a>00881 <span class="comment">/* save unprocessed data to buffer file */</span>
<a name="l00882"></a><a class="code" href="idomod_8c.html#a13760bf28fa2f0d247a38852a8159045">00882</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a3d2bc078731e933c81f0789b7e6199c0">idomod_save_unprocessed_data</a>(<span class="keywordtype">char</span> *f){
<a name="l00883"></a>00883         FILE *fp=NULL;
<a name="l00884"></a>00884         <span class="keywordtype">char</span> *buf=NULL;
<a name="l00885"></a>00885         <span class="keywordtype">char</span> *ebuf=NULL;
<a name="l00886"></a>00886 
<a name="l00887"></a>00887         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_save_unprocessed_data() start\n&quot;</span>);
<a name="l00888"></a>00888 
<a name="l00889"></a>00889         <span class="comment">/* no file */</span>
<a name="l00890"></a>00890         <span class="keywordflow">if</span>(f==NULL)
<a name="l00891"></a>00891                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00892"></a>00892 
<a name="l00893"></a>00893         <span class="comment">/* open the file for writing */</span>
<a name="l00894"></a>00894         <span class="keywordflow">if</span>((fp=fopen(f,<span class="stringliteral">&quot;w&quot;</span>))==NULL)
<a name="l00895"></a>00895                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00896"></a>00896 
<a name="l00897"></a>00897         <span class="comment">/* save all buffered items */</span>
<a name="l00898"></a>00898         <span class="keywordflow">while</span>(<a class="code" href="idomod_8h.html#a5c86a33b6d4d23d45ed7bf0353211860">idomod_sink_buffer_items</a>(&amp;sinkbuf)&gt;0){
<a name="l00899"></a>00899 
<a name="l00900"></a>00900                 <span class="comment">/* get next item from buffer */</span>
<a name="l00901"></a>00901                 buf=<a class="code" href="idomod_8h.html#a0f675d28d14c50b141e30a775c3ff253">idomod_sink_buffer_pop</a>(&amp;sinkbuf);
<a name="l00902"></a>00902 
<a name="l00903"></a>00903                 <span class="comment">/* escape the string */</span>
<a name="l00904"></a>00904                 ebuf=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(buf);
<a name="l00905"></a>00905 
<a name="l00906"></a>00906                 <span class="comment">/* write string to file */</span>
<a name="l00907"></a>00907                 fputs(ebuf,fp);
<a name="l00908"></a>00908                 fputs(<span class="stringliteral">&quot;\n&quot;</span>,fp);
<a name="l00909"></a>00909 
<a name="l00910"></a>00910                 <span class="comment">/* free memory */</span>
<a name="l00911"></a>00911                 free(buf);
<a name="l00912"></a>00912                 buf=NULL;
<a name="l00913"></a>00913                 free(ebuf);
<a name="l00914"></a>00914                 ebuf=NULL;
<a name="l00915"></a>00915                 }
<a name="l00916"></a>00916 
<a name="l00917"></a>00917         fclose(fp);
<a name="l00918"></a>00918 
<a name="l00919"></a>00919         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_save_unprocessed_data() end\n&quot;</span>);
<a name="l00920"></a>00920 
<a name="l00921"></a>00921         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00922"></a>00922         }
<a name="l00923"></a>00923 
<a name="l00924"></a>00924 
<a name="l00925"></a>00925 
<a name="l00926"></a>00926 <span class="comment">/* load unprocessed data from buffer file */</span>
<a name="l00927"></a><a class="code" href="idomod_8c.html#ac4c41a8ba5c171f3eb1b10ee6b6d1b76">00927</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#ad2bb93a84d703b393b621b9131a0b299">idomod_load_unprocessed_data</a>(<span class="keywordtype">char</span> *f){
<a name="l00928"></a>00928         <a class="code" href="structido__mmapfile__struct.html">ido_mmapfile</a> *thefile=NULL;
<a name="l00929"></a>00929         <span class="keywordtype">char</span> *ebuf=NULL;
<a name="l00930"></a>00930         <span class="keywordtype">char</span> *buf=NULL;
<a name="l00931"></a>00931 
<a name="l00932"></a>00932         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_load_unprocessed_data() start\n&quot;</span>);
<a name="l00933"></a>00933 
<a name="l00934"></a>00934         <span class="comment">/* open the file */</span>
<a name="l00935"></a>00935         <span class="keywordflow">if</span>((thefile=<a class="code" href="io_8h.html#a0cab4680c7e760a25d7b4e21fd251c19">ido_mmap_fopen</a>(f))==NULL)
<a name="l00936"></a>00936                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00937"></a>00937 
<a name="l00938"></a>00938         <span class="comment">/* process each line of the file */</span>
<a name="l00939"></a>00939         <span class="keywordflow">while</span>((ebuf=<a class="code" href="io_8h.html#a320945b0735c887009ad8c82c8cdc790">ido_mmap_fgets</a>(thefile))){
<a name="l00940"></a>00940 
<a name="l00941"></a>00941                 <span class="comment">/* unescape string */</span>
<a name="l00942"></a>00942                 buf=<a class="code" href="io_8h.html#aec2ca0b7f1b4298a9f11c90db36ef398">ido_unescape_buffer</a>(ebuf);
<a name="l00943"></a>00943 
<a name="l00944"></a>00944                 <span class="comment">/* save the data to the sink buffer */</span>
<a name="l00945"></a>00945                 <a class="code" href="idomod_8h.html#a2c89d24cb120a2d31b63b4a1c57490f5">idomod_sink_buffer_push</a>(&amp;sinkbuf,buf);
<a name="l00946"></a>00946 
<a name="l00947"></a>00947                 <span class="comment">/* free memory */</span>
<a name="l00948"></a>00948                 free(ebuf);
<a name="l00949"></a>00949                 }
<a name="l00950"></a>00950 
<a name="l00951"></a>00951         <span class="comment">/* close the file */</span>
<a name="l00952"></a>00952         <a class="code" href="io_8h.html#adf9db5340ae5d215489aab3642daccaf">ido_mmap_fclose</a>(thefile);
<a name="l00953"></a>00953 
<a name="l00954"></a>00954         <span class="comment">/* remove the file so we don&#39;t process it again in the future */</span>
<a name="l00955"></a>00955         unlink(f);
<a name="l00956"></a>00956 
<a name="l00957"></a>00957         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_load_unprocessed_data() end\n&quot;</span>);
<a name="l00958"></a>00958 
<a name="l00959"></a>00959         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00960"></a>00960         }
<a name="l00961"></a>00961 
<a name="l00962"></a>00962 
<a name="l00963"></a>00963 
<a name="l00964"></a>00964 <span class="comment">/* initializes sink buffer */</span>
<a name="l00965"></a><a class="code" href="idomod_8c.html#a86407f082a91cc7b443ba46b2858f7b5">00965</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#af6a98ed6f933f1d26d10f35ff2a5bd95">idomod_sink_buffer_init</a>(<a class="code" href="structidomod__sink__buffer__struct.html">idomod_sink_buffer</a> *sbuf,<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> maxitems){
<a name="l00966"></a>00966         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> x;
<a name="l00967"></a>00967 
<a name="l00968"></a>00968         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_init() start\n&quot;</span>);
<a name="l00969"></a>00969 
<a name="l00970"></a>00970         <span class="keywordflow">if</span>(sbuf==NULL || maxitems&lt;=0)
<a name="l00971"></a>00971                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l00972"></a>00972 
<a name="l00973"></a>00973         <span class="comment">/* allocate memory for the buffer */</span>
<a name="l00974"></a>00974         <span class="keywordflow">if</span>((sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>=(<span class="keywordtype">char</span> **)malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *)*maxitems))){
<a name="l00975"></a>00975                 <span class="keywordflow">for</span>(x=0;x&lt;maxitems;x++)
<a name="l00976"></a>00976                         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>[x]=NULL;
<a name="l00977"></a>00977                 }
<a name="l00978"></a>00978 
<a name="l00979"></a>00979         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ad833c6c05c0d4ed2f89e627bcfe1190e">size</a>=0L;
<a name="l00980"></a>00980         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a86763fda30df309d0e29e349ed505300">head</a>=0L;
<a name="l00981"></a>00981         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ac3919d4b6fecd3557d8f52a0587da4ed">tail</a>=0L;
<a name="l00982"></a>00982         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>=0L;
<a name="l00983"></a>00983         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a4a6aff0f09806e2c0640ed6c3817c2f7">maxitems</a>=maxitems;
<a name="l00984"></a>00984         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>=0L;
<a name="l00985"></a>00985 
<a name="l00986"></a>00986         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_init() end\n&quot;</span>);
<a name="l00987"></a>00987 
<a name="l00988"></a>00988         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l00989"></a>00989         }
<a name="l00990"></a>00990 
<a name="l00991"></a>00991 
<a name="l00992"></a>00992 <span class="comment">/* deinitializes sink buffer */</span>
<a name="l00993"></a><a class="code" href="idomod_8c.html#a6e8cc9c74448c63dda20ecfd8db76131">00993</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a6e8cc9c74448c63dda20ecfd8db76131">idomod_sink_buffer_deinit</a>(<a class="code" href="structidomod__sink__buffer__struct.html">idomod_sink_buffer</a> *sbuf){
<a name="l00994"></a>00994         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> x;
<a name="l00995"></a>00995 
<a name="l00996"></a>00996         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_deinit() start\n&quot;</span>);
<a name="l00997"></a>00997 
<a name="l00998"></a>00998         <span class="keywordflow">if</span>(sbuf==NULL)
<a name="l00999"></a>00999                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l01000"></a>01000 
<a name="l01001"></a>01001         <span class="comment">/* free any allocated memory */</span>
<a name="l01002"></a>01002         <span class="keywordflow">for</span>(x=0;x&lt;sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a4a6aff0f09806e2c0640ed6c3817c2f7">maxitems</a>;x++)
<a name="l01003"></a>01003                 free(sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>[x]);
<a name="l01004"></a>01004 
<a name="l01005"></a>01005         free(sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>);
<a name="l01006"></a>01006         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>=NULL;
<a name="l01007"></a>01007 
<a name="l01008"></a>01008         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_deinit() end\n&quot;</span>);
<a name="l01009"></a>01009 
<a name="l01010"></a>01010         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l01011"></a>01011         }
<a name="l01012"></a>01012 
<a name="l01013"></a>01013 
<a name="l01014"></a>01014 <span class="comment">/* buffers output */</span>
<a name="l01015"></a><a class="code" href="idomod_8c.html#ae3f2466de67d39e983f006e0167de746">01015</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a2c89d24cb120a2d31b63b4a1c57490f5">idomod_sink_buffer_push</a>(<a class="code" href="structidomod__sink__buffer__struct.html">idomod_sink_buffer</a> *sbuf,<span class="keywordtype">char</span> *buf){
<a name="l01016"></a>01016 
<a name="l01017"></a>01017         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_push() start\n&quot;</span>);
<a name="l01018"></a>01018 
<a name="l01019"></a>01019         <span class="keywordflow">if</span>(sbuf==NULL || buf==NULL)
<a name="l01020"></a>01020                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l01021"></a>01021 
<a name="l01022"></a>01022         <span class="comment">/* no space to store buffer */</span>
<a name="l01023"></a>01023         <span class="keywordflow">if</span>(sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>==NULL || sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>==sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a4a6aff0f09806e2c0640ed6c3817c2f7">maxitems</a>){
<a name="l01024"></a>01024                 sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>++;
<a name="l01025"></a>01025                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l01026"></a>01026                 }
<a name="l01027"></a>01027 
<a name="l01028"></a>01028         <span class="comment">/* store buffer */</span>
<a name="l01029"></a>01029         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>[sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a86763fda30df309d0e29e349ed505300">head</a>]=strdup(buf);
<a name="l01030"></a>01030         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a86763fda30df309d0e29e349ed505300">head</a>=(sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a86763fda30df309d0e29e349ed505300">head</a>+1)%sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a4a6aff0f09806e2c0640ed6c3817c2f7">maxitems</a>;
<a name="l01031"></a>01031         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>++;
<a name="l01032"></a>01032 
<a name="l01033"></a>01033         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_push() end\n&quot;</span>);
<a name="l01034"></a>01034 
<a name="l01035"></a>01035         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l01036"></a>01036         }
<a name="l01037"></a>01037 
<a name="l01038"></a>01038 
<a name="l01039"></a>01039 <span class="comment">/* gets and removes next item from buffer */</span>
<a name="l01040"></a><a class="code" href="idomod_8c.html#a0f675d28d14c50b141e30a775c3ff253">01040</a> <span class="keywordtype">char</span> *<a class="code" href="idomod_8h.html#a0f675d28d14c50b141e30a775c3ff253">idomod_sink_buffer_pop</a>(<a class="code" href="structidomod__sink__buffer__struct.html">idomod_sink_buffer</a> *sbuf){
<a name="l01041"></a>01041         <span class="keywordtype">char</span> *buf=NULL;
<a name="l01042"></a>01042 
<a name="l01043"></a>01043         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_pop() start\n&quot;</span>);
<a name="l01044"></a>01044 
<a name="l01045"></a>01045         <span class="keywordflow">if</span>(sbuf==NULL)
<a name="l01046"></a>01046                 <span class="keywordflow">return</span> NULL;
<a name="l01047"></a>01047 
<a name="l01048"></a>01048         <span class="keywordflow">if</span>(sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>==NULL)
<a name="l01049"></a>01049                 <span class="keywordflow">return</span> NULL;
<a name="l01050"></a>01050 
<a name="l01051"></a>01051         <span class="keywordflow">if</span>(sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>==0)
<a name="l01052"></a>01052                 <span class="keywordflow">return</span> NULL;
<a name="l01053"></a>01053 
<a name="l01054"></a>01054         <span class="comment">/* remove item from buffer */</span>
<a name="l01055"></a>01055         buf=sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>[sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ac3919d4b6fecd3557d8f52a0587da4ed">tail</a>];
<a name="l01056"></a>01056         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>[sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ac3919d4b6fecd3557d8f52a0587da4ed">tail</a>]=NULL;
<a name="l01057"></a>01057         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ac3919d4b6fecd3557d8f52a0587da4ed">tail</a>=(sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ac3919d4b6fecd3557d8f52a0587da4ed">tail</a>+1)%sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a4a6aff0f09806e2c0640ed6c3817c2f7">maxitems</a>;
<a name="l01058"></a>01058         sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>--;
<a name="l01059"></a>01059 
<a name="l01060"></a>01060         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_pop() end\n&quot;</span>);
<a name="l01061"></a>01061 
<a name="l01062"></a>01062         <span class="keywordflow">return</span> buf;
<a name="l01063"></a>01063         }
<a name="l01064"></a>01064 
<a name="l01065"></a>01065 
<a name="l01066"></a>01066 <span class="comment">/* gets next items from buffer */</span>
<a name="l01067"></a><a class="code" href="idomod_8c.html#a9ac5bedbf17e21766f8b078d0d1d1cbb">01067</a> <span class="keywordtype">char</span> *<a class="code" href="idomod_8h.html#a9ac5bedbf17e21766f8b078d0d1d1cbb">idomod_sink_buffer_peek</a>(<a class="code" href="structidomod__sink__buffer__struct.html">idomod_sink_buffer</a> *sbuf){
<a name="l01068"></a>01068         <span class="keywordtype">char</span> *buf=NULL;
<a name="l01069"></a>01069 
<a name="l01070"></a>01070         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_peek() start\n&quot;</span>);
<a name="l01071"></a>01071 
<a name="l01072"></a>01072         <span class="keywordflow">if</span>(sbuf==NULL)
<a name="l01073"></a>01073                 <span class="keywordflow">return</span> NULL;
<a name="l01074"></a>01074 
<a name="l01075"></a>01075         <span class="keywordflow">if</span>(sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>==NULL)
<a name="l01076"></a>01076                 <span class="keywordflow">return</span> NULL;
<a name="l01077"></a>01077 
<a name="l01078"></a>01078         buf=sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ab733987b9d37733248080db01fe743c4">buffer</a>[sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#ac3919d4b6fecd3557d8f52a0587da4ed">tail</a>];
<a name="l01079"></a>01079 
<a name="l01080"></a>01080         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_peek() end\n&quot;</span>);
<a name="l01081"></a>01081 
<a name="l01082"></a>01082         <span class="keywordflow">return</span> buf;
<a name="l01083"></a>01083         }
<a name="l01084"></a>01084 
<a name="l01085"></a>01085 
<a name="l01086"></a>01086 <span class="comment">/* returns number of items buffered */</span>
<a name="l01087"></a><a class="code" href="idomod_8c.html#a5c86a33b6d4d23d45ed7bf0353211860">01087</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a5c86a33b6d4d23d45ed7bf0353211860">idomod_sink_buffer_items</a>(<a class="code" href="structidomod__sink__buffer__struct.html">idomod_sink_buffer</a> *sbuf){
<a name="l01088"></a>01088 
<a name="l01089"></a>01089         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_items()\n&quot;</span>);
<a name="l01090"></a>01090 
<a name="l01091"></a>01091         <span class="keywordflow">if</span>(sbuf==NULL)
<a name="l01092"></a>01092                 <span class="keywordflow">return</span> 0;
<a name="l01093"></a>01093         <span class="keywordflow">else</span>
<a name="l01094"></a>01094                 <span class="keywordflow">return</span> sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a35502c6a1b30fd684a1468356cff5a90">items</a>;
<a name="l01095"></a>01095         }
<a name="l01096"></a>01096 
<a name="l01097"></a>01097 
<a name="l01098"></a>01098 
<a name="l01099"></a>01099 <span class="comment">/* gets number of items lost due to buffer overflow */</span>
<a name="l01100"></a><a class="code" href="idomod_8c.html#a7db20faa7c36fa7b4db62208c87ef188">01100</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="idomod_8h.html#a7db20faa7c36fa7b4db62208c87ef188">idomod_sink_buffer_get_overflow</a>(<a class="code" href="structidomod__sink__buffer__struct.html">idomod_sink_buffer</a> *sbuf){
<a name="l01101"></a>01101 
<a name="l01102"></a>01102         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_get_overflow()\n&quot;</span>);
<a name="l01103"></a>01103 
<a name="l01104"></a>01104         <span class="keywordflow">if</span>(sbuf==NULL)
<a name="l01105"></a>01105                 <span class="keywordflow">return</span> 0;
<a name="l01106"></a>01106         <span class="keywordflow">else</span>
<a name="l01107"></a>01107                 <span class="keywordflow">return</span> sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>;
<a name="l01108"></a>01108         }
<a name="l01109"></a>01109 
<a name="l01110"></a>01110 
<a name="l01111"></a>01111 <span class="comment">/* sets number of items lost due to buffer overflow */</span>
<a name="l01112"></a><a class="code" href="idomod_8c.html#a5cc43581f77a291289e99b4616597283">01112</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#aa0fab632cdb9bdab1547baca1c7a3930">idomod_sink_buffer_set_overflow</a>(<a class="code" href="structidomod__sink__buffer__struct.html">idomod_sink_buffer</a> *sbuf, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> num){
<a name="l01113"></a>01113 
<a name="l01114"></a>01114         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_sink_buffer_set_overflow()\n&quot;</span>);
<a name="l01115"></a>01115 
<a name="l01116"></a>01116         <span class="keywordflow">if</span>(sbuf==NULL)
<a name="l01117"></a>01117                 <span class="keywordflow">return</span> 0;
<a name="l01118"></a>01118         <span class="keywordflow">else</span>
<a name="l01119"></a>01119                 sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>=num;
<a name="l01120"></a>01120 
<a name="l01121"></a>01121         <span class="keywordflow">return</span> sbuf-&gt;<a class="code" href="structidomod__sink__buffer__struct.html#a5a448ecd029678e266f465b3b6fff79a">overflow</a>;
<a name="l01122"></a>01122         }
<a name="l01123"></a>01123 
<a name="l01124"></a>01124 
<a name="l01125"></a>01125 
<a name="l01126"></a>01126 <span class="comment">/****************************************************************************/</span>
<a name="l01127"></a>01127 <span class="comment">/* CALLBACK FUNCTIONS                                                       */</span>
<a name="l01128"></a>01128 <span class="comment">/****************************************************************************/</span>
<a name="l01129"></a>01129 
<a name="l01130"></a>01130 <span class="comment">/* registers for callbacks */</span>
<a name="l01131"></a><a class="code" href="idomod_8c.html#a315a4f1bcd58ca41f7f0ad19a1a4d4e7">01131</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a315a4f1bcd58ca41f7f0ad19a1a4d4e7">idomod_register_callbacks</a>(<span class="keywordtype">void</span>){
<a name="l01132"></a>01132         <span class="keywordtype">int</span> priority=0;
<a name="l01133"></a>01133         <span class="keywordtype">int</span> result=<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l01134"></a>01134 
<a name="l01135"></a>01135         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_register_callbacks() start\n&quot;</span>);
<a name="l01136"></a>01136 
<a name="l01137"></a>01137         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01138"></a>01138                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#abf8e809ca321c5a124f74d7f05e33468">NEBCALLBACK_PROCESS_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01139"></a>01139         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01140"></a>01140                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a4013f4db3a05529e2e41d4d34ee9486f">NEBCALLBACK_TIMED_EVENT_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01141"></a>01141         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01142"></a>01142                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a42017187f8d50fac8bf165752fbaa7ac">NEBCALLBACK_LOG_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01143"></a>01143         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01144"></a>01144                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#ab56dffe6b7777c569611a4767e7ef707">NEBCALLBACK_SYSTEM_COMMAND_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01145"></a>01145         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01146"></a>01146                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#aa724e4357e3e7b9c154b2351deac1099">NEBCALLBACK_EVENT_HANDLER_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01147"></a>01147         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01148"></a>01148                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#aa9f2b13d8ac6547ee1797583d457ef5a">NEBCALLBACK_NOTIFICATION_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01149"></a>01149         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01150"></a>01150                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#aa9d1e2d3f3a0fd148e8ad2f1edae4563">NEBCALLBACK_SERVICE_CHECK_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01151"></a>01151         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01152"></a>01152                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a7b9426da5bfaabe3f8b8efe36f04ead6">NEBCALLBACK_HOST_CHECK_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01153"></a>01153         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01154"></a>01154                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#aa429c3363aa98e8d4a74cc53352fadd0">NEBCALLBACK_COMMENT_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01155"></a>01155         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01156"></a>01156                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a7a2bcc79f96f51bbd3a876c1efb75996">NEBCALLBACK_DOWNTIME_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01157"></a>01157         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01158"></a>01158                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a679f59d58b0df1f0492716440cda07dd">NEBCALLBACK_FLAPPING_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01159"></a>01159         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01160"></a>01160                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a161e4790421f92e4e9b98cadc895388d">NEBCALLBACK_PROGRAM_STATUS_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01161"></a>01161         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01162"></a>01162                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#aabb4189dde152da2d2d09d94f2414da0">NEBCALLBACK_HOST_STATUS_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01163"></a>01163         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01164"></a>01164                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#ac941726d038fb259629b059668731a66">NEBCALLBACK_SERVICE_STATUS_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01165"></a>01165         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01166"></a>01166                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#ad98f1819e841463db5474ea5fd2cabc3">NEBCALLBACK_ADAPTIVE_PROGRAM_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01167"></a>01167         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01168"></a>01168                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a979d03e11cc90963a6e662811f639b71">NEBCALLBACK_ADAPTIVE_HOST_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01169"></a>01169         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01170"></a>01170                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#ae3b4cde61a663c4c93a92cc8e5637900">NEBCALLBACK_ADAPTIVE_SERVICE_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01171"></a>01171         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01172"></a>01172                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a569abd7a194711f198e89e8bd5228e7e">NEBCALLBACK_EXTERNAL_COMMAND_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01173"></a>01173         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01174"></a>01174                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#af969bf6f53be4986bbe59f6e104724f0">NEBCALLBACK_AGGREGATED_STATUS_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01175"></a>01175         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01176"></a>01176                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a76b0ed838568971d0f353e0fefca487d">NEBCALLBACK_RETENTION_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01177"></a>01177         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01178"></a>01178                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#acc1403ffa7970f73de45d81df71c28a5">NEBCALLBACK_CONTACT_NOTIFICATION_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01179"></a>01179         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01180"></a>01180                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#acfd938f6714a0dd894ef034c3172d5c5">NEBCALLBACK_CONTACT_NOTIFICATION_METHOD_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01181"></a>01181         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01182"></a>01182                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#ac32b7fe1941ac718906ff15cdd997ade">NEBCALLBACK_ACKNOWLEDGEMENT_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01183"></a>01183         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01184"></a>01184                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a268af5bf9795ccf8664bcdd9cd4c238f">NEBCALLBACK_STATE_CHANGE_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01185"></a>01185         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01186"></a>01186                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a964bd30568870d7d1ec53b743105d957">NEBCALLBACK_CONTACT_STATUS_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01187"></a>01187         <span class="keywordflow">if</span>(result==<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l01188"></a>01188                 result=<a class="code" href="nebcallbacks_8h.html#a0339f7a75022d9ec5a9695be8b00a700">neb_register_callback</a>(<a class="code" href="nebcallbacks_8h.html#a5bfadda34e6d9bd0f0b7ef35685ce411">NEBCALLBACK_ADAPTIVE_CONTACT_DATA</a>,<a class="code" href="idomod_8c.html#a6ee11c5d65565ba436410566e324447d">idomod_module_handle</a>,priority,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01189"></a>01189 
<a name="l01190"></a>01190         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_register_callbacks() end\n&quot;</span>);
<a name="l01191"></a>01191 
<a name="l01192"></a>01192         <span class="keywordflow">return</span> result;
<a name="l01193"></a>01193         }
<a name="l01194"></a>01194 
<a name="l01195"></a>01195 
<a name="l01196"></a>01196 <span class="comment">/* deregisters callbacks */</span>
<a name="l01197"></a><a class="code" href="idomod_8c.html#a11cf8a247e7757c459c1d05f91a5face">01197</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a11cf8a247e7757c459c1d05f91a5face">idomod_deregister_callbacks</a>(<span class="keywordtype">void</span>){
<a name="l01198"></a>01198 
<a name="l01199"></a>01199         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_deregister_callbacks() start\n&quot;</span>);
<a name="l01200"></a>01200 
<a name="l01201"></a>01201         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#abf8e809ca321c5a124f74d7f05e33468">NEBCALLBACK_PROCESS_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01202"></a>01202         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a4013f4db3a05529e2e41d4d34ee9486f">NEBCALLBACK_TIMED_EVENT_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01203"></a>01203         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a42017187f8d50fac8bf165752fbaa7ac">NEBCALLBACK_LOG_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01204"></a>01204         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#ab56dffe6b7777c569611a4767e7ef707">NEBCALLBACK_SYSTEM_COMMAND_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01205"></a>01205         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#aa724e4357e3e7b9c154b2351deac1099">NEBCALLBACK_EVENT_HANDLER_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01206"></a>01206         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#aa9f2b13d8ac6547ee1797583d457ef5a">NEBCALLBACK_NOTIFICATION_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01207"></a>01207         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#aa9d1e2d3f3a0fd148e8ad2f1edae4563">NEBCALLBACK_SERVICE_CHECK_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01208"></a>01208         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a7b9426da5bfaabe3f8b8efe36f04ead6">NEBCALLBACK_HOST_CHECK_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01209"></a>01209         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#aa429c3363aa98e8d4a74cc53352fadd0">NEBCALLBACK_COMMENT_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01210"></a>01210         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a7a2bcc79f96f51bbd3a876c1efb75996">NEBCALLBACK_DOWNTIME_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01211"></a>01211         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a679f59d58b0df1f0492716440cda07dd">NEBCALLBACK_FLAPPING_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01212"></a>01212         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a161e4790421f92e4e9b98cadc895388d">NEBCALLBACK_PROGRAM_STATUS_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01213"></a>01213         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#aabb4189dde152da2d2d09d94f2414da0">NEBCALLBACK_HOST_STATUS_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01214"></a>01214         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#ac941726d038fb259629b059668731a66">NEBCALLBACK_SERVICE_STATUS_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01215"></a>01215         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#ad98f1819e841463db5474ea5fd2cabc3">NEBCALLBACK_ADAPTIVE_PROGRAM_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01216"></a>01216         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a979d03e11cc90963a6e662811f639b71">NEBCALLBACK_ADAPTIVE_HOST_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01217"></a>01217         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#ae3b4cde61a663c4c93a92cc8e5637900">NEBCALLBACK_ADAPTIVE_SERVICE_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01218"></a>01218         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a569abd7a194711f198e89e8bd5228e7e">NEBCALLBACK_EXTERNAL_COMMAND_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01219"></a>01219         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#af969bf6f53be4986bbe59f6e104724f0">NEBCALLBACK_AGGREGATED_STATUS_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01220"></a>01220         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a76b0ed838568971d0f353e0fefca487d">NEBCALLBACK_RETENTION_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01221"></a>01221         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#acc1403ffa7970f73de45d81df71c28a5">NEBCALLBACK_CONTACT_NOTIFICATION_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01222"></a>01222         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#acfd938f6714a0dd894ef034c3172d5c5">NEBCALLBACK_CONTACT_NOTIFICATION_METHOD_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01223"></a>01223         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#ac32b7fe1941ac718906ff15cdd997ade">NEBCALLBACK_ACKNOWLEDGEMENT_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01224"></a>01224         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a268af5bf9795ccf8664bcdd9cd4c238f">NEBCALLBACK_STATE_CHANGE_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01225"></a>01225         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a964bd30568870d7d1ec53b743105d957">NEBCALLBACK_CONTACT_STATUS_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01226"></a>01226         <a class="code" href="nebcallbacks_8h.html#ab42bba2db6b1851e1068efa26936c287">neb_deregister_callback</a>(<a class="code" href="nebcallbacks_8h.html#a5bfadda34e6d9bd0f0b7ef35685ce411">NEBCALLBACK_ADAPTIVE_CONTACT_DATA</a>,<a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>);
<a name="l01227"></a>01227 
<a name="l01228"></a>01228         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_deregister_callbacks() end\n&quot;</span>);
<a name="l01229"></a>01229 
<a name="l01230"></a>01230         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l01231"></a>01231         }
<a name="l01232"></a>01232 
<a name="l01233"></a>01233 
<a name="l01234"></a>01234 <span class="comment">/* handles brokered event data */</span>
<a name="l01235"></a><a class="code" href="idomod_8c.html#a880ef98ccd3b1235cd6f7307a2f0b429">01235</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#aa03622fdf447cf72679734b30f4b339c">idomod_broker_data</a>(<span class="keywordtype">int</span> event_type, <span class="keywordtype">void</span> *data){
<a name="l01236"></a>01236         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l01237"></a>01237         <a class="code" href="structido__dbuf__struct.html">ido_dbuf</a> <a class="code" href="icinga_8h.html#a81e73ddd5893b96b528c00be05e66d7a">dbuf</a>;
<a name="l01238"></a>01238         <span class="keywordtype">int</span> write_to_sink=<a class="code" href="module_2idoutils_2include_2common_8h.html#a1fa5946b37f7219aef0f13d921804a2f">IDO_TRUE</a>;
<a name="l01239"></a>01239         <a class="code" href="structhost__struct.html">host</a> *temp_host=NULL;
<a name="l01240"></a>01240         <a class="code" href="structservice__struct.html">service</a> *temp_service=NULL;
<a name="l01241"></a>01241         <a class="code" href="structcontact__struct.html">contact</a> *temp_contact=NULL;
<a name="l01242"></a>01242         <span class="keywordtype">char</span> *es[9];
<a name="l01243"></a>01243         <span class="keywordtype">int</span> x=0;
<a name="l01244"></a>01244         <a class="code" href="structscheduled__downtime__struct.html">scheduled_downtime</a> *temp_downtime=NULL;
<a name="l01245"></a>01245         <a class="code" href="structcomment__struct.html">comment</a> *temp_comment=NULL;
<a name="l01246"></a>01246         <a class="code" href="structnebstruct__process__struct.html">nebstruct_process_data</a> *procdata=NULL;
<a name="l01247"></a>01247         <a class="code" href="structnebstruct__timed__event__struct.html">nebstruct_timed_event_data</a> *eventdata=NULL;
<a name="l01248"></a>01248         <a class="code" href="structnebstruct__log__struct.html">nebstruct_log_data</a> *logdata=NULL;
<a name="l01249"></a>01249         <a class="code" href="structnebstruct__system__command__struct.html">nebstruct_system_command_data</a> *cmddata=NULL;
<a name="l01250"></a>01250         <a class="code" href="structnebstruct__event__handler__struct.html">nebstruct_event_handler_data</a> *ehanddata=NULL;
<a name="l01251"></a>01251         <a class="code" href="structnebstruct__notification__struct.html">nebstruct_notification_data</a> *notdata=NULL;
<a name="l01252"></a>01252         <a class="code" href="structnebstruct__service__check__struct.html">nebstruct_service_check_data</a> *scdata=NULL;
<a name="l01253"></a>01253         <a class="code" href="structnebstruct__host__check__struct.html">nebstruct_host_check_data</a> *hcdata=NULL;
<a name="l01254"></a>01254         <a class="code" href="structnebstruct__comment__struct.html">nebstruct_comment_data</a> *comdata=NULL;
<a name="l01255"></a>01255         <a class="code" href="structnebstruct__downtime__struct.html">nebstruct_downtime_data</a> *downdata=NULL;
<a name="l01256"></a>01256         <a class="code" href="structnebstruct__flapping__struct.html">nebstruct_flapping_data</a> *flapdata=NULL;
<a name="l01257"></a>01257         <a class="code" href="structnebstruct__program__status__struct.html">nebstruct_program_status_data</a> *psdata=NULL;
<a name="l01258"></a>01258         <a class="code" href="structnebstruct__host__status__struct.html">nebstruct_host_status_data</a> *hsdata=NULL;
<a name="l01259"></a>01259         <a class="code" href="structnebstruct__service__status__struct.html">nebstruct_service_status_data</a> *ssdata=NULL;
<a name="l01260"></a>01260         <a class="code" href="structnebstruct__adaptive__program__data__struct.html">nebstruct_adaptive_program_data</a> *apdata=NULL;
<a name="l01261"></a>01261         <a class="code" href="structnebstruct__adaptive__host__data__struct.html">nebstruct_adaptive_host_data</a> *ahdata=NULL;
<a name="l01262"></a>01262         <a class="code" href="structnebstruct__adaptive__service__data__struct.html">nebstruct_adaptive_service_data</a> *asdata=NULL;
<a name="l01263"></a>01263         <a class="code" href="structnebstruct__external__command__struct.html">nebstruct_external_command_data</a> *ecdata=NULL;
<a name="l01264"></a>01264         <a class="code" href="structnebstruct__aggregated__status__struct.html">nebstruct_aggregated_status_data</a> *agsdata=NULL;
<a name="l01265"></a>01265         <a class="code" href="structnebstruct__retention__struct.html">nebstruct_retention_data</a> *rdata=NULL;
<a name="l01266"></a>01266         <a class="code" href="structnebstruct__contact__notification__struct.html">nebstruct_contact_notification_data</a> *cnotdata=NULL;
<a name="l01267"></a>01267         <a class="code" href="structnebstruct__contact__notification__method__struct.html">nebstruct_contact_notification_method_data</a> *cnotmdata=NULL;
<a name="l01268"></a>01268         <a class="code" href="structnebstruct__acknowledgement__struct.html">nebstruct_acknowledgement_data</a> *ackdata=NULL;
<a name="l01269"></a>01269         <a class="code" href="structnebstruct__statechange__struct.html">nebstruct_statechange_data</a> *schangedata=NULL;
<a name="l01270"></a>01270         <a class="code" href="structnebstruct__contact__status__struct.html">nebstruct_contact_status_data</a> *csdata=NULL;
<a name="l01271"></a>01271         <a class="code" href="structnebstruct__adaptive__contact__data__struct.html">nebstruct_adaptive_contact_data</a> *acdata=NULL;
<a name="l01272"></a>01272 
<a name="l01273"></a>01273         <span class="keywordtype">double</span> retry_interval=0.0;
<a name="l01274"></a>01274         <span class="keywordtype">int</span> <a class="code" href="histogram_8c.html#a84c3a11c1c0c2c34123f0c7b1deb0000">last_state</a>=-1;
<a name="l01275"></a>01275         <span class="keywordtype">int</span> last_hard_state=-1;
<a name="l01276"></a>01276 
<a name="l01277"></a>01277         <a class="code" href="structcustomvariablesmember__struct.html">customvariablesmember</a> *temp_customvar=NULL;
<a name="l01278"></a>01278 
<a name="l01279"></a>01279         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_broker_data() start\n&quot;</span>);
<a name="l01280"></a>01280 
<a name="l01281"></a>01281         <span class="keywordflow">if</span>(data==NULL)
<a name="l01282"></a>01282                 <span class="keywordflow">return</span> 0;
<a name="l01283"></a>01283 
<a name="l01284"></a>01284         <span class="comment">/* should we handle this type of data? */</span>
<a name="l01285"></a>01285         <span class="keywordflow">switch</span>(event_type){
<a name="l01286"></a>01286 
<a name="l01287"></a>01287         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#abf8e809ca321c5a124f74d7f05e33468">NEBCALLBACK_PROCESS_DATA</a>:
<a name="l01288"></a>01288                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#ab2c12cfd986f301a04cd38c0ee138737">IDOMOD_PROCESS_PROCESS_DATA</a>))
<a name="l01289"></a>01289                         <span class="keywordflow">return</span> 0;
<a name="l01290"></a>01290                 <span class="keywordflow">break</span>;
<a name="l01291"></a>01291         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a4013f4db3a05529e2e41d4d34ee9486f">NEBCALLBACK_TIMED_EVENT_DATA</a>:
<a name="l01292"></a>01292                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a172a37fc5de7613b01e011b290986cfb">IDOMOD_PROCESS_TIMED_EVENT_DATA</a>))
<a name="l01293"></a>01293                         <span class="keywordflow">return</span> 0;
<a name="l01294"></a>01294                 <span class="keywordflow">break</span>;
<a name="l01295"></a>01295         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a42017187f8d50fac8bf165752fbaa7ac">NEBCALLBACK_LOG_DATA</a>:
<a name="l01296"></a>01296                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a2d24d268fd5829978eac69b5d64d3eaf">IDOMOD_PROCESS_LOG_DATA</a>))
<a name="l01297"></a>01297                         <span class="keywordflow">return</span> 0;
<a name="l01298"></a>01298                 <span class="keywordflow">break</span>;
<a name="l01299"></a>01299         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#ab56dffe6b7777c569611a4767e7ef707">NEBCALLBACK_SYSTEM_COMMAND_DATA</a>:
<a name="l01300"></a>01300                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#ade01a71cf7aa35f90e2edf9f8d7b7b99">IDOMOD_PROCESS_SYSTEM_COMMAND_DATA</a>))
<a name="l01301"></a>01301                         <span class="keywordflow">return</span> 0;
<a name="l01302"></a>01302                 <span class="keywordflow">break</span>;
<a name="l01303"></a>01303         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#aa724e4357e3e7b9c154b2351deac1099">NEBCALLBACK_EVENT_HANDLER_DATA</a>:
<a name="l01304"></a>01304                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#aab1a20b7d6625661f3f6c16ad4efbe58">IDOMOD_PROCESS_EVENT_HANDLER_DATA</a>))
<a name="l01305"></a>01305                         <span class="keywordflow">return</span> 0;
<a name="l01306"></a>01306                 <span class="keywordflow">break</span>;
<a name="l01307"></a>01307         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#aa9f2b13d8ac6547ee1797583d457ef5a">NEBCALLBACK_NOTIFICATION_DATA</a>:
<a name="l01308"></a>01308                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a3c666bfebf3f7eb5e7e57fe6c9d17883">IDOMOD_PROCESS_NOTIFICATION_DATA</a>))
<a name="l01309"></a>01309                         <span class="keywordflow">return</span> 0;
<a name="l01310"></a>01310                 <span class="keywordflow">break</span>;
<a name="l01311"></a>01311         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#aa9d1e2d3f3a0fd148e8ad2f1edae4563">NEBCALLBACK_SERVICE_CHECK_DATA</a>:
<a name="l01312"></a>01312                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a7cb150a2ab5a39a5935b348ae2d70c17">IDOMOD_PROCESS_SERVICE_CHECK_DATA</a>))
<a name="l01313"></a>01313                         <span class="keywordflow">return</span> 0;
<a name="l01314"></a>01314                 <span class="keywordflow">break</span>;
<a name="l01315"></a>01315         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a7b9426da5bfaabe3f8b8efe36f04ead6">NEBCALLBACK_HOST_CHECK_DATA</a>:
<a name="l01316"></a>01316                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#aa386c2ec49a46a18996d3322358aa7b2">IDOMOD_PROCESS_HOST_CHECK_DATA</a>))
<a name="l01317"></a>01317                         <span class="keywordflow">return</span> 0;
<a name="l01318"></a>01318                 <span class="keywordflow">break</span>;
<a name="l01319"></a>01319         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#aa429c3363aa98e8d4a74cc53352fadd0">NEBCALLBACK_COMMENT_DATA</a>:
<a name="l01320"></a>01320                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#aaa638578815cfa5d147b96e26bd190b3">IDOMOD_PROCESS_COMMENT_DATA</a>))
<a name="l01321"></a>01321                         <span class="keywordflow">return</span> 0;
<a name="l01322"></a>01322                 <span class="keywordflow">break</span>;
<a name="l01323"></a>01323         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a7a2bcc79f96f51bbd3a876c1efb75996">NEBCALLBACK_DOWNTIME_DATA</a>:
<a name="l01324"></a>01324                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a33551b2bd1908c8ecb5bf1c95c062f46">IDOMOD_PROCESS_DOWNTIME_DATA</a>))
<a name="l01325"></a>01325                         <span class="keywordflow">return</span> 0;
<a name="l01326"></a>01326                 <span class="keywordflow">break</span>;
<a name="l01327"></a>01327         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a679f59d58b0df1f0492716440cda07dd">NEBCALLBACK_FLAPPING_DATA</a>:
<a name="l01328"></a>01328                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a1611ed8d4381b1c447ffd4d4f9ca5f73">IDOMOD_PROCESS_FLAPPING_DATA</a>))
<a name="l01329"></a>01329                         <span class="keywordflow">return</span> 0;
<a name="l01330"></a>01330                 <span class="keywordflow">break</span>;
<a name="l01331"></a>01331         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a161e4790421f92e4e9b98cadc895388d">NEBCALLBACK_PROGRAM_STATUS_DATA</a>:
<a name="l01332"></a>01332                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a4ad4213939f507feaeeb4c0c5df861a0">IDOMOD_PROCESS_PROGRAM_STATUS_DATA</a>))
<a name="l01333"></a>01333                         <span class="keywordflow">return</span> 0;
<a name="l01334"></a>01334                 <span class="keywordflow">break</span>;
<a name="l01335"></a>01335         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#aabb4189dde152da2d2d09d94f2414da0">NEBCALLBACK_HOST_STATUS_DATA</a>:
<a name="l01336"></a>01336                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a43f953f8784ba2eb61abc2ee8ff270fa">IDOMOD_PROCESS_HOST_STATUS_DATA</a>))
<a name="l01337"></a>01337                         <span class="keywordflow">return</span> 0;
<a name="l01338"></a>01338                 <span class="keywordflow">break</span>;
<a name="l01339"></a>01339         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#ac941726d038fb259629b059668731a66">NEBCALLBACK_SERVICE_STATUS_DATA</a>:
<a name="l01340"></a>01340                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#ac130b361e4533cfd3e45986b898c158e">IDOMOD_PROCESS_SERVICE_STATUS_DATA</a>))
<a name="l01341"></a>01341                         <span class="keywordflow">return</span> 0;
<a name="l01342"></a>01342                 <span class="keywordflow">break</span>;
<a name="l01343"></a>01343         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a964bd30568870d7d1ec53b743105d957">NEBCALLBACK_CONTACT_STATUS_DATA</a>:
<a name="l01344"></a>01344                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a6e9981b33c24752d71f547db644c3bf4">IDOMOD_PROCESS_CONTACT_STATUS_DATA</a>))
<a name="l01345"></a>01345                         <span class="keywordflow">return</span> 0;
<a name="l01346"></a>01346                 <span class="keywordflow">break</span>;
<a name="l01347"></a>01347         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#ad98f1819e841463db5474ea5fd2cabc3">NEBCALLBACK_ADAPTIVE_PROGRAM_DATA</a>:
<a name="l01348"></a>01348                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a714974f93a8f2d37f7936c31ca220b7a">IDOMOD_PROCESS_ADAPTIVE_PROGRAM_DATA</a>))
<a name="l01349"></a>01349                         <span class="keywordflow">return</span> 0;
<a name="l01350"></a>01350                 <span class="keywordflow">break</span>;
<a name="l01351"></a>01351         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a979d03e11cc90963a6e662811f639b71">NEBCALLBACK_ADAPTIVE_HOST_DATA</a>:
<a name="l01352"></a>01352                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#ac9918b0a40a2faa66bc78785ce28b39f">IDOMOD_PROCESS_ADAPTIVE_HOST_DATA</a>))
<a name="l01353"></a>01353                         <span class="keywordflow">return</span> 0;
<a name="l01354"></a>01354                 <span class="keywordflow">break</span>;
<a name="l01355"></a>01355         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#ae3b4cde61a663c4c93a92cc8e5637900">NEBCALLBACK_ADAPTIVE_SERVICE_DATA</a>:
<a name="l01356"></a>01356                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a54e43aaa1904d0233c247a4ff7f9d308">IDOMOD_PROCESS_ADAPTIVE_SERVICE_DATA</a>))
<a name="l01357"></a>01357                         <span class="keywordflow">return</span> 0;
<a name="l01358"></a>01358                 <span class="keywordflow">break</span>;
<a name="l01359"></a>01359         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a5bfadda34e6d9bd0f0b7ef35685ce411">NEBCALLBACK_ADAPTIVE_CONTACT_DATA</a>:
<a name="l01360"></a>01360                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#acfba61c2d7c5d6cc7714f23615e258e4">IDOMOD_PROCESS_ADAPTIVE_CONTACT_DATA</a>))
<a name="l01361"></a>01361                         <span class="keywordflow">return</span> 0;
<a name="l01362"></a>01362                 <span class="keywordflow">break</span>;
<a name="l01363"></a>01363         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a569abd7a194711f198e89e8bd5228e7e">NEBCALLBACK_EXTERNAL_COMMAND_DATA</a>:
<a name="l01364"></a>01364                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a409c00787d42f48206db71f28267e0b0">IDOMOD_PROCESS_EXTERNAL_COMMAND_DATA</a>))
<a name="l01365"></a>01365                         <span class="keywordflow">return</span> 0;
<a name="l01366"></a>01366                 <span class="keywordflow">break</span>;
<a name="l01367"></a>01367         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#af969bf6f53be4986bbe59f6e104724f0">NEBCALLBACK_AGGREGATED_STATUS_DATA</a>:
<a name="l01368"></a>01368                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a0d8588d08e2c5ff3180ef13b79412e95">IDOMOD_PROCESS_AGGREGATED_STATUS_DATA</a>))
<a name="l01369"></a>01369                         <span class="keywordflow">return</span> 0;
<a name="l01370"></a>01370                 <span class="keywordflow">break</span>;
<a name="l01371"></a>01371         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a76b0ed838568971d0f353e0fefca487d">NEBCALLBACK_RETENTION_DATA</a>:
<a name="l01372"></a>01372                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a63e357afc049836501eb2063180c3871">IDOMOD_PROCESS_RETENTION_DATA</a>))
<a name="l01373"></a>01373                         <span class="keywordflow">return</span> 0;
<a name="l01374"></a>01374                 <span class="keywordflow">break</span>;
<a name="l01375"></a>01375         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#acc1403ffa7970f73de45d81df71c28a5">NEBCALLBACK_CONTACT_NOTIFICATION_DATA</a>:
<a name="l01376"></a>01376                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; IDOMOD_PROCESS_NOTIFICATION_DATA))
<a name="l01377"></a>01377                         <span class="keywordflow">return</span> 0;
<a name="l01378"></a>01378                 <span class="keywordflow">break</span>;
<a name="l01379"></a>01379         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#acfd938f6714a0dd894ef034c3172d5c5">NEBCALLBACK_CONTACT_NOTIFICATION_METHOD_DATA</a>:
<a name="l01380"></a>01380                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; IDOMOD_PROCESS_NOTIFICATION_DATA))
<a name="l01381"></a>01381                         <span class="keywordflow">return</span> 0;
<a name="l01382"></a>01382                 <span class="keywordflow">break</span>;
<a name="l01383"></a>01383         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#ac32b7fe1941ac718906ff15cdd997ade">NEBCALLBACK_ACKNOWLEDGEMENT_DATA</a>:
<a name="l01384"></a>01384                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a3c6cb5d2455f58d306826277d091dd5a">IDOMOD_PROCESS_ACKNOWLEDGEMENT_DATA</a>))
<a name="l01385"></a>01385                         <span class="keywordflow">return</span> 0;
<a name="l01386"></a>01386                 <span class="keywordflow">break</span>;
<a name="l01387"></a>01387         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a268af5bf9795ccf8664bcdd9cd4c238f">NEBCALLBACK_STATE_CHANGE_DATA</a>:
<a name="l01388"></a>01388                 <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a10216d1f8e65d8cc106b5eb3fa1ff327">IDOMOD_PROCESS_STATECHANGE_DATA</a>))
<a name="l01389"></a>01389                         <span class="keywordflow">return</span> 0;
<a name="l01390"></a>01390                 <span class="keywordflow">break</span>;
<a name="l01391"></a>01391         <span class="keywordflow">default</span>:
<a name="l01392"></a>01392                 <span class="keywordflow">break</span>;
<a name="l01393"></a>01393                 }
<a name="l01394"></a>01394 
<a name="l01395"></a>01395 
<a name="l01396"></a>01396         <span class="comment">/* initialize escaped buffers */</span>
<a name="l01397"></a>01397         <span class="keywordflow">for</span>(x=0;x&lt;8;x++)
<a name="l01398"></a>01398                 es[x]=NULL;
<a name="l01399"></a>01399 
<a name="l01400"></a>01400         <span class="comment">/* initialize dynamic buffer (2KB chunk size) */</span>
<a name="l01401"></a>01401         <a class="code" href="utils_8h.html#ae9f1cad57e2f46c321f8a7a96d18b5be">ido_dbuf_init</a>(&amp;dbuf,2048);
<a name="l01402"></a>01402 
<a name="l01403"></a>01403 
<a name="l01404"></a>01404         <span class="comment">/* handle the event */</span>
<a name="l01405"></a>01405         <span class="keywordflow">switch</span>(event_type){
<a name="l01406"></a>01406 
<a name="l01407"></a>01407         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#abf8e809ca321c5a124f74d7f05e33468">NEBCALLBACK_PROCESS_DATA</a>:
<a name="l01408"></a>01408 
<a name="l01409"></a>01409                 procdata=(<a class="code" href="structnebstruct__process__struct.html">nebstruct_process_data</a> *)data;
<a name="l01410"></a>01410 
<a name="l01411"></a>01411                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01412"></a>01412                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%s\n%d=%lu\n%d\n\n&quot;</span>
<a name="l01413"></a>01413                          ,<a class="code" href="protoapi_8h.html#a2defaf6aa13ed283c0fbc79af064e63a">IDO_API_PROCESSDATA</a>
<a name="l01414"></a>01414                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01415"></a>01415                          ,procdata-&gt;<a class="code" href="structnebstruct__process__struct.html#a14b5652c17edc10f1516360ae0f2786d">type</a>
<a name="l01416"></a>01416                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01417"></a>01417                          ,procdata-&gt;<a class="code" href="structnebstruct__process__struct.html#a603574f3d3914b0ef0a485e89cbbdb11">flags</a>
<a name="l01418"></a>01418                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01419"></a>01419                          ,procdata-&gt;<a class="code" href="structnebstruct__process__struct.html#a2f539af2cbbda22940fdd70f1b9a26e0">attr</a>
<a name="l01420"></a>01420                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01421"></a>01421                          ,procdata-&gt;<a class="code" href="structnebstruct__process__struct.html#a670db0b51c0baa9d31df016ded99a045">timestamp</a>.tv_sec
<a name="l01422"></a>01422                          ,procdata-&gt;<a class="code" href="structnebstruct__process__struct.html#a670db0b51c0baa9d31df016ded99a045">timestamp</a>.tv_usec
<a name="l01423"></a>01423                          ,<a class="code" href="protoapi_8h.html#a0e648a4ba7e96bee86d2111efef55b3e">IDO_DATA_PROGRAMNAME</a>
<a name="l01424"></a>01424                          ,<span class="stringliteral">&quot;Icinga&quot;</span>
<a name="l01425"></a>01425                          ,<a class="code" href="protoapi_8h.html#adc3931ef384a3e8176fab2d0a1a7a8d4">IDO_DATA_PROGRAMVERSION</a>
<a name="l01426"></a>01426                          ,<a class="code" href="base_2utils_8c.html#ade8ccff1909f57e46466b88c3c3b2049">get_program_version</a>()
<a name="l01427"></a>01427                          ,<a class="code" href="protoapi_8h.html#aa703803b04dfab92e1cb05b40de545f5">IDO_DATA_PROGRAMDATE</a>
<a name="l01428"></a>01428                          ,<a class="code" href="base_2utils_8c.html#aef14f091b53abfe102f4cd000b848294">get_program_modification_date</a>()
<a name="l01429"></a>01429                          ,<a class="code" href="protoapi_8h.html#a2b7f676ac509f946a1f1e0c4bd762942">IDO_DATA_PROCESSID</a>
<a name="l01430"></a>01430                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)getpid()
<a name="l01431"></a>01431                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01432"></a>01432                         );
<a name="l01433"></a>01433 
<a name="l01434"></a>01434                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01435"></a>01435                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l01436"></a>01436 
<a name="l01437"></a>01437                 <span class="keywordflow">break</span>;
<a name="l01438"></a>01438 
<a name="l01439"></a>01439         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a4013f4db3a05529e2e41d4d34ee9486f">NEBCALLBACK_TIMED_EVENT_DATA</a>:
<a name="l01440"></a>01440 
<a name="l01441"></a>01441                 eventdata=(<a class="code" href="structnebstruct__timed__event__struct.html">nebstruct_timed_event_data</a> *)data;
<a name="l01442"></a>01442 
<a name="l01443"></a>01443                 <span class="keywordflow">switch</span>(eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a6b6058189b2b9f49fa4726185b8f61d0">event_type</a>){
<a name="l01444"></a>01444 
<a name="l01445"></a>01445                 <span class="keywordflow">case</span> <a class="code" href="icinga_8h.html#ac4b16f89255236e7625b6f1429d8ea7a">EVENT_SERVICE_CHECK</a>:
<a name="l01446"></a>01446                         temp_service=(<a class="code" href="structservice__struct.html">service</a> *)eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#aa8cab4effa39f12325fe7f6e44a0ef8f">event_data</a>;
<a name="l01447"></a>01447 
<a name="l01448"></a>01448                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#ac8e06ecb2bddf149916fa2f6e4077836">host_name</a>);
<a name="l01449"></a>01449                         es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a646fc0478ea62db804e9cd8c84f53ad9">description</a>);
<a name="l01450"></a>01450 
<a name="l01451"></a>01451                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01452"></a>01452                                  ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%d\n%d=%lu\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l01453"></a>01453                                  ,<a class="code" href="protoapi_8h.html#a6a8d0b985cfaad4366c8ac01d33c5759">IDO_API_TIMEDEVENTDATA</a>
<a name="l01454"></a>01454                                  ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01455"></a>01455                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a4c6bfa2b23371b240ef0e91ce9561cc1">type</a>
<a name="l01456"></a>01456                                  ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01457"></a>01457                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a9fc4fb666c3b8a59a24f493377d0c189">flags</a>
<a name="l01458"></a>01458                                  ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01459"></a>01459                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a6e21c7691b6c73ede1957178395ae80f">attr</a>
<a name="l01460"></a>01460                                  ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01461"></a>01461                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a016fda90a2f765cbe6f472d11cfb9897">timestamp</a>.tv_sec
<a name="l01462"></a>01462                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a016fda90a2f765cbe6f472d11cfb9897">timestamp</a>.tv_usec
<a name="l01463"></a>01463                                  ,<a class="code" href="protoapi_8h.html#ab40a90addc9c082e1b2d4303bf38d13e">IDO_DATA_EVENTTYPE</a>
<a name="l01464"></a>01464                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a6b6058189b2b9f49fa4726185b8f61d0">event_type</a>
<a name="l01465"></a>01465                                  ,<a class="code" href="protoapi_8h.html#ad16aa2a5065789fd6e16dbdd671f58a7">IDO_DATA_RECURRING</a>
<a name="l01466"></a>01466                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a967c119dd6ec43593873662df8bde7da">recurring</a>
<a name="l01467"></a>01467                                  ,<a class="code" href="protoapi_8h.html#af7dafc8afc4df126b97cd25891e5a049">IDO_DATA_RUNTIME</a>
<a name="l01468"></a>01468                                  ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a7cb1a14aa7dcdc7144f8ad828fa53e59">run_time</a>
<a name="l01469"></a>01469                                  ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l01470"></a>01470                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l01471"></a>01471                                  ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l01472"></a>01472                                  ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l01473"></a>01473                                  ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01474"></a>01474                                 );
<a name="l01475"></a>01475 
<a name="l01476"></a>01476                         <span class="keywordflow">break</span>;
<a name="l01477"></a>01477 
<a name="l01478"></a>01478                 <span class="keywordflow">case</span> <a class="code" href="icinga_8h.html#adac8bc2857b48c06d324ceda474084c8">EVENT_HOST_CHECK</a>:
<a name="l01479"></a>01479                         temp_host=(<a class="code" href="structhost__struct.html">host</a> *)eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#aa8cab4effa39f12325fe7f6e44a0ef8f">event_data</a>;
<a name="l01480"></a>01480 
<a name="l01481"></a>01481                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a29629acc48c023596d81b061b5f135f7">name</a>);
<a name="l01482"></a>01482 
<a name="l01483"></a>01483                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01484"></a>01484                                  ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%d\n%d=%lu\n%d=%s\n%d\n\n&quot;</span>
<a name="l01485"></a>01485                                  ,<a class="code" href="protoapi_8h.html#a6a8d0b985cfaad4366c8ac01d33c5759">IDO_API_TIMEDEVENTDATA</a>
<a name="l01486"></a>01486                                  ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01487"></a>01487                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a4c6bfa2b23371b240ef0e91ce9561cc1">type</a>
<a name="l01488"></a>01488                                  ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01489"></a>01489                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a9fc4fb666c3b8a59a24f493377d0c189">flags</a>
<a name="l01490"></a>01490                                  ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01491"></a>01491                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a6e21c7691b6c73ede1957178395ae80f">attr</a>
<a name="l01492"></a>01492                                  ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01493"></a>01493                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a016fda90a2f765cbe6f472d11cfb9897">timestamp</a>.tv_sec
<a name="l01494"></a>01494                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a016fda90a2f765cbe6f472d11cfb9897">timestamp</a>.tv_usec
<a name="l01495"></a>01495                                  ,<a class="code" href="protoapi_8h.html#ab40a90addc9c082e1b2d4303bf38d13e">IDO_DATA_EVENTTYPE</a>
<a name="l01496"></a>01496                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a6b6058189b2b9f49fa4726185b8f61d0">event_type</a>
<a name="l01497"></a>01497                                  ,<a class="code" href="protoapi_8h.html#ad16aa2a5065789fd6e16dbdd671f58a7">IDO_DATA_RECURRING</a>
<a name="l01498"></a>01498                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a967c119dd6ec43593873662df8bde7da">recurring</a>
<a name="l01499"></a>01499                                  ,<a class="code" href="protoapi_8h.html#af7dafc8afc4df126b97cd25891e5a049">IDO_DATA_RUNTIME</a>
<a name="l01500"></a>01500                                  ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a7cb1a14aa7dcdc7144f8ad828fa53e59">run_time</a>
<a name="l01501"></a>01501                                  ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l01502"></a>01502                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l01503"></a>01503                                  ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01504"></a>01504                                 );
<a name="l01505"></a>01505 
<a name="l01506"></a>01506                         <span class="keywordflow">break</span>;
<a name="l01507"></a>01507 
<a name="l01508"></a>01508                 <span class="keywordflow">case</span> <a class="code" href="icinga_8h.html#a73c9d53561204c695658e50a1266ac18">EVENT_SCHEDULED_DOWNTIME</a>:
<a name="l01509"></a>01509                         temp_downtime=<a class="code" href="downtime_8c.html#a22c7ad43ab722f40ac397871687e4bc3">find_downtime</a>(<a class="code" href="include_2common_8h.html#aa5393a84348d7909088710b05d78a76c">ANY_DOWNTIME</a>,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#aa8cab4effa39f12325fe7f6e44a0ef8f">event_data</a>);
<a name="l01510"></a>01510 
<a name="l01511"></a>01511                         <span class="keywordflow">if</span>(temp_downtime!=NULL){
<a name="l01512"></a>01512                                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_downtime-&gt;<a class="code" href="structscheduled__downtime__struct.html#a75ec5aa68f0ba2710b58e0c311973a01">host_name</a>);
<a name="l01513"></a>01513                                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_downtime-&gt;<a class="code" href="structscheduled__downtime__struct.html#a6832da598408fbf942d33363a16b16ae">service_description</a>);
<a name="l01514"></a>01514                                 }
<a name="l01515"></a>01515 
<a name="l01516"></a>01516                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01517"></a>01517                                  ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%d\n%d=%lu\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l01518"></a>01518                                  ,<a class="code" href="protoapi_8h.html#a6a8d0b985cfaad4366c8ac01d33c5759">IDO_API_TIMEDEVENTDATA</a>
<a name="l01519"></a>01519                                  ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01520"></a>01520                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a4c6bfa2b23371b240ef0e91ce9561cc1">type</a>
<a name="l01521"></a>01521                                  ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01522"></a>01522                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a9fc4fb666c3b8a59a24f493377d0c189">flags</a>
<a name="l01523"></a>01523                                  ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01524"></a>01524                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a6e21c7691b6c73ede1957178395ae80f">attr</a>
<a name="l01525"></a>01525                                  ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01526"></a>01526                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a016fda90a2f765cbe6f472d11cfb9897">timestamp</a>.tv_sec
<a name="l01527"></a>01527                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a016fda90a2f765cbe6f472d11cfb9897">timestamp</a>.tv_usec
<a name="l01528"></a>01528                                  ,<a class="code" href="protoapi_8h.html#ab40a90addc9c082e1b2d4303bf38d13e">IDO_DATA_EVENTTYPE</a>
<a name="l01529"></a>01529                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a6b6058189b2b9f49fa4726185b8f61d0">event_type</a>
<a name="l01530"></a>01530                                  ,<a class="code" href="protoapi_8h.html#ad16aa2a5065789fd6e16dbdd671f58a7">IDO_DATA_RECURRING</a>
<a name="l01531"></a>01531                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a967c119dd6ec43593873662df8bde7da">recurring</a>
<a name="l01532"></a>01532                                  ,<a class="code" href="protoapi_8h.html#af7dafc8afc4df126b97cd25891e5a049">IDO_DATA_RUNTIME</a>
<a name="l01533"></a>01533                                  ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a7cb1a14aa7dcdc7144f8ad828fa53e59">run_time</a>
<a name="l01534"></a>01534                                  ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l01535"></a>01535                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l01536"></a>01536                                  ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l01537"></a>01537                                  ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l01538"></a>01538                                  ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01539"></a>01539                                 );
<a name="l01540"></a>01540 
<a name="l01541"></a>01541                         <span class="keywordflow">break</span>;
<a name="l01542"></a>01542 
<a name="l01543"></a>01543                 <span class="keywordflow">default</span>:
<a name="l01544"></a>01544                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01545"></a>01545                                  ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%d\n%d=%lu\n%d\n\n&quot;</span>
<a name="l01546"></a>01546                                  ,<a class="code" href="protoapi_8h.html#a6a8d0b985cfaad4366c8ac01d33c5759">IDO_API_TIMEDEVENTDATA</a>
<a name="l01547"></a>01547                                  ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01548"></a>01548                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a4c6bfa2b23371b240ef0e91ce9561cc1">type</a>
<a name="l01549"></a>01549                                  ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01550"></a>01550                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a9fc4fb666c3b8a59a24f493377d0c189">flags</a>
<a name="l01551"></a>01551                                  ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01552"></a>01552                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a6e21c7691b6c73ede1957178395ae80f">attr</a>
<a name="l01553"></a>01553                                  ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01554"></a>01554                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a016fda90a2f765cbe6f472d11cfb9897">timestamp</a>.tv_sec
<a name="l01555"></a>01555                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a016fda90a2f765cbe6f472d11cfb9897">timestamp</a>.tv_usec
<a name="l01556"></a>01556                                  ,<a class="code" href="protoapi_8h.html#ab40a90addc9c082e1b2d4303bf38d13e">IDO_DATA_EVENTTYPE</a>
<a name="l01557"></a>01557                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a6b6058189b2b9f49fa4726185b8f61d0">event_type</a>
<a name="l01558"></a>01558                                  ,<a class="code" href="protoapi_8h.html#ad16aa2a5065789fd6e16dbdd671f58a7">IDO_DATA_RECURRING</a>
<a name="l01559"></a>01559                                  ,eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a967c119dd6ec43593873662df8bde7da">recurring</a>
<a name="l01560"></a>01560                                  ,<a class="code" href="protoapi_8h.html#af7dafc8afc4df126b97cd25891e5a049">IDO_DATA_RUNTIME</a>
<a name="l01561"></a>01561                                  ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)eventdata-&gt;<a class="code" href="structnebstruct__timed__event__struct.html#a7cb1a14aa7dcdc7144f8ad828fa53e59">run_time</a>
<a name="l01562"></a>01562                                  ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01563"></a>01563                                 );
<a name="l01564"></a>01564                         <span class="keywordflow">break</span>;
<a name="l01565"></a>01565                         }
<a name="l01566"></a>01566 
<a name="l01567"></a>01567                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01568"></a>01568                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l01569"></a>01569 
<a name="l01570"></a>01570                 <span class="keywordflow">break</span>;
<a name="l01571"></a>01571 
<a name="l01572"></a>01572         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a42017187f8d50fac8bf165752fbaa7ac">NEBCALLBACK_LOG_DATA</a>:
<a name="l01573"></a>01573 
<a name="l01574"></a>01574                 logdata=(<a class="code" href="structnebstruct__log__struct.html">nebstruct_log_data</a> *)data;
<a name="l01575"></a>01575 
<a name="l01576"></a>01576                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01577"></a>01577                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%lu\n%d=%d\n%d=%s\n%d\n\n&quot;</span>
<a name="l01578"></a>01578                          ,<a class="code" href="protoapi_8h.html#a6deb62675655343189dd6bd772c552e6">IDO_API_LOGDATA</a>
<a name="l01579"></a>01579                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01580"></a>01580                          ,logdata-&gt;<a class="code" href="structnebstruct__log__struct.html#ad1405eee271be2a2d5b637aa8ce2b1db">type</a>
<a name="l01581"></a>01581                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01582"></a>01582                          ,logdata-&gt;<a class="code" href="structnebstruct__log__struct.html#a15a455a8ea3ba70816080c765fca0b84">flags</a>
<a name="l01583"></a>01583                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01584"></a>01584                          ,logdata-&gt;<a class="code" href="structnebstruct__log__struct.html#affee6ddd9963cd3823e15a2a6cfb9e1f">attr</a>
<a name="l01585"></a>01585                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01586"></a>01586                          ,logdata-&gt;<a class="code" href="structnebstruct__log__struct.html#a9cf2ba856653d3383d6ca9ac170a008c">timestamp</a>.tv_sec
<a name="l01587"></a>01587                          ,logdata-&gt;<a class="code" href="structnebstruct__log__struct.html#a9cf2ba856653d3383d6ca9ac170a008c">timestamp</a>.tv_usec
<a name="l01588"></a>01588                          ,<a class="code" href="protoapi_8h.html#a3b9be7884925c723553b66cd77249d6f">IDO_DATA_LOGENTRYTIME</a>
<a name="l01589"></a>01589                          ,logdata-&gt;<a class="code" href="structnebstruct__log__struct.html#a93ffeafdbb0bf2735526ad6a61d7901a">entry_time</a>
<a name="l01590"></a>01590                          ,<a class="code" href="protoapi_8h.html#aae6699d3a2a3c1a773b4c5714986f885">IDO_DATA_LOGENTRYTYPE</a>
<a name="l01591"></a>01591                          ,logdata-&gt;<a class="code" href="structnebstruct__log__struct.html#ad2e1dab8723a9b395b4eeab3cd33d605">data_type</a>
<a name="l01592"></a>01592                          ,<a class="code" href="protoapi_8h.html#ac38e904406aaae2e5e2ba1367ffe1cca">IDO_DATA_LOGENTRY</a>
<a name="l01593"></a>01593                          ,logdata-&gt;<a class="code" href="structnebstruct__log__struct.html#ad2c6a6e3933e0e412e43eeeab4ffe197">data</a>
<a name="l01594"></a>01594                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01595"></a>01595                         );
<a name="l01596"></a>01596 
<a name="l01597"></a>01597                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01598"></a>01598                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l01599"></a>01599 
<a name="l01600"></a>01600                 <span class="keywordflow">break</span>;
<a name="l01601"></a>01601 
<a name="l01602"></a>01602         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#ab56dffe6b7777c569611a4767e7ef707">NEBCALLBACK_SYSTEM_COMMAND_DATA</a>:
<a name="l01603"></a>01603 
<a name="l01604"></a>01604                 cmddata=(<a class="code" href="structnebstruct__system__command__struct.html">nebstruct_system_command_data</a> *)data;
<a name="l01605"></a>01605 
<a name="l01606"></a>01606                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a6258eee1c8480123df202edd80d3aefe">command_line</a>);
<a name="l01607"></a>01607                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a40bf309017dddebe69fa00a5be3b8a5a">output</a>);
<a name="l01608"></a>01608                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a40bf309017dddebe69fa00a5be3b8a5a">output</a>);
<a name="l01609"></a>01609 
<a name="l01610"></a>01610                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01611"></a>01611                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%ld.%ld\n%d=%ld.%ld\n%d=%d\n%d=%s\n%d=%d\n%d=%.5lf\n%d=%d\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l01612"></a>01612                          ,<a class="code" href="protoapi_8h.html#ab7372cef50e6aafc989f793e19d9b3a1">IDO_API_SYSTEMCOMMANDDATA</a>
<a name="l01613"></a>01613                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01614"></a>01614                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#aa54ba27a286527e563b418722b62901c">type</a>
<a name="l01615"></a>01615                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01616"></a>01616                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a879e3288a45af4e745981b34524ccdcf">flags</a>
<a name="l01617"></a>01617                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01618"></a>01618                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#ad98038b13171324c53dc0200d6bb36d0">attr</a>
<a name="l01619"></a>01619                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01620"></a>01620                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a571e17505bd2260f92ec669619af510c">timestamp</a>.tv_sec
<a name="l01621"></a>01621                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a571e17505bd2260f92ec669619af510c">timestamp</a>.tv_usec
<a name="l01622"></a>01622                          ,<a class="code" href="protoapi_8h.html#a00554a9e5e4b8769aa4d8bcccd56ea38">IDO_DATA_STARTTIME</a>
<a name="l01623"></a>01623                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#aabd7905a54ec7a55939a6a9298498b35">start_time</a>.tv_sec
<a name="l01624"></a>01624                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#aabd7905a54ec7a55939a6a9298498b35">start_time</a>.tv_usec
<a name="l01625"></a>01625                          ,<a class="code" href="protoapi_8h.html#a408cce5553665c2774205b029685843d">IDO_DATA_ENDTIME</a>
<a name="l01626"></a>01626                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a4f9fec51aefe1144cec5cfdab9c6ecb6">end_time</a>.tv_sec
<a name="l01627"></a>01627                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a4f9fec51aefe1144cec5cfdab9c6ecb6">end_time</a>.tv_usec
<a name="l01628"></a>01628                          ,<a class="code" href="protoapi_8h.html#a3100bec815b957f5aa7236d673653e17">IDO_DATA_TIMEOUT</a>
<a name="l01629"></a>01629                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a491344d4ef516b046903ef16f03012bd">timeout</a>
<a name="l01630"></a>01630                          ,<a class="code" href="protoapi_8h.html#a797b41343ddb6ee93294ae3b46734315">IDO_DATA_COMMANDLINE</a>
<a name="l01631"></a>01631                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l01632"></a>01632                          ,<a class="code" href="protoapi_8h.html#ad3ac88288c9e783e1c7d6a12470f59b2">IDO_DATA_EARLYTIMEOUT</a>
<a name="l01633"></a>01633                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#ae22961332aa833a4981d504a4cca73b4">early_timeout</a>
<a name="l01634"></a>01634                          ,<a class="code" href="protoapi_8h.html#adaf0f2da4d146a1ffb2694a39225afe5">IDO_DATA_EXECUTIONTIME</a>
<a name="l01635"></a>01635                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a65c7ee0d31f81407a8d6c69cd0c32f7e">execution_time</a>
<a name="l01636"></a>01636                          ,<a class="code" href="protoapi_8h.html#ab188422d686380817b481a8c34490ae7">IDO_DATA_RETURNCODE</a>
<a name="l01637"></a>01637                          ,cmddata-&gt;<a class="code" href="structnebstruct__system__command__struct.html#a4afe8f79bde1f22e3f310a88ced3a0a1">return_code</a>
<a name="l01638"></a>01638                          ,<a class="code" href="protoapi_8h.html#a79b9988701ece77b5d4238c52587d9e2">IDO_DATA_OUTPUT</a>
<a name="l01639"></a>01639                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l01640"></a>01640                          ,<a class="code" href="protoapi_8h.html#a7f458d11ea6db92724ab27d4d53687c9">IDO_DATA_LONGOUTPUT</a>
<a name="l01641"></a>01641                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l01642"></a>01642                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01643"></a>01643                         );
<a name="l01644"></a>01644 
<a name="l01645"></a>01645                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01646"></a>01646                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l01647"></a>01647 
<a name="l01648"></a>01648                 <span class="keywordflow">break</span>;
<a name="l01649"></a>01649 
<a name="l01650"></a>01650         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#aa724e4357e3e7b9c154b2351deac1099">NEBCALLBACK_EVENT_HANDLER_DATA</a>:
<a name="l01651"></a>01651 
<a name="l01652"></a>01652                 ehanddata=(<a class="code" href="structnebstruct__event__handler__struct.html">nebstruct_event_handler_data</a> *)data;
<a name="l01653"></a>01653 
<a name="l01654"></a>01654                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a7ee86a9f6892e8ee80da1695c3a4234f">host_name</a>);
<a name="l01655"></a>01655                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#aa13aa94895de34a17e96044e81347b0d">service_description</a>);
<a name="l01656"></a>01656                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#accfe4ddd9e542196a0055b375508d85e">command_name</a>);
<a name="l01657"></a>01657                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#ae907116f6de1401732d8295f2f0d0788">command_args</a>);
<a name="l01658"></a>01658                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a8c6580279f4c3ad5ee4c3460a9b608d3">command_line</a>);
<a name="l01659"></a>01659                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a762543b097d0e7df83b6481f25a203e2">output</a>);
<a name="l01660"></a>01660                 <span class="comment">/* Preparing if eventhandler will have long_output in the future */</span>
<a name="l01661"></a>01661                 es[6]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a762543b097d0e7df83b6481f25a203e2">output</a>);
<a name="l01662"></a>01662 
<a name="l01663"></a>01663                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01664"></a>01664                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%ld.%ld\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%.5lf\n%d=%d\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l01665"></a>01665                          ,<a class="code" href="protoapi_8h.html#ae1b0cae555a16c90be0e8459a8818c79">IDO_API_EVENTHANDLERDATA</a>
<a name="l01666"></a>01666                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01667"></a>01667                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#aa8b8ea67aaae4e1423289efd5c6b35e4">type</a>
<a name="l01668"></a>01668                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01669"></a>01669                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a35215866a4cbc5862f7bb73a5d402ce7">flags</a>
<a name="l01670"></a>01670                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01671"></a>01671                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a0f7ea191735b7b8603a5b9e5cd55adf1">attr</a>
<a name="l01672"></a>01672                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01673"></a>01673                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a5e445e3f9047b090d112bbcba04ba04a">timestamp</a>.tv_sec
<a name="l01674"></a>01674                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a5e445e3f9047b090d112bbcba04ba04a">timestamp</a>.tv_usec
<a name="l01675"></a>01675                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l01676"></a>01676                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l01677"></a>01677                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l01678"></a>01678                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l01679"></a>01679                          ,<a class="code" href="protoapi_8h.html#a33fdd3cb5901b3ce3d22d1bdef40a8d1">IDO_DATA_STATETYPE</a>
<a name="l01680"></a>01680                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a40969875c93645303fc511e446c2c44c">state_type</a>
<a name="l01681"></a>01681                          ,<a class="code" href="protoapi_8h.html#a8d73a8629be86438cfb9a1d69c3788dd">IDO_DATA_STATE</a>
<a name="l01682"></a>01682                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a89890cc3b92a3dc7e7b420b430ca0033">state</a>
<a name="l01683"></a>01683                          ,<a class="code" href="protoapi_8h.html#a00554a9e5e4b8769aa4d8bcccd56ea38">IDO_DATA_STARTTIME</a>
<a name="l01684"></a>01684                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#ab74da5a79b5f8adfcf77be9c2f19472e">start_time</a>.tv_sec
<a name="l01685"></a>01685                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#ab74da5a79b5f8adfcf77be9c2f19472e">start_time</a>.tv_usec
<a name="l01686"></a>01686                          ,<a class="code" href="protoapi_8h.html#a408cce5553665c2774205b029685843d">IDO_DATA_ENDTIME</a>
<a name="l01687"></a>01687                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a37c0ccd1f9dc05eb6185bfe4e15b0702">end_time</a>.tv_sec
<a name="l01688"></a>01688                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a37c0ccd1f9dc05eb6185bfe4e15b0702">end_time</a>.tv_usec
<a name="l01689"></a>01689                          ,<a class="code" href="protoapi_8h.html#a3100bec815b957f5aa7236d673653e17">IDO_DATA_TIMEOUT</a>
<a name="l01690"></a>01690                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#af62923573a6050705cf15e063051fb58">timeout</a>
<a name="l01691"></a>01691                          ,<a class="code" href="protoapi_8h.html#acd73f50c26ee48cbf61683f4df596d6b">IDO_DATA_COMMANDNAME</a>
<a name="l01692"></a>01692                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l01693"></a>01693                          ,<a class="code" href="protoapi_8h.html#a2009df1a3aaffebe6119b36976b49ee2">IDO_DATA_COMMANDARGS</a>
<a name="l01694"></a>01694                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l01695"></a>01695                          ,<a class="code" href="protoapi_8h.html#a797b41343ddb6ee93294ae3b46734315">IDO_DATA_COMMANDLINE</a>
<a name="l01696"></a>01696                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l01697"></a>01697                          ,<a class="code" href="protoapi_8h.html#ad3ac88288c9e783e1c7d6a12470f59b2">IDO_DATA_EARLYTIMEOUT</a>
<a name="l01698"></a>01698                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#ab50d2a324ba7b95fd63b9317dae52c01">early_timeout</a>
<a name="l01699"></a>01699                          ,<a class="code" href="protoapi_8h.html#adaf0f2da4d146a1ffb2694a39225afe5">IDO_DATA_EXECUTIONTIME</a>
<a name="l01700"></a>01700                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a04b0de30a0a730b7094aa47b39c556dd">execution_time</a>
<a name="l01701"></a>01701                          ,<a class="code" href="protoapi_8h.html#ab188422d686380817b481a8c34490ae7">IDO_DATA_RETURNCODE</a>
<a name="l01702"></a>01702                          ,ehanddata-&gt;<a class="code" href="structnebstruct__event__handler__struct.html#a7ba67ea385d43b79a341324750e9aa95">return_code</a>
<a name="l01703"></a>01703                          ,<a class="code" href="protoapi_8h.html#a79b9988701ece77b5d4238c52587d9e2">IDO_DATA_OUTPUT</a>
<a name="l01704"></a>01704                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l01705"></a>01705                          ,<a class="code" href="protoapi_8h.html#a7f458d11ea6db92724ab27d4d53687c9">IDO_DATA_LONGOUTPUT</a>
<a name="l01706"></a>01706                          ,(es[6]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[6]
<a name="l01707"></a>01707                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01708"></a>01708                         );
<a name="l01709"></a>01709 
<a name="l01710"></a>01710                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01711"></a>01711                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l01712"></a>01712 
<a name="l01713"></a>01713                 <span class="keywordflow">break</span>;
<a name="l01714"></a>01714 
<a name="l01715"></a>01715         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#aa9f2b13d8ac6547ee1797583d457ef5a">NEBCALLBACK_NOTIFICATION_DATA</a>:
<a name="l01716"></a>01716 
<a name="l01717"></a>01717                 notdata=(<a class="code" href="structnebstruct__notification__struct.html">nebstruct_notification_data</a> *)data;
<a name="l01718"></a>01718 
<a name="l01719"></a>01719                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a1481472829eb06981a60dd3ac4b7cbb3">host_name</a>);
<a name="l01720"></a>01720                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#ac0af98e00d297f5b4ce254e9aa37a741">service_description</a>);
<a name="l01721"></a>01721                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#af8ea1364432a2391fa3bde9099ce9ade">output</a>);
<a name="l01722"></a>01722                 <span class="comment">/* Preparing if notifications will have long_output in the future */</span>
<a name="l01723"></a>01723                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#af8ea1364432a2391fa3bde9099ce9ade">output</a>);
<a name="l01724"></a>01724                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a443aa4b67da30730bb7cfee6701bf46a">ack_author</a>);
<a name="l01725"></a>01725                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a673e37bede389d4049ed747665ea9d86">ack_data</a>);
<a name="l01726"></a>01726 
<a name="l01727"></a>01727                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01728"></a>01728                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%ld.%ld\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d\n\n&quot;</span>
<a name="l01729"></a>01729                          ,<a class="code" href="protoapi_8h.html#a113509b3ed26625996faef6fe503019a">IDO_API_NOTIFICATIONDATA</a>
<a name="l01730"></a>01730                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01731"></a>01731                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a52ac372f9bd54cad593e26dcab8a6059">type</a>
<a name="l01732"></a>01732                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01733"></a>01733                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a63cf513356408ea9eab5975eb732ef86">flags</a>
<a name="l01734"></a>01734                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01735"></a>01735                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#af03e9984aed60ec721c9e19f3b11b181">attr</a>
<a name="l01736"></a>01736                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01737"></a>01737                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a63d28d1f8ea06ff7072f208f04365ec3">timestamp</a>.tv_sec
<a name="l01738"></a>01738                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a63d28d1f8ea06ff7072f208f04365ec3">timestamp</a>.tv_usec
<a name="l01739"></a>01739                          ,<a class="code" href="protoapi_8h.html#ad4b0b95226fd5eed75e3d149c6aca718">IDO_DATA_NOTIFICATIONTYPE</a>
<a name="l01740"></a>01740                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a7a3b96fb26eb65681878d7faf53ca934">notification_type</a>
<a name="l01741"></a>01741                          ,<a class="code" href="protoapi_8h.html#a00554a9e5e4b8769aa4d8bcccd56ea38">IDO_DATA_STARTTIME</a>
<a name="l01742"></a>01742                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a76b91a5bef8911755a66ea40b0529686">start_time</a>.tv_sec
<a name="l01743"></a>01743                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a76b91a5bef8911755a66ea40b0529686">start_time</a>.tv_usec
<a name="l01744"></a>01744                          ,<a class="code" href="protoapi_8h.html#a408cce5553665c2774205b029685843d">IDO_DATA_ENDTIME</a>
<a name="l01745"></a>01745                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#aed10cce7393ac33237026698b5e5295d">end_time</a>.tv_sec
<a name="l01746"></a>01746                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#aed10cce7393ac33237026698b5e5295d">end_time</a>.tv_usec
<a name="l01747"></a>01747                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l01748"></a>01748                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l01749"></a>01749                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l01750"></a>01750                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l01751"></a>01751                          ,<a class="code" href="protoapi_8h.html#a50277ed54142e89017972a5e45d6fa42">IDO_DATA_NOTIFICATIONREASON</a>
<a name="l01752"></a>01752                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#afa1854dce1b9ca0a808dd054d21cad8b">reason_type</a>
<a name="l01753"></a>01753                          ,<a class="code" href="protoapi_8h.html#a8d73a8629be86438cfb9a1d69c3788dd">IDO_DATA_STATE</a>
<a name="l01754"></a>01754                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#aa17728f6573aa3824420aa288cf4d993">state</a>
<a name="l01755"></a>01755                          ,<a class="code" href="protoapi_8h.html#a79b9988701ece77b5d4238c52587d9e2">IDO_DATA_OUTPUT</a>
<a name="l01756"></a>01756                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l01757"></a>01757                          ,<a class="code" href="protoapi_8h.html#a7f458d11ea6db92724ab27d4d53687c9">IDO_DATA_LONGOUTPUT</a>
<a name="l01758"></a>01758                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l01759"></a>01759                          ,<a class="code" href="protoapi_8h.html#ad8d3de276c4361e82c2352b277fdf3e7">IDO_DATA_ACKAUTHOR</a>
<a name="l01760"></a>01760                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l01761"></a>01761                          ,<a class="code" href="protoapi_8h.html#a423e564a457c280dee4aa194a35e9f14">IDO_DATA_ACKDATA</a>
<a name="l01762"></a>01762                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l01763"></a>01763                          ,<a class="code" href="protoapi_8h.html#ade3b6a47d848462af804f1c2f263ac91">IDO_DATA_ESCALATED</a>
<a name="l01764"></a>01764                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#ad0a4fe6b721a8549f60f9fcdf6b88b49">escalated</a>
<a name="l01765"></a>01765                          ,<a class="code" href="protoapi_8h.html#aa0a7158ee455ad14f5a60941cedb90c4">IDO_DATA_CONTACTSNOTIFIED</a>
<a name="l01766"></a>01766                          ,notdata-&gt;<a class="code" href="structnebstruct__notification__struct.html#a2399907df83192ccb52ae67835013517">contacts_notified</a>
<a name="l01767"></a>01767                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01768"></a>01768                         );
<a name="l01769"></a>01769 
<a name="l01770"></a>01770                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01771"></a>01771                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l01772"></a>01772 
<a name="l01773"></a>01773                 <span class="keywordflow">break</span>;
<a name="l01774"></a>01774 
<a name="l01775"></a>01775         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#aa9d1e2d3f3a0fd148e8ad2f1edae4563">NEBCALLBACK_SERVICE_CHECK_DATA</a>:
<a name="l01776"></a>01776 
<a name="l01777"></a>01777                 scdata=(<a class="code" href="structnebstruct__service__check__struct.html">nebstruct_service_check_data</a> *)data;
<a name="l01778"></a>01778 
<a name="l01779"></a>01779                 <span class="comment">/* only pass NEBTYPE_SERVICECHECK_PROCESSED to ido2db */</span>
<a name="l01780"></a>01780                 <span class="keywordflow">if</span>(scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a72409875024519201f50659f005f6dc1">type</a>!=<a class="code" href="broker_8h.html#a3ddcffa5241d83e58d6530b927ccad2d">NEBTYPE_SERVICECHECK_PROCESSED</a>)
<a name="l01781"></a>01781                         <span class="keywordflow">break</span>;
<a name="l01782"></a>01782 
<a name="l01783"></a>01783                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a7f49de3dd202d77bdb3bdc9d3f5a1c72">host_name</a>);
<a name="l01784"></a>01784                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a379afb776d90af76b93618b6e34fd55b">service_description</a>);
<a name="l01785"></a>01785                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a200a5262585f4ae73f47174dece1567b">command_name</a>);
<a name="l01786"></a>01786                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a5754e472442dd9f9f829c97250434813">command_args</a>);
<a name="l01787"></a>01787                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a7e1a56a3ab453ec34ce159b0981e1ec6">command_line</a>);
<a name="l01788"></a>01788                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a34b2430cf90eedbc2e027e96616e0e77">output</a>);
<a name="l01789"></a>01789                 es[6]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a5c84af8f94e89dccf645e4d418f1436a">long_output</a>);
<a name="l01790"></a>01790                 es[7]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a00fe8f2cbe571808d891f234f812eb7c">perf_data</a>);
<a name="l01791"></a>01791 
<a name="l01792"></a>01792                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01793"></a>01793                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d=%ld.%ld\n%d=%ld.%ld\n%d=%d\n%d=%.5lf\n%d=%.5lf\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l01794"></a>01794                          ,<a class="code" href="protoapi_8h.html#a9316cbbfef444028dab7bb3e7610b3db">IDO_API_SERVICECHECKDATA</a>
<a name="l01795"></a>01795                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01796"></a>01796                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a72409875024519201f50659f005f6dc1">type</a>
<a name="l01797"></a>01797                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01798"></a>01798                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a563c85db843eeb9b7e4462fb566b36b3">flags</a>
<a name="l01799"></a>01799                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01800"></a>01800                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a890718235eb7db1cb1ab99793e47f44a">attr</a>
<a name="l01801"></a>01801                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01802"></a>01802                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#aa105fbeb3280d3081fdda28b57b71901">timestamp</a>.tv_sec
<a name="l01803"></a>01803                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#aa105fbeb3280d3081fdda28b57b71901">timestamp</a>.tv_usec
<a name="l01804"></a>01804                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l01805"></a>01805                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l01806"></a>01806                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l01807"></a>01807                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l01808"></a>01808                          ,<a class="code" href="protoapi_8h.html#a77ff9268f11614a16971e557c2901006">IDO_DATA_CHECKTYPE</a>
<a name="l01809"></a>01809                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a56499ca31625af8ce3379c7ea37c8e0c">check_type</a>
<a name="l01810"></a>01810                          ,<a class="code" href="protoapi_8h.html#abd7c05f0a71bffb4fd8ffbaaf936a37c">IDO_DATA_CURRENTCHECKATTEMPT</a>
<a name="l01811"></a>01811                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#aadb0caee7c8456b65d1c1f9897f92be8">current_attempt</a>
<a name="l01812"></a>01812                          ,<a class="code" href="protoapi_8h.html#a8392537ebb5f326159bf50ad5505a487">IDO_DATA_MAXCHECKATTEMPTS</a>
<a name="l01813"></a>01813                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a9bc6220cfd2b138a492cebf0d8359609">max_attempts</a>
<a name="l01814"></a>01814                          ,<a class="code" href="protoapi_8h.html#a33fdd3cb5901b3ce3d22d1bdef40a8d1">IDO_DATA_STATETYPE</a>
<a name="l01815"></a>01815                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#acb8897f645dae7a935040c5b8925129d">state_type</a>
<a name="l01816"></a>01816                          ,<a class="code" href="protoapi_8h.html#a8d73a8629be86438cfb9a1d69c3788dd">IDO_DATA_STATE</a>
<a name="l01817"></a>01817                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a7d8a7b7153a5de7da40ce001553f2d80">state</a>
<a name="l01818"></a>01818                          ,<a class="code" href="protoapi_8h.html#a3100bec815b957f5aa7236d673653e17">IDO_DATA_TIMEOUT</a>
<a name="l01819"></a>01819                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a12f40682d1a195efd40f19a1a4ab97b1">timeout</a>
<a name="l01820"></a>01820                          ,<a class="code" href="protoapi_8h.html#acd73f50c26ee48cbf61683f4df596d6b">IDO_DATA_COMMANDNAME</a>
<a name="l01821"></a>01821                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l01822"></a>01822                          ,<a class="code" href="protoapi_8h.html#a2009df1a3aaffebe6119b36976b49ee2">IDO_DATA_COMMANDARGS</a>
<a name="l01823"></a>01823                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l01824"></a>01824                          ,<a class="code" href="protoapi_8h.html#a797b41343ddb6ee93294ae3b46734315">IDO_DATA_COMMANDLINE</a>
<a name="l01825"></a>01825                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l01826"></a>01826                          ,<a class="code" href="protoapi_8h.html#a00554a9e5e4b8769aa4d8bcccd56ea38">IDO_DATA_STARTTIME</a>
<a name="l01827"></a>01827                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a1cd90715ac40702b8c2b9f7510496a42">start_time</a>.tv_sec
<a name="l01828"></a>01828                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a1cd90715ac40702b8c2b9f7510496a42">start_time</a>.tv_usec
<a name="l01829"></a>01829                          ,<a class="code" href="protoapi_8h.html#a408cce5553665c2774205b029685843d">IDO_DATA_ENDTIME</a>
<a name="l01830"></a>01830                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a36ce1c128a8ad375a0da1753e3fd4559">end_time</a>.tv_sec
<a name="l01831"></a>01831                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a36ce1c128a8ad375a0da1753e3fd4559">end_time</a>.tv_usec
<a name="l01832"></a>01832                          ,<a class="code" href="protoapi_8h.html#ad3ac88288c9e783e1c7d6a12470f59b2">IDO_DATA_EARLYTIMEOUT</a>
<a name="l01833"></a>01833                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#ad3465fb1b8a66d8a0b6892f27502be91">early_timeout</a>
<a name="l01834"></a>01834                          ,<a class="code" href="protoapi_8h.html#adaf0f2da4d146a1ffb2694a39225afe5">IDO_DATA_EXECUTIONTIME</a>
<a name="l01835"></a>01835                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#abbf26f65ef5b52aeea52dff14fc74068">execution_time</a>
<a name="l01836"></a>01836                          ,<a class="code" href="protoapi_8h.html#a5dd5eeeed4d25e22cbee669c4799e933">IDO_DATA_LATENCY</a>
<a name="l01837"></a>01837                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#affad8ed6f2fc8677593be4eb549d6c01">latency</a>
<a name="l01838"></a>01838                          ,<a class="code" href="protoapi_8h.html#ab188422d686380817b481a8c34490ae7">IDO_DATA_RETURNCODE</a>
<a name="l01839"></a>01839                          ,scdata-&gt;<a class="code" href="structnebstruct__service__check__struct.html#a5045eb74d36a5e7fb870c036ec336d49">return_code</a>
<a name="l01840"></a>01840                          ,<a class="code" href="protoapi_8h.html#a79b9988701ece77b5d4238c52587d9e2">IDO_DATA_OUTPUT</a>
<a name="l01841"></a>01841                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l01842"></a>01842                          ,<a class="code" href="protoapi_8h.html#a7f458d11ea6db92724ab27d4d53687c9">IDO_DATA_LONGOUTPUT</a>
<a name="l01843"></a>01843                          ,(es[6]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[6]
<a name="l01844"></a>01844                          ,<a class="code" href="protoapi_8h.html#ad9bf2e95ab220a518ceb0b8efe2473c6">IDO_DATA_PERFDATA</a>
<a name="l01845"></a>01845                          ,(es[7]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[7]
<a name="l01846"></a>01846                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01847"></a>01847                         );
<a name="l01848"></a>01848 
<a name="l01849"></a>01849                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01850"></a>01850                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l01851"></a>01851 
<a name="l01852"></a>01852                 <span class="keywordflow">break</span>;
<a name="l01853"></a>01853 
<a name="l01854"></a>01854         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a7b9426da5bfaabe3f8b8efe36f04ead6">NEBCALLBACK_HOST_CHECK_DATA</a>:
<a name="l01855"></a>01855 
<a name="l01856"></a>01856                 hcdata=(<a class="code" href="structnebstruct__host__check__struct.html">nebstruct_host_check_data</a> *)data;
<a name="l01857"></a>01857 
<a name="l01858"></a>01858                 <span class="comment">/* only pass NEBTYPE_HOSTCHECK_PROCESSED to ido2db */</span>
<a name="l01859"></a>01859                 <span class="keywordflow">if</span>(hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a7af7692903483e825ad18d7501a82c40">type</a>!=<a class="code" href="broker_8h.html#a1d83d192c64f341aca35a6cd145c71be">NEBTYPE_HOSTCHECK_PROCESSED</a>)
<a name="l01860"></a>01860                         <span class="keywordflow">break</span>;
<a name="l01861"></a>01861 
<a name="l01862"></a>01862                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a6cda0b84da80a13daa7144243c215c92">host_name</a>);
<a name="l01863"></a>01863                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a578da873ca4a79b9c6b5b9e5ab38ab0a">command_name</a>);
<a name="l01864"></a>01864                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a2eb3961cf55c4920a9b2e8fa3cf01ca0">command_args</a>);
<a name="l01865"></a>01865                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#ac91b8082d5e7e95d9d142b8816567cab">command_line</a>);
<a name="l01866"></a>01866                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a4e2d11d67177f38aba2a86aaca2f0dc5">output</a>);
<a name="l01867"></a>01867                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#ae9592e8e9d3e383d0bd8c36c68cec5a6">long_output</a>);
<a name="l01868"></a>01868                 es[6]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a59c6520e1648f485575d22e6d5128958">perf_data</a>);
<a name="l01869"></a>01869 
<a name="l01870"></a>01870                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01871"></a>01871                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d=%ld.%ld\n%d=%ld.%ld\n%d=%d\n%d=%.5lf\n%d=%.5lf\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l01872"></a>01872                          ,<a class="code" href="protoapi_8h.html#a651a493fe0d4996d9befd34d959fbd1f">IDO_API_HOSTCHECKDATA</a>
<a name="l01873"></a>01873                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01874"></a>01874                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a7af7692903483e825ad18d7501a82c40">type</a>
<a name="l01875"></a>01875                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01876"></a>01876                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a18a3421a0c341e6e8b43ee2d0aab18a3">flags</a>
<a name="l01877"></a>01877                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01878"></a>01878                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a8c8a8ce758f08dd94f96f7d2e9a0669b">attr</a>
<a name="l01879"></a>01879                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01880"></a>01880                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a0a3c6cfeb05ad5f10c1e9f36f710f0b8">timestamp</a>.tv_sec
<a name="l01881"></a>01881                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a0a3c6cfeb05ad5f10c1e9f36f710f0b8">timestamp</a>.tv_usec
<a name="l01882"></a>01882                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l01883"></a>01883                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l01884"></a>01884                          ,<a class="code" href="protoapi_8h.html#a77ff9268f11614a16971e557c2901006">IDO_DATA_CHECKTYPE</a>
<a name="l01885"></a>01885                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a3dfa64023a378eaccd7c680ae1a24817">check_type</a>
<a name="l01886"></a>01886                          ,<a class="code" href="protoapi_8h.html#abd7c05f0a71bffb4fd8ffbaaf936a37c">IDO_DATA_CURRENTCHECKATTEMPT</a>
<a name="l01887"></a>01887                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a7b0f43939bdae82ac1abba3c0dda36f7">current_attempt</a>
<a name="l01888"></a>01888                          ,<a class="code" href="protoapi_8h.html#a8392537ebb5f326159bf50ad5505a487">IDO_DATA_MAXCHECKATTEMPTS</a>
<a name="l01889"></a>01889                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a91478bed19bccd964dca67464fe60e76">max_attempts</a>
<a name="l01890"></a>01890                          ,<a class="code" href="protoapi_8h.html#a33fdd3cb5901b3ce3d22d1bdef40a8d1">IDO_DATA_STATETYPE</a>
<a name="l01891"></a>01891                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#aeae897cf181e887d49129414b14f837a">state_type</a>
<a name="l01892"></a>01892                          ,<a class="code" href="protoapi_8h.html#a8d73a8629be86438cfb9a1d69c3788dd">IDO_DATA_STATE</a>
<a name="l01893"></a>01893                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#ac6cd8d46cd541bf4c2dcc950911a9900">state</a>
<a name="l01894"></a>01894                          ,<a class="code" href="protoapi_8h.html#a3100bec815b957f5aa7236d673653e17">IDO_DATA_TIMEOUT</a>
<a name="l01895"></a>01895                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a725334236ac3ffb20eea9094668d56f9">timeout</a>
<a name="l01896"></a>01896                          ,<a class="code" href="protoapi_8h.html#acd73f50c26ee48cbf61683f4df596d6b">IDO_DATA_COMMANDNAME</a>
<a name="l01897"></a>01897                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l01898"></a>01898                          ,<a class="code" href="protoapi_8h.html#a2009df1a3aaffebe6119b36976b49ee2">IDO_DATA_COMMANDARGS</a>
<a name="l01899"></a>01899                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l01900"></a>01900                          ,<a class="code" href="protoapi_8h.html#a797b41343ddb6ee93294ae3b46734315">IDO_DATA_COMMANDLINE</a>
<a name="l01901"></a>01901                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l01902"></a>01902                          ,<a class="code" href="protoapi_8h.html#a00554a9e5e4b8769aa4d8bcccd56ea38">IDO_DATA_STARTTIME</a>
<a name="l01903"></a>01903                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a37c26cab657aa110dfc5852a1ac18c51">start_time</a>.tv_sec
<a name="l01904"></a>01904                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a37c26cab657aa110dfc5852a1ac18c51">start_time</a>.tv_usec
<a name="l01905"></a>01905                          ,<a class="code" href="protoapi_8h.html#a408cce5553665c2774205b029685843d">IDO_DATA_ENDTIME</a>
<a name="l01906"></a>01906                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a6eaf653dd63e84d271e052b65d7f3e63">end_time</a>.tv_sec
<a name="l01907"></a>01907                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a6eaf653dd63e84d271e052b65d7f3e63">end_time</a>.tv_usec
<a name="l01908"></a>01908                          ,<a class="code" href="protoapi_8h.html#ad3ac88288c9e783e1c7d6a12470f59b2">IDO_DATA_EARLYTIMEOUT</a>
<a name="l01909"></a>01909                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a6032095d57a6594da710a39521098760">early_timeout</a>
<a name="l01910"></a>01910                          ,<a class="code" href="protoapi_8h.html#adaf0f2da4d146a1ffb2694a39225afe5">IDO_DATA_EXECUTIONTIME</a>
<a name="l01911"></a>01911                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#a8ea4f94ffd7cbb6527f1ae6b2b243ae5">execution_time</a>
<a name="l01912"></a>01912                          ,<a class="code" href="protoapi_8h.html#a5dd5eeeed4d25e22cbee669c4799e933">IDO_DATA_LATENCY</a>
<a name="l01913"></a>01913                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#ab8d49d2fc2b766f78590b56d6ea8b8bb">latency</a>
<a name="l01914"></a>01914                          ,<a class="code" href="protoapi_8h.html#ab188422d686380817b481a8c34490ae7">IDO_DATA_RETURNCODE</a>
<a name="l01915"></a>01915                          ,hcdata-&gt;<a class="code" href="structnebstruct__host__check__struct.html#ae810dca8d03f1156b2618da496e776c2">return_code</a>
<a name="l01916"></a>01916                          ,<a class="code" href="protoapi_8h.html#a79b9988701ece77b5d4238c52587d9e2">IDO_DATA_OUTPUT</a>
<a name="l01917"></a>01917                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l01918"></a>01918                          ,<a class="code" href="protoapi_8h.html#a7f458d11ea6db92724ab27d4d53687c9">IDO_DATA_LONGOUTPUT</a>
<a name="l01919"></a>01919                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l01920"></a>01920                          ,<a class="code" href="protoapi_8h.html#ad9bf2e95ab220a518ceb0b8efe2473c6">IDO_DATA_PERFDATA</a>
<a name="l01921"></a>01921                          ,(es[6]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[6]
<a name="l01922"></a>01922                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01923"></a>01923                         );
<a name="l01924"></a>01924 
<a name="l01925"></a>01925                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01926"></a>01926                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l01927"></a>01927 
<a name="l01928"></a>01928                 <span class="keywordflow">break</span>;
<a name="l01929"></a>01929 
<a name="l01930"></a>01930         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#aa429c3363aa98e8d4a74cc53352fadd0">NEBCALLBACK_COMMENT_DATA</a>:
<a name="l01931"></a>01931 
<a name="l01932"></a>01932                 comdata=(<a class="code" href="structnebstruct__comment__struct.html">nebstruct_comment_data</a> *)data;
<a name="l01933"></a>01933 
<a name="l01934"></a>01934                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a1100940462de02f41c70224c3b20ab0e">host_name</a>);
<a name="l01935"></a>01935                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a4a1d94858d3fbfdbb225f1d1d2f9c7eb">service_description</a>);
<a name="l01936"></a>01936                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#aa92cfc04db5ae94547c10597b01f6584">author_name</a>);
<a name="l01937"></a>01937                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#abc9b8387b7ff1c39462e623e147ee4cb">comment_data</a>);
<a name="l01938"></a>01938 
<a name="l01939"></a>01939                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01940"></a>01940                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%s\n%d=%s\n%d=%lu\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%lu\n%d=%lu\n%d\n\n&quot;</span>
<a name="l01941"></a>01941                          ,<a class="code" href="protoapi_8h.html#ad9d292303f055f3f91997a84a3819fa2">IDO_API_COMMENTDATA</a>
<a name="l01942"></a>01942                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01943"></a>01943                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#af23937aef1f2cb877942b8ef581f3b87">type</a>
<a name="l01944"></a>01944                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01945"></a>01945                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a1628a57e0931e2871744176a298b2120">flags</a>
<a name="l01946"></a>01946                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l01947"></a>01947                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a37ebe7648df01e0c6f895857e680e0e2">attr</a>
<a name="l01948"></a>01948                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l01949"></a>01949                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a8fc73c356ffcc0bef124f7bbb9bbc2ba">timestamp</a>.tv_sec
<a name="l01950"></a>01950                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a8fc73c356ffcc0bef124f7bbb9bbc2ba">timestamp</a>.tv_usec
<a name="l01951"></a>01951                          ,<a class="code" href="protoapi_8h.html#aa2886863699a5c23dc82072ec3c7c829">IDO_DATA_COMMENTTYPE</a>
<a name="l01952"></a>01952                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#aa867bf7a9b497c276fa7aa9089b33660">comment_type</a>
<a name="l01953"></a>01953                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l01954"></a>01954                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l01955"></a>01955                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l01956"></a>01956                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l01957"></a>01957                          ,<a class="code" href="protoapi_8h.html#a8bfde7113d3b2ed7d214f8560b9260e1">IDO_DATA_ENTRYTIME</a>
<a name="l01958"></a>01958                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a8ed2c72c0be06c9ee899e21988720fa4">entry_time</a>
<a name="l01959"></a>01959                          ,<a class="code" href="protoapi_8h.html#ab3a119d01ae07a248bd6124a5c629f21">IDO_DATA_AUTHORNAME</a>
<a name="l01960"></a>01960                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l01961"></a>01961                          ,<a class="code" href="protoapi_8h.html#ad89736cc384a59b6f243b8426f6a591a">IDO_DATA_COMMENT</a>
<a name="l01962"></a>01962                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l01963"></a>01963                          ,<a class="code" href="protoapi_8h.html#a0c1254472259c6fece1e836593140961">IDO_DATA_PERSISTENT</a>
<a name="l01964"></a>01964                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#aac5b7009c6933810d1322e98fb3106c4">persistent</a>
<a name="l01965"></a>01965                          ,<a class="code" href="protoapi_8h.html#aa4f9ac94b9817591a098c3ff9bd649a2">IDO_DATA_SOURCE</a>
<a name="l01966"></a>01966                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#adb04c432f175bb5fc0b8b8bd676671fc">source</a>
<a name="l01967"></a>01967                          ,<a class="code" href="protoapi_8h.html#a1de0aea26c10de3750185b529ff6787d">IDO_DATA_ENTRYTYPE</a>
<a name="l01968"></a>01968                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a64fc9fa6716ec32341adc5540e492788">entry_type</a>
<a name="l01969"></a>01969                          ,<a class="code" href="protoapi_8h.html#a3e22859122d4703df85f1af6f30864e9">IDO_DATA_EXPIRES</a>
<a name="l01970"></a>01970                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a62d0e01c5671035b344751e5395faa90">expires</a>
<a name="l01971"></a>01971                          ,<a class="code" href="protoapi_8h.html#acdbe0e83ae641d1bf4f8a79a7b727346">IDO_DATA_EXPIRATIONTIME</a>
<a name="l01972"></a>01972                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a7a167e031d5f286850e6ebe258a52da4">expire_time</a>
<a name="l01973"></a>01973                          ,<a class="code" href="protoapi_8h.html#a69bdf1a416e493f4911490760d79fb22">IDO_DATA_COMMENTID</a>
<a name="l01974"></a>01974                          ,comdata-&gt;<a class="code" href="structnebstruct__comment__struct.html#a82338c3c25c5f8089fb862ab59085edf">comment_id</a>
<a name="l01975"></a>01975                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l01976"></a>01976                         );
<a name="l01977"></a>01977 
<a name="l01978"></a>01978                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01979"></a>01979                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l01980"></a>01980 
<a name="l01981"></a>01981                 <span class="keywordflow">break</span>;
<a name="l01982"></a>01982 
<a name="l01983"></a>01983         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a7a2bcc79f96f51bbd3a876c1efb75996">NEBCALLBACK_DOWNTIME_DATA</a>:
<a name="l01984"></a>01984 
<a name="l01985"></a>01985                 downdata=(<a class="code" href="structnebstruct__downtime__struct.html">nebstruct_downtime_data</a> *)data;
<a name="l01986"></a>01986 
<a name="l01987"></a>01987                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#ad4b7b8911a020016079dfcabc29a6f50">host_name</a>);
<a name="l01988"></a>01988                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#a735685f19349580240f90183831d9e5e">service_description</a>);
<a name="l01989"></a>01989                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#a4a86c96c72391495f0dbf8456a38eced">author_name</a>);
<a name="l01990"></a>01990                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#aa78c2dd8a56664fcce7116509b6e0fde">comment_data</a>);
<a name="l01991"></a>01991 
<a name="l01992"></a>01992                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l01993"></a>01993                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%s\n%d=%s\n%d=%lu\n%d=%s\n%d=%s\n%d=%lu\n%d=%lu\n%d=%d\n%d=%lu\n%d=%lu\n%d=%lu\n%d\n\n&quot;</span>
<a name="l01994"></a>01994                          ,<a class="code" href="protoapi_8h.html#a0272d60c9929fb0351c16684f93143b8">IDO_API_DOWNTIMEDATA</a>
<a name="l01995"></a>01995                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l01996"></a>01996                          ,downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#a4576f61295dd29892dba8dde7a5b4136">type</a>
<a name="l01997"></a>01997                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l01998"></a>01998                          ,downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#a64089eb687dfdc49ee8e746b444bfa1d">flags</a>
<a name="l01999"></a>01999                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02000"></a>02000                          ,downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#a7df61df1db38475d253e301c83871004">attr</a>
<a name="l02001"></a>02001                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02002"></a>02002                          ,downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#ac6ef342af40bfbb94a06d9101a9f6a3c">timestamp</a>.tv_sec
<a name="l02003"></a>02003                          ,downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#ac6ef342af40bfbb94a06d9101a9f6a3c">timestamp</a>.tv_usec
<a name="l02004"></a>02004                          ,<a class="code" href="protoapi_8h.html#a8a8d8fd0409640935b60bbb0133f56f8">IDO_DATA_DOWNTIMETYPE</a>
<a name="l02005"></a>02005                          ,downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#ab3a4bc7df24478b46a790ed4b5f5dba7">downtime_type</a>
<a name="l02006"></a>02006                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l02007"></a>02007                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02008"></a>02008                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l02009"></a>02009                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02010"></a>02010                          ,<a class="code" href="protoapi_8h.html#a8bfde7113d3b2ed7d214f8560b9260e1">IDO_DATA_ENTRYTIME</a>
<a name="l02011"></a>02011                          ,downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#a9229f66d0ff5af56e5176b82ad0b984f">entry_time</a>
<a name="l02012"></a>02012                          ,<a class="code" href="protoapi_8h.html#ab3a119d01ae07a248bd6124a5c629f21">IDO_DATA_AUTHORNAME</a>
<a name="l02013"></a>02013                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l02014"></a>02014                          ,<a class="code" href="protoapi_8h.html#ad89736cc384a59b6f243b8426f6a591a">IDO_DATA_COMMENT</a>
<a name="l02015"></a>02015                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l02016"></a>02016                          ,<a class="code" href="protoapi_8h.html#a00554a9e5e4b8769aa4d8bcccd56ea38">IDO_DATA_STARTTIME</a>
<a name="l02017"></a>02017                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#ac085289c9d691834dffb4d2373e3d1dd">start_time</a>
<a name="l02018"></a>02018                          ,<a class="code" href="protoapi_8h.html#a408cce5553665c2774205b029685843d">IDO_DATA_ENDTIME</a>
<a name="l02019"></a>02019                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#ac43fb610a591bde28755a7b3e9e965c2">end_time</a>
<a name="l02020"></a>02020                          ,<a class="code" href="protoapi_8h.html#ada930024fed4d2974020a6d108c2048b">IDO_DATA_FIXED</a>
<a name="l02021"></a>02021                          ,downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#a64e66117a65e4cbe64f315d22f3b71c5">fixed</a>
<a name="l02022"></a>02022                          ,<a class="code" href="protoapi_8h.html#a9bb1d4b2ac04616680f57d4c8da4fa1d">IDO_DATA_DURATION</a>
<a name="l02023"></a>02023                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#a7c0f1e6a7155da8e01897330b4ee916d">duration</a>
<a name="l02024"></a>02024                          ,<a class="code" href="protoapi_8h.html#a428008159dfc1e27fc984e15f04fdf21">IDO_DATA_TRIGGEREDBY</a>
<a name="l02025"></a>02025                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#a49f7d713cac6051ab59f39b21b313724">triggered_by</a>
<a name="l02026"></a>02026                          ,<a class="code" href="protoapi_8h.html#a59c1b2ecb201e89f068d3e52a83fa6ea">IDO_DATA_DOWNTIMEID</a>
<a name="l02027"></a>02027                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)downdata-&gt;<a class="code" href="structnebstruct__downtime__struct.html#a31fe7e542b5c70a2c8738a3a2ca030e8">downtime_id</a>
<a name="l02028"></a>02028                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02029"></a>02029                         );
<a name="l02030"></a>02030 
<a name="l02031"></a>02031                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02032"></a>02032                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02033"></a>02033 
<a name="l02034"></a>02034                 <span class="keywordflow">break</span>;
<a name="l02035"></a>02035 
<a name="l02036"></a>02036         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a679f59d58b0df1f0492716440cda07dd">NEBCALLBACK_FLAPPING_DATA</a>:
<a name="l02037"></a>02037 
<a name="l02038"></a>02038                 flapdata=(<a class="code" href="structnebstruct__flapping__struct.html">nebstruct_flapping_data</a> *)data;
<a name="l02039"></a>02039 
<a name="l02040"></a>02040                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a240fad87d17f21c2431cd74c4d270104">host_name</a>);
<a name="l02041"></a>02041                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a7b3a540e7cc957294c6c89b4b0cb6d54">service_description</a>);
<a name="l02042"></a>02042 
<a name="l02043"></a>02043                 <span class="keywordflow">if</span>(flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a3b2c1f9f4c28e65b8db174e44f20d361">flapping_type</a>==<a class="code" href="icinga_8h.html#af49fb7e1c41abc971f154e1c704a8ea4">HOST_FLAPPING</a>)
<a name="l02044"></a>02044                         temp_comment=<a class="code" href="comments_8c.html#a4e9e16cc471f3d6525ecc123aac62ce7">find_host_comment</a>(flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a516dc768bd061397a0b54d8159e15171">comment_id</a>);
<a name="l02045"></a>02045                 <span class="keywordflow">else</span>
<a name="l02046"></a>02046                         temp_comment=<a class="code" href="comments_8c.html#aa6e8d30bde07dfeb9a24037f5940993f">find_service_comment</a>(flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a516dc768bd061397a0b54d8159e15171">comment_id</a>);
<a name="l02047"></a>02047 
<a name="l02048"></a>02048                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02049"></a>02049                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%s\n%d=%s\n%d=%.5lf\n%d=%.5lf\n%d=%.5lf\n%d=%lu\n%d=%lu\n%d\n\n&quot;</span>
<a name="l02050"></a>02050                          ,<a class="code" href="protoapi_8h.html#a1e48d08089a794b71e0b57cde370bedc">IDO_API_FLAPPINGDATA</a>
<a name="l02051"></a>02051                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02052"></a>02052                          ,flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a920a18b9ab65c87c6601b2ac8ddc3e02">type</a>
<a name="l02053"></a>02053                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02054"></a>02054                          ,flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a773cd52ecef56596e76944e401316b9e">flags</a>
<a name="l02055"></a>02055                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02056"></a>02056                          ,flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#adf56744a2d4cf86a4f5bfb33a13bc61f">attr</a>
<a name="l02057"></a>02057                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02058"></a>02058                          ,flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#afbdd9f713dbcc0c29bf90f97ee992bd7">timestamp</a>.tv_sec
<a name="l02059"></a>02059                          ,flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#afbdd9f713dbcc0c29bf90f97ee992bd7">timestamp</a>.tv_usec
<a name="l02060"></a>02060                          ,<a class="code" href="protoapi_8h.html#ae7a35129d1e70ab8745b0a7e9ce502ab">IDO_DATA_FLAPPINGTYPE</a>
<a name="l02061"></a>02061                          ,flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a3b2c1f9f4c28e65b8db174e44f20d361">flapping_type</a>
<a name="l02062"></a>02062                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l02063"></a>02063                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02064"></a>02064                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l02065"></a>02065                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02066"></a>02066                          ,<a class="code" href="protoapi_8h.html#a456359c7bbc7e6ef0c8b524d249997f1">IDO_DATA_PERCENTSTATECHANGE</a>
<a name="l02067"></a>02067                          ,flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a65839b8a8921f3312a6e7a0d020d6e14">percent_change</a>
<a name="l02068"></a>02068                          ,<a class="code" href="protoapi_8h.html#a4aca53a6da78cad78345ea351b096a87">IDO_DATA_HIGHTHRESHOLD</a>
<a name="l02069"></a>02069                          ,flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a29bba767ffe48e7d487e8f73cc442a27">high_threshold</a>
<a name="l02070"></a>02070                          ,<a class="code" href="protoapi_8h.html#a197242b40b8ee2eed2c7adb5ecfd0155">IDO_DATA_LOWTHRESHOLD</a>
<a name="l02071"></a>02071                          ,flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#af9052b6cd2b447307b15f6c4af34d1f0">low_threshold</a>
<a name="l02072"></a>02072                          ,<a class="code" href="protoapi_8h.html#acf77eb57acc52c15b9a33f4534b57494">IDO_DATA_COMMENTTIME</a>
<a name="l02073"></a>02073                          ,(temp_comment==NULL)?0L:(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_comment-&gt;<a class="code" href="structcomment__struct.html#a39a046b14570d15d4a25ed42293b61ba">entry_time</a>
<a name="l02074"></a>02074                          ,<a class="code" href="protoapi_8h.html#a69bdf1a416e493f4911490760d79fb22">IDO_DATA_COMMENTID</a>
<a name="l02075"></a>02075                          ,flapdata-&gt;<a class="code" href="structnebstruct__flapping__struct.html#a516dc768bd061397a0b54d8159e15171">comment_id</a>
<a name="l02076"></a>02076                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02077"></a>02077                         );
<a name="l02078"></a>02078 
<a name="l02079"></a>02079                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02080"></a>02080                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02081"></a>02081 
<a name="l02082"></a>02082                 <span class="keywordflow">break</span>;
<a name="l02083"></a>02083 
<a name="l02084"></a>02084         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a161e4790421f92e4e9b98cadc895388d">NEBCALLBACK_PROGRAM_STATUS_DATA</a>:
<a name="l02085"></a>02085 
<a name="l02086"></a>02086                 psdata=(<a class="code" href="structnebstruct__program__status__struct.html">nebstruct_program_status_data</a> *)data;
<a name="l02087"></a>02087 
<a name="l02088"></a>02088                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a7a269531bb7e77e9701baa3adbdf70b8">global_host_event_handler</a>);
<a name="l02089"></a>02089                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#ae5ff12724fd5dc8f8862beac5a95fbca">global_service_event_handler</a>);
<a name="l02090"></a>02090 
<a name="l02091"></a>02091                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02092"></a>02092                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%lu\n%d=%d\n%d=%d\n%d=%lu\n%d=%lu\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%lu\n%d=%lu\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l02093"></a>02093                          ,<a class="code" href="protoapi_8h.html#a1efa41e276716d1bdc7684e0891d169a">IDO_API_PROGRAMSTATUSDATA</a>
<a name="l02094"></a>02094                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02095"></a>02095                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#af45edec618482c077803fd38f2d6fef7">type</a>
<a name="l02096"></a>02096                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02097"></a>02097                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a110eafb8d6e2e8bed44acdfcc84770b7">flags</a>
<a name="l02098"></a>02098                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02099"></a>02099                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a7387ed4b79334cf3b7bed51df228a832">attr</a>
<a name="l02100"></a>02100                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02101"></a>02101                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a524e6070d1ef5fdcab053537aad071ad">timestamp</a>.tv_sec
<a name="l02102"></a>02102                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a524e6070d1ef5fdcab053537aad071ad">timestamp</a>.tv_usec
<a name="l02103"></a>02103                          ,<a class="code" href="protoapi_8h.html#a8252e69a8f65b97df4b178370adea169">IDO_DATA_PROGRAMSTARTTIME</a>
<a name="l02104"></a>02104                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#ae9c18a117c8b2b85720f79a28a8e4d2f">program_start</a>
<a name="l02105"></a>02105                          ,<a class="code" href="protoapi_8h.html#a2b7f676ac509f946a1f1e0c4bd762942">IDO_DATA_PROCESSID</a>
<a name="l02106"></a>02106                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a3f359ec7e494f3b42ce0fe81ea61979d">pid</a>
<a name="l02107"></a>02107                          ,<a class="code" href="protoapi_8h.html#afb576f409a08361f0de715a15c15f90c">IDO_DATA_DAEMONMODE</a>
<a name="l02108"></a>02108                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a2c2199ed1746fdccc450d234d3480b54">daemon_mode</a>
<a name="l02109"></a>02109                          ,<a class="code" href="protoapi_8h.html#adcc64e33590e4f962c9f703ea81e7bb8">IDO_DATA_LASTCOMMANDCHECK</a>
<a name="l02110"></a>02110                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a6f8b2dcbdf74e4972e4a61314314d413">last_command_check</a>
<a name="l02111"></a>02111                          ,<a class="code" href="protoapi_8h.html#a21cb8e1f59629831d1b8badf1305945a">IDO_DATA_LASTLOGROTATION</a>
<a name="l02112"></a>02112                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a2242cbeeda458af5ae27524e8f2039f4">last_log_rotation</a>
<a name="l02113"></a>02113                          ,<a class="code" href="protoapi_8h.html#a57bae09f53ab4035326192c9cefb721e">IDO_DATA_NOTIFICATIONSENABLED</a>
<a name="l02114"></a>02114                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#afd2afbf51a1b2bc6d869195df09ee27c">notifications_enabled</a>
<a name="l02115"></a>02115                          ,<a class="code" href="protoapi_8h.html#a69f3d0ddefb49b929c332377b5574d0a">IDO_DATA_ACTIVESERVICECHECKSENABLED</a>
<a name="l02116"></a>02116                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#acf0f6ad023942c0772f43fce28f8551d">active_service_checks_enabled</a>
<a name="l02117"></a>02117                          ,<a class="code" href="protoapi_8h.html#ac5a4f7d70636d2c71a05f12fd2d8546b">IDO_DATA_PASSIVESERVICECHECKSENABLED</a>
<a name="l02118"></a>02118                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#af96ebce87a58510046d966a6fdbfbf83">passive_service_checks_enabled</a>
<a name="l02119"></a>02119                          ,<a class="code" href="protoapi_8h.html#afce11cd512e2f4ae89c8e1b15fe6b6bc">IDO_DATA_ACTIVEHOSTCHECKSENABLED</a>
<a name="l02120"></a>02120                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#aae7e6bf3df9b4c2e9eb21fe345641249">active_host_checks_enabled</a>
<a name="l02121"></a>02121                          ,<a class="code" href="protoapi_8h.html#a04086f156edabfe705d973bf7020ed21">IDO_DATA_PASSIVEHOSTCHECKSENABLED</a>
<a name="l02122"></a>02122                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a5d00105779706fbf9900305a35b48b68">passive_host_checks_enabled</a>
<a name="l02123"></a>02123                          ,<a class="code" href="protoapi_8h.html#a14e9b8ea36bef5bf9abdc18d83ac59b8">IDO_DATA_EVENTHANDLERSENABLED</a>
<a name="l02124"></a>02124                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#ac807e22679445a60494bbc3e0e808adc">event_handlers_enabled</a>
<a name="l02125"></a>02125                          ,<a class="code" href="protoapi_8h.html#a8ea005d400cedbdb195f395078836683">IDO_DATA_FLAPDETECTIONENABLED</a>
<a name="l02126"></a>02126                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a111ca78a00c72b931e968ee1192a85ac">flap_detection_enabled</a>
<a name="l02127"></a>02127                          ,<a class="code" href="protoapi_8h.html#a3b32b46aa017b3a8b1aa618e1d1a1746">IDO_DATA_FAILUREPREDICTIONENABLED</a>
<a name="l02128"></a>02128                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a27e016a1ccaccea772a03bb725a46535">failure_prediction_enabled</a>
<a name="l02129"></a>02129                          ,<a class="code" href="protoapi_8h.html#ab9083c6fd48ecafb6b6a08cc8788c371">IDO_DATA_PROCESSPERFORMANCEDATA</a>
<a name="l02130"></a>02130                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a67ac77a9456f1721a38001ee82e8138d">process_performance_data</a>
<a name="l02131"></a>02131                          ,<a class="code" href="protoapi_8h.html#a9a63c417defec73fbff08e82fb9530f6">IDO_DATA_OBSESSOVERHOSTS</a>
<a name="l02132"></a>02132                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#af6a80bee6495a9bf70a8fffb8ba757af">obsess_over_hosts</a>
<a name="l02133"></a>02133                          ,<a class="code" href="protoapi_8h.html#aff5396022f37cd55cbe32bba78186a81">IDO_DATA_OBSESSOVERSERVICES</a>
<a name="l02134"></a>02134                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#affd33e8da752c3f9464ea19cd7e84d40">obsess_over_services</a>
<a name="l02135"></a>02135                          ,<a class="code" href="protoapi_8h.html#afdea7eb028d5a4eec3f0bcc77763a06d">IDO_DATA_MODIFIEDHOSTATTRIBUTES</a>
<a name="l02136"></a>02136                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#a03af4abc6ec5c474f17fa7ab6bad747b">modified_host_attributes</a>
<a name="l02137"></a>02137                          ,<a class="code" href="protoapi_8h.html#ab13d19e9d141df4b904fc17b54185156">IDO_DATA_MODIFIEDSERVICEATTRIBUTES</a>
<a name="l02138"></a>02138                          ,psdata-&gt;<a class="code" href="structnebstruct__program__status__struct.html#aa50765e18526291a2d34db6ff2b49d85">modified_service_attributes</a>
<a name="l02139"></a>02139                          ,<a class="code" href="protoapi_8h.html#a75a5bf22b32552d00e9f8716abddbe05">IDO_DATA_GLOBALHOSTEVENTHANDLER</a>
<a name="l02140"></a>02140                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02141"></a>02141                          ,<a class="code" href="protoapi_8h.html#a4fb3f40bc2d2afeeeea20fe7488f15b1">IDO_DATA_GLOBALSERVICEEVENTHANDLER</a>
<a name="l02142"></a>02142                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02143"></a>02143                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02144"></a>02144                         );
<a name="l02145"></a>02145 
<a name="l02146"></a>02146                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02147"></a>02147                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02148"></a>02148 
<a name="l02149"></a>02149                 <span class="keywordflow">break</span>;
<a name="l02150"></a>02150 
<a name="l02151"></a>02151         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#aabb4189dde152da2d2d09d94f2414da0">NEBCALLBACK_HOST_STATUS_DATA</a>:
<a name="l02152"></a>02152 
<a name="l02153"></a>02153                 hsdata=(<a class="code" href="structnebstruct__host__status__struct.html">nebstruct_host_status_data</a> *)data;
<a name="l02154"></a>02154 
<a name="l02155"></a>02155                 <span class="keywordflow">if</span>((temp_host=(<a class="code" href="structhost__struct.html">host</a> *)hsdata-&gt;<a class="code" href="structnebstruct__host__status__struct.html#a9ed6e11c3cb00ca431923b1187062b8e">object_ptr</a>)==NULL){
<a name="l02156"></a>02156                         <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l02157"></a>02157                         <span class="keywordflow">return</span> 0;
<a name="l02158"></a>02158                         }
<a name="l02159"></a>02159 
<a name="l02160"></a>02160                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a29629acc48c023596d81b061b5f135f7">name</a>);
<a name="l02161"></a>02161                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;plugin_output);
<a name="l02162"></a>02162                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;long_plugin_output);
<a name="l02163"></a>02163                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;perf_data);
<a name="l02164"></a>02164                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a63e950417db76dfa600b51a8e6313ce4">event_handler</a>);
<a name="l02165"></a>02165                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#add4274af8704b502b95ce8ad2ec0ddff">host_check_command</a>);
<a name="l02166"></a>02166                 es[6]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a15e2446e309cf1c2ce857a5da36beca6">check_period</a>);
<a name="l02167"></a>02167 
<a name="l02168"></a>02168                 retry_interval=temp_host-&gt;<a class="code" href="structhost__struct.html#a444411c02f976b4141d2cc28e55b5eda">retry_interval</a>;
<a name="l02169"></a>02169 
<a name="l02170"></a>02170                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02171"></a>02171                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%lu\n%d=%lu\n%d=%d\n%d=%lu\n%d=%lu\n%d=%d\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%d\n%d=%lu\n%d=%lu\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%.5lf\n%d=%.5lf\n%d=%.5lf\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%lu\n%d=%s\n%d=%s\n%d=%lf\n%d=%lf\n%d=%s\n&quot;</span>
<a name="l02172"></a>02172                          ,<a class="code" href="protoapi_8h.html#ad211722289e34c55d8eac7c264e42aa6">IDO_API_HOSTSTATUSDATA</a>
<a name="l02173"></a>02173                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02174"></a>02174                          ,hsdata-&gt;<a class="code" href="structnebstruct__host__status__struct.html#a93a24e19c3e8e2cd12b55276775152fa">type</a>
<a name="l02175"></a>02175                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02176"></a>02176                          ,hsdata-&gt;<a class="code" href="structnebstruct__host__status__struct.html#a16b9c2cdcd595b70b46ea78b4faa397f">flags</a>
<a name="l02177"></a>02177                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02178"></a>02178                          ,hsdata-&gt;<a class="code" href="structnebstruct__host__status__struct.html#a27522a10c2cc67fb8fd740793e0c58c2">attr</a>
<a name="l02179"></a>02179                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02180"></a>02180                          ,hsdata-&gt;<a class="code" href="structnebstruct__host__status__struct.html#a6c29f4ad195973131bcaca9e40df9fac">timestamp</a>.tv_sec
<a name="l02181"></a>02181                          ,hsdata-&gt;<a class="code" href="structnebstruct__host__status__struct.html#a6c29f4ad195973131bcaca9e40df9fac">timestamp</a>.tv_usec
<a name="l02182"></a>02182                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l02183"></a>02183                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02184"></a>02184                          ,<a class="code" href="protoapi_8h.html#a79b9988701ece77b5d4238c52587d9e2">IDO_DATA_OUTPUT</a>
<a name="l02185"></a>02185                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02186"></a>02186                          ,<a class="code" href="protoapi_8h.html#a7f458d11ea6db92724ab27d4d53687c9">IDO_DATA_LONGOUTPUT</a>
<a name="l02187"></a>02187                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l02188"></a>02188                          ,<a class="code" href="protoapi_8h.html#ad9bf2e95ab220a518ceb0b8efe2473c6">IDO_DATA_PERFDATA</a>
<a name="l02189"></a>02189                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l02190"></a>02190                          ,<a class="code" href="protoapi_8h.html#a3ca11b81ab3641a1e25c8edb2d1e0ea0">IDO_DATA_CURRENTSTATE</a>
<a name="l02191"></a>02191                          ,temp_host-&gt;current_state
<a name="l02192"></a>02192                          ,<a class="code" href="protoapi_8h.html#a4d4f5914b79251a2c9ebd275d57a38be">IDO_DATA_HASBEENCHECKED</a>
<a name="l02193"></a>02193                          ,temp_host-&gt;has_been_checked
<a name="l02194"></a>02194                          ,<a class="code" href="protoapi_8h.html#acab0882befc98c394d006c13681577f3">IDO_DATA_SHOULDBESCHEDULED</a>
<a name="l02195"></a>02195                          ,temp_host-&gt;should_be_scheduled
<a name="l02196"></a>02196                          ,<a class="code" href="protoapi_8h.html#abd7c05f0a71bffb4fd8ffbaaf936a37c">IDO_DATA_CURRENTCHECKATTEMPT</a>
<a name="l02197"></a>02197                          ,temp_host-&gt;current_attempt
<a name="l02198"></a>02198                          ,<a class="code" href="protoapi_8h.html#a8392537ebb5f326159bf50ad5505a487">IDO_DATA_MAXCHECKATTEMPTS</a>
<a name="l02199"></a>02199                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a091388e27be66d35e87ed643567079c5">max_attempts</a>
<a name="l02200"></a>02200                          ,<a class="code" href="protoapi_8h.html#aa2cd549e2f297da70079561dfdaf9bde">IDO_DATA_LASTHOSTCHECK</a>
<a name="l02201"></a>02201                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_host-&gt;last_check
<a name="l02202"></a>02202                          ,<a class="code" href="protoapi_8h.html#ac5b6a6c641788f733778b0f3295c9fef">IDO_DATA_NEXTHOSTCHECK</a>
<a name="l02203"></a>02203                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_host-&gt;next_check
<a name="l02204"></a>02204                          ,<a class="code" href="protoapi_8h.html#a77ff9268f11614a16971e557c2901006">IDO_DATA_CHECKTYPE</a>
<a name="l02205"></a>02205                          ,temp_host-&gt;check_type
<a name="l02206"></a>02206                          ,<a class="code" href="protoapi_8h.html#a3d6e6b72fbee642fcd596a5769a1fa83">IDO_DATA_LASTSTATECHANGE</a>
<a name="l02207"></a>02207                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_host-&gt;last_state_change
<a name="l02208"></a>02208                          ,<a class="code" href="protoapi_8h.html#ace5e14be234746500f17cef508230187">IDO_DATA_LASTHARDSTATECHANGE</a>
<a name="l02209"></a>02209                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_host-&gt;last_hard_state_change
<a name="l02210"></a>02210                          ,<a class="code" href="protoapi_8h.html#a1a30cc73dee262452fdb6056995c87b8">IDO_DATA_LASTHARDSTATE</a>
<a name="l02211"></a>02211                          ,temp_host-&gt;last_hard_state
<a name="l02212"></a>02212                          ,<a class="code" href="protoapi_8h.html#ab27a2b8fff03eff5eee65728b597d03e">IDO_DATA_LASTTIMEUP</a>
<a name="l02213"></a>02213                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_host-&gt;last_time_up
<a name="l02214"></a>02214                          ,<a class="code" href="protoapi_8h.html#a697324f6eba78472cc36acf00c62ca00">IDO_DATA_LASTTIMEDOWN</a>
<a name="l02215"></a>02215                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_host-&gt;last_time_down
<a name="l02216"></a>02216                          ,<a class="code" href="protoapi_8h.html#a69abdb0222d0dd6635334f561d326347">IDO_DATA_LASTTIMEUNREACHABLE</a>
<a name="l02217"></a>02217                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_host-&gt;last_time_unreachable
<a name="l02218"></a>02218                          ,<a class="code" href="protoapi_8h.html#a33fdd3cb5901b3ce3d22d1bdef40a8d1">IDO_DATA_STATETYPE</a>
<a name="l02219"></a>02219                          ,temp_host-&gt;state_type
<a name="l02220"></a>02220                          ,<a class="code" href="protoapi_8h.html#a6ea132382289eda1e80f50a26479defe">IDO_DATA_LASTHOSTNOTIFICATION</a>
<a name="l02221"></a>02221                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_host-&gt;last_host_notification
<a name="l02222"></a>02222                          ,<a class="code" href="protoapi_8h.html#a755f3f7f724fba183b8ae6735fc7ec8d">IDO_DATA_NEXTHOSTNOTIFICATION</a>
<a name="l02223"></a>02223                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_host-&gt;next_host_notification
<a name="l02224"></a>02224                          ,<a class="code" href="protoapi_8h.html#ad0603c75c418987e334e7ae16d54cc2a">IDO_DATA_NOMORENOTIFICATIONS</a>
<a name="l02225"></a>02225                          ,temp_host-&gt;no_more_notifications
<a name="l02226"></a>02226                          ,<a class="code" href="protoapi_8h.html#a57bae09f53ab4035326192c9cefb721e">IDO_DATA_NOTIFICATIONSENABLED</a>
<a name="l02227"></a>02227                          ,temp_host-&gt;notifications_enabled
<a name="l02228"></a>02228                          ,<a class="code" href="protoapi_8h.html#aa615cb80e2919cca4052c910977e494c">IDO_DATA_PROBLEMHASBEENACKNOWLEDGED</a>
<a name="l02229"></a>02229                          ,temp_host-&gt;problem_has_been_acknowledged
<a name="l02230"></a>02230                          ,<a class="code" href="protoapi_8h.html#a5bd10a6570debda61a6a736a50215c6d">IDO_DATA_ACKNOWLEDGEMENTTYPE</a>
<a name="l02231"></a>02231                          ,temp_host-&gt;acknowledgement_type
<a name="l02232"></a>02232                          ,<a class="code" href="protoapi_8h.html#afdbbf345de2495177eba52c158ba69e0">IDO_DATA_CURRENTNOTIFICATIONNUMBER</a>
<a name="l02233"></a>02233                          ,temp_host-&gt;current_notification_number
<a name="l02234"></a>02234                          ,<a class="code" href="protoapi_8h.html#a04086f156edabfe705d973bf7020ed21">IDO_DATA_PASSIVEHOSTCHECKSENABLED</a>
<a name="l02235"></a>02235                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a02adcb873992725eadf6e3b7946ec475">accept_passive_host_checks</a>
<a name="l02236"></a>02236                          ,<a class="code" href="protoapi_8h.html#a22170a3e8cbd68a52bcb7ae68f1ad925">IDO_DATA_EVENTHANDLERENABLED</a>
<a name="l02237"></a>02237                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a4d2c9c5e139772d5267844effac1a23c">event_handler_enabled</a>
<a name="l02238"></a>02238                          ,<a class="code" href="protoapi_8h.html#afce11cd512e2f4ae89c8e1b15fe6b6bc">IDO_DATA_ACTIVEHOSTCHECKSENABLED</a>
<a name="l02239"></a>02239                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a3ef980834ed0a10fd7fe1f02a7daba9b">checks_enabled</a>
<a name="l02240"></a>02240                          ,<a class="code" href="protoapi_8h.html#a8ea005d400cedbdb195f395078836683">IDO_DATA_FLAPDETECTIONENABLED</a>
<a name="l02241"></a>02241                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#ac6f1ee2ca19560db120c4718291deef8">flap_detection_enabled</a>
<a name="l02242"></a>02242                          ,<a class="code" href="protoapi_8h.html#a8bfbcfe2549324612de2947e84384549">IDO_DATA_ISFLAPPING</a>
<a name="l02243"></a>02243                          ,temp_host-&gt;is_flapping
<a name="l02244"></a>02244                          ,<a class="code" href="protoapi_8h.html#a456359c7bbc7e6ef0c8b524d249997f1">IDO_DATA_PERCENTSTATECHANGE</a>
<a name="l02245"></a>02245                          ,temp_host-&gt;percent_state_change
<a name="l02246"></a>02246                          ,<a class="code" href="protoapi_8h.html#a5dd5eeeed4d25e22cbee669c4799e933">IDO_DATA_LATENCY</a>
<a name="l02247"></a>02247                          ,temp_host-&gt;latency
<a name="l02248"></a>02248                          ,<a class="code" href="protoapi_8h.html#adaf0f2da4d146a1ffb2694a39225afe5">IDO_DATA_EXECUTIONTIME</a>
<a name="l02249"></a>02249                          ,temp_host-&gt;execution_time
<a name="l02250"></a>02250                          ,<a class="code" href="protoapi_8h.html#a04d7561359c7af7cbac2ac0443be60a9">IDO_DATA_SCHEDULEDDOWNTIMEDEPTH</a>
<a name="l02251"></a>02251                          ,temp_host-&gt;scheduled_downtime_depth
<a name="l02252"></a>02252                          ,<a class="code" href="protoapi_8h.html#a3b32b46aa017b3a8b1aa618e1d1a1746">IDO_DATA_FAILUREPREDICTIONENABLED</a>
<a name="l02253"></a>02253                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#ad9df2fd2792c1ea2a68f1511248ed48f">failure_prediction_enabled</a>
<a name="l02254"></a>02254                          ,<a class="code" href="protoapi_8h.html#ab9083c6fd48ecafb6b6a08cc8788c371">IDO_DATA_PROCESSPERFORMANCEDATA</a>
<a name="l02255"></a>02255                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#ac7dd01fe12cf192c8fb3efb4ba940264">process_performance_data</a>
<a name="l02256"></a>02256                          ,<a class="code" href="protoapi_8h.html#a09b6f86e59e7ec16512e78806f393a77">IDO_DATA_OBSESSOVERHOST</a>
<a name="l02257"></a>02257                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a50d3f44ea03e7e203b35b5b1ec1ce059">obsess_over_host</a>
<a name="l02258"></a>02258 
<a name="l02259"></a>02259                          ,<a class="code" href="protoapi_8h.html#afdea7eb028d5a4eec3f0bcc77763a06d">IDO_DATA_MODIFIEDHOSTATTRIBUTES</a>
<a name="l02260"></a>02260                          ,temp_host-&gt;modified_attributes
<a name="l02261"></a>02261                          ,<a class="code" href="protoapi_8h.html#a55a641eb3c07c01454c96b2b5ec3cd20">IDO_DATA_EVENTHANDLER</a>
<a name="l02262"></a>02262                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l02263"></a>02263                          ,<a class="code" href="protoapi_8h.html#a22c2c55984fe735894800dd7d6291ff5">IDO_DATA_CHECKCOMMAND</a>
<a name="l02264"></a>02264                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l02265"></a>02265                          ,<a class="code" href="protoapi_8h.html#ad9743ddce267f7bc6c33b0ab79f83bde">IDO_DATA_NORMALCHECKINTERVAL</a>
<a name="l02266"></a>02266                          ,(<span class="keywordtype">double</span>)temp_host-&gt;<a class="code" href="structhost__struct.html#a75fa71ddb31a4fbfd6ce60ebd69d6064">check_interval</a>
<a name="l02267"></a>02267                          ,<a class="code" href="protoapi_8h.html#ae480018d5385030a075a508d54982656">IDO_DATA_RETRYCHECKINTERVAL</a>
<a name="l02268"></a>02268                          ,(<span class="keywordtype">double</span>)retry_interval
<a name="l02269"></a>02269                          ,<a class="code" href="protoapi_8h.html#aec31295096f9bf4492afe73b6e2526c3">IDO_DATA_HOSTCHECKPERIOD</a>
<a name="l02270"></a>02270                          ,(es[6]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[6]
<a name="l02271"></a>02271                         );
<a name="l02272"></a>02272 
<a name="l02273"></a>02273                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02274"></a>02274                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02275"></a>02275 
<a name="l02276"></a>02276                 <span class="comment">/* dump customvars */</span>
<a name="l02277"></a>02277                 <span class="keywordflow">for</span>(temp_customvar=temp_host-&gt;<a class="code" href="structhost__struct.html#ae38dc4a72824b50d8392e0e43e104194">custom_variables</a>;temp_customvar!=NULL;temp_customvar=temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a5f9b309ecb8874745787ced9391d5e48">next</a>){
<a name="l02278"></a>02278 
<a name="l02279"></a>02279                         <span class="keywordflow">for</span>(x=0;x&lt;2;x++){
<a name="l02280"></a>02280                                 free(es[x]);
<a name="l02281"></a>02281                                 es[x]=NULL;
<a name="l02282"></a>02282                                 }
<a name="l02283"></a>02283 
<a name="l02284"></a>02284                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a8cd266b198f92f8986bd4214c0abdc10">variable_name</a>);
<a name="l02285"></a>02285                         es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#aea9685f8017affa5fee895a7eba63bd0">variable_value</a>);
<a name="l02286"></a>02286 
<a name="l02287"></a>02287                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02288"></a>02288                                  ,<span class="stringliteral">&quot;%d=%s:%d:%s\n&quot;</span>
<a name="l02289"></a>02289                                  ,<a class="code" href="protoapi_8h.html#a9ae5462d1599a5f76a71c3c19ac5c280">IDO_DATA_CUSTOMVARIABLE</a>
<a name="l02290"></a>02290                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02291"></a>02291                                  ,temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a10766c154fe378d43f395e0f535fa062">has_been_modified</a>
<a name="l02292"></a>02292                                  ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02293"></a>02293                                 );
<a name="l02294"></a>02294 
<a name="l02295"></a>02295                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02296"></a>02296                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02297"></a>02297                         }
<a name="l02298"></a>02298 
<a name="l02299"></a>02299                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02300"></a>02300                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l02301"></a>02301                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02302"></a>02302                         );
<a name="l02303"></a>02303 
<a name="l02304"></a>02304                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02305"></a>02305                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02306"></a>02306 
<a name="l02307"></a>02307                 <span class="keywordflow">break</span>;
<a name="l02308"></a>02308 
<a name="l02309"></a>02309         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#ac941726d038fb259629b059668731a66">NEBCALLBACK_SERVICE_STATUS_DATA</a>:
<a name="l02310"></a>02310 
<a name="l02311"></a>02311                 ssdata=(<a class="code" href="structnebstruct__service__status__struct.html">nebstruct_service_status_data</a> *)data;
<a name="l02312"></a>02312 
<a name="l02313"></a>02313                 <span class="keywordflow">if</span>((temp_service=(<a class="code" href="structservice__struct.html">service</a> *)ssdata-&gt;<a class="code" href="structnebstruct__service__status__struct.html#a63a8793e440d7c3169824a657e149dd4">object_ptr</a>)==NULL){
<a name="l02314"></a>02314                         <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l02315"></a>02315                         <span class="keywordflow">return</span> 0;
<a name="l02316"></a>02316                         }
<a name="l02317"></a>02317 
<a name="l02318"></a>02318                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#ac8e06ecb2bddf149916fa2f6e4077836">host_name</a>);
<a name="l02319"></a>02319                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a646fc0478ea62db804e9cd8c84f53ad9">description</a>);
<a name="l02320"></a>02320                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;plugin_output);
<a name="l02321"></a>02321                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;long_plugin_output);
<a name="l02322"></a>02322                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;perf_data);
<a name="l02323"></a>02323                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a64f2ac4fcd338fcc0c73b632551484b9">event_handler</a>);
<a name="l02324"></a>02324                 es[6]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a979cc671dd6fd908e92d232a5e2458ca">service_check_command</a>);
<a name="l02325"></a>02325                 es[7]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a22043138a240b6738d77ac8a6f320812">check_period</a>);
<a name="l02326"></a>02326 
<a name="l02327"></a>02327                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02328"></a>02328                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%lu\n%d=%lu\n%d=%d\n%d=%lu\n%d=%lu\n%d=%d\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%d\n%d=%lu\n%d=%lu\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%.5lf\n%d=%.5lf\n%d=%.5lf\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%lu\n%d=%s\n%d=%s\n%d=%lf\n%d=%lf\n%d=%s\n&quot;</span>
<a name="l02329"></a>02329                          ,<a class="code" href="protoapi_8h.html#a368f42135c403bf14f2d6d098a372308">IDO_API_SERVICESTATUSDATA</a>
<a name="l02330"></a>02330                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02331"></a>02331                          ,ssdata-&gt;<a class="code" href="structnebstruct__service__status__struct.html#ad828da6d1f2305cd50104d60a3855c08">type</a>
<a name="l02332"></a>02332                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02333"></a>02333                          ,ssdata-&gt;<a class="code" href="structnebstruct__service__status__struct.html#a849316c5d9584b0cf27d292098ac3445">flags</a>
<a name="l02334"></a>02334                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02335"></a>02335                          ,ssdata-&gt;<a class="code" href="structnebstruct__service__status__struct.html#a259d9b069b753e869fe531b11caf7054">attr</a>
<a name="l02336"></a>02336                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02337"></a>02337                          ,ssdata-&gt;<a class="code" href="structnebstruct__service__status__struct.html#a9997900cbc7ab244228a13d60631e5ea">timestamp</a>.tv_sec
<a name="l02338"></a>02338                          ,ssdata-&gt;<a class="code" href="structnebstruct__service__status__struct.html#a9997900cbc7ab244228a13d60631e5ea">timestamp</a>.tv_usec
<a name="l02339"></a>02339                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l02340"></a>02340                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02341"></a>02341                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l02342"></a>02342                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02343"></a>02343                          ,<a class="code" href="protoapi_8h.html#a79b9988701ece77b5d4238c52587d9e2">IDO_DATA_OUTPUT</a>
<a name="l02344"></a>02344                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l02345"></a>02345                          ,<a class="code" href="protoapi_8h.html#a7f458d11ea6db92724ab27d4d53687c9">IDO_DATA_LONGOUTPUT</a>
<a name="l02346"></a>02346                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l02347"></a>02347                          ,<a class="code" href="protoapi_8h.html#ad9bf2e95ab220a518ceb0b8efe2473c6">IDO_DATA_PERFDATA</a>
<a name="l02348"></a>02348                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l02349"></a>02349                          ,<a class="code" href="protoapi_8h.html#a3ca11b81ab3641a1e25c8edb2d1e0ea0">IDO_DATA_CURRENTSTATE</a>
<a name="l02350"></a>02350                          ,temp_service-&gt;current_state
<a name="l02351"></a>02351                          ,<a class="code" href="protoapi_8h.html#a4d4f5914b79251a2c9ebd275d57a38be">IDO_DATA_HASBEENCHECKED</a>
<a name="l02352"></a>02352                          ,temp_service-&gt;has_been_checked
<a name="l02353"></a>02353                          ,<a class="code" href="protoapi_8h.html#acab0882befc98c394d006c13681577f3">IDO_DATA_SHOULDBESCHEDULED</a>
<a name="l02354"></a>02354                          ,temp_service-&gt;should_be_scheduled
<a name="l02355"></a>02355                          ,<a class="code" href="protoapi_8h.html#abd7c05f0a71bffb4fd8ffbaaf936a37c">IDO_DATA_CURRENTCHECKATTEMPT</a>
<a name="l02356"></a>02356                          ,temp_service-&gt;current_attempt
<a name="l02357"></a>02357                          ,<a class="code" href="protoapi_8h.html#a8392537ebb5f326159bf50ad5505a487">IDO_DATA_MAXCHECKATTEMPTS</a>
<a name="l02358"></a>02358                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a4cc582ba5131b3efd4cfbf6389bbe938">max_attempts</a>
<a name="l02359"></a>02359                          ,<a class="code" href="protoapi_8h.html#a3c2bd614f46ce719c4f3818c32795e6f">IDO_DATA_LASTSERVICECHECK</a>
<a name="l02360"></a>02360                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_service-&gt;last_check
<a name="l02361"></a>02361                          ,<a class="code" href="protoapi_8h.html#af6c46206ac01528dc12532de34a9bdb2">IDO_DATA_NEXTSERVICECHECK</a>
<a name="l02362"></a>02362                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_service-&gt;next_check
<a name="l02363"></a>02363                          ,<a class="code" href="protoapi_8h.html#a77ff9268f11614a16971e557c2901006">IDO_DATA_CHECKTYPE</a>
<a name="l02364"></a>02364                          ,temp_service-&gt;check_type
<a name="l02365"></a>02365                          ,<a class="code" href="protoapi_8h.html#a3d6e6b72fbee642fcd596a5769a1fa83">IDO_DATA_LASTSTATECHANGE</a>
<a name="l02366"></a>02366                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_service-&gt;last_state_change
<a name="l02367"></a>02367                          ,<a class="code" href="protoapi_8h.html#ace5e14be234746500f17cef508230187">IDO_DATA_LASTHARDSTATECHANGE</a>
<a name="l02368"></a>02368                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_service-&gt;last_hard_state_change
<a name="l02369"></a>02369                          ,<a class="code" href="protoapi_8h.html#a1a30cc73dee262452fdb6056995c87b8">IDO_DATA_LASTHARDSTATE</a>
<a name="l02370"></a>02370                          ,temp_service-&gt;last_hard_state
<a name="l02371"></a>02371                          ,<a class="code" href="protoapi_8h.html#a3f8a6640431733ae735fd475f906d873">IDO_DATA_LASTTIMEOK</a>
<a name="l02372"></a>02372                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_service-&gt;last_time_ok
<a name="l02373"></a>02373                          ,<a class="code" href="protoapi_8h.html#a9a496f092f825e45241e93cf25343163">IDO_DATA_LASTTIMEWARNING</a>
<a name="l02374"></a>02374                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_service-&gt;last_time_warning
<a name="l02375"></a>02375                          ,<a class="code" href="protoapi_8h.html#a70f55279ad6f6ba388ff61fe4b7aec67">IDO_DATA_LASTTIMEUNKNOWN</a>
<a name="l02376"></a>02376                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_service-&gt;last_time_unknown
<a name="l02377"></a>02377                          ,<a class="code" href="protoapi_8h.html#ab1d222fc1af2f05eb9e2b1c4036e9cb5">IDO_DATA_LASTTIMECRITICAL</a>
<a name="l02378"></a>02378                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_service-&gt;last_time_critical
<a name="l02379"></a>02379                          ,<a class="code" href="protoapi_8h.html#a33fdd3cb5901b3ce3d22d1bdef40a8d1">IDO_DATA_STATETYPE</a>
<a name="l02380"></a>02380                          ,temp_service-&gt;state_type
<a name="l02381"></a>02381                          ,<a class="code" href="protoapi_8h.html#a6607ca0bd0d7af60a1085e56e23790ba">IDO_DATA_LASTSERVICENOTIFICATION</a>
<a name="l02382"></a>02382                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_service-&gt;last_notification
<a name="l02383"></a>02383                          ,<a class="code" href="protoapi_8h.html#abf60d6aff8ded4df08a532576b32bd4b">IDO_DATA_NEXTSERVICENOTIFICATION</a>
<a name="l02384"></a>02384                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)temp_service-&gt;next_notification
<a name="l02385"></a>02385                          ,<a class="code" href="protoapi_8h.html#ad0603c75c418987e334e7ae16d54cc2a">IDO_DATA_NOMORENOTIFICATIONS</a>
<a name="l02386"></a>02386                          ,temp_service-&gt;no_more_notifications
<a name="l02387"></a>02387                          ,<a class="code" href="protoapi_8h.html#a57bae09f53ab4035326192c9cefb721e">IDO_DATA_NOTIFICATIONSENABLED</a>
<a name="l02388"></a>02388                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#af8cc24fa1b0cb8255e98aa7e89ffc122">notifications_enabled</a>
<a name="l02389"></a>02389                          ,<a class="code" href="protoapi_8h.html#aa615cb80e2919cca4052c910977e494c">IDO_DATA_PROBLEMHASBEENACKNOWLEDGED</a>
<a name="l02390"></a>02390                          ,temp_service-&gt;problem_has_been_acknowledged
<a name="l02391"></a>02391                          ,<a class="code" href="protoapi_8h.html#a5bd10a6570debda61a6a736a50215c6d">IDO_DATA_ACKNOWLEDGEMENTTYPE</a>
<a name="l02392"></a>02392                          ,temp_service-&gt;acknowledgement_type
<a name="l02393"></a>02393                          ,<a class="code" href="protoapi_8h.html#afdbbf345de2495177eba52c158ba69e0">IDO_DATA_CURRENTNOTIFICATIONNUMBER</a>
<a name="l02394"></a>02394                          ,temp_service-&gt;current_notification_number
<a name="l02395"></a>02395                          ,<a class="code" href="protoapi_8h.html#ac5a4f7d70636d2c71a05f12fd2d8546b">IDO_DATA_PASSIVESERVICECHECKSENABLED</a>
<a name="l02396"></a>02396                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a42f6c98e6316fdca156aec717f4b547c">accept_passive_service_checks</a>
<a name="l02397"></a>02397                          ,<a class="code" href="protoapi_8h.html#a22170a3e8cbd68a52bcb7ae68f1ad925">IDO_DATA_EVENTHANDLERENABLED</a>
<a name="l02398"></a>02398                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a911baedf21c6b17dd8ff3ec174fdce07">event_handler_enabled</a>
<a name="l02399"></a>02399                          ,<a class="code" href="protoapi_8h.html#a69f3d0ddefb49b929c332377b5574d0a">IDO_DATA_ACTIVESERVICECHECKSENABLED</a>
<a name="l02400"></a>02400                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#adf593773ee59f1c896e2189934ca68eb">checks_enabled</a>
<a name="l02401"></a>02401                          ,<a class="code" href="protoapi_8h.html#a8ea005d400cedbdb195f395078836683">IDO_DATA_FLAPDETECTIONENABLED</a>
<a name="l02402"></a>02402                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#aa4cab020ff297d12795b66f804f1b9cc">flap_detection_enabled</a>
<a name="l02403"></a>02403                          ,<a class="code" href="protoapi_8h.html#a8bfbcfe2549324612de2947e84384549">IDO_DATA_ISFLAPPING</a>
<a name="l02404"></a>02404                          ,temp_service-&gt;is_flapping
<a name="l02405"></a>02405                          ,<a class="code" href="protoapi_8h.html#a456359c7bbc7e6ef0c8b524d249997f1">IDO_DATA_PERCENTSTATECHANGE</a>
<a name="l02406"></a>02406                          ,temp_service-&gt;percent_state_change
<a name="l02407"></a>02407                          ,<a class="code" href="protoapi_8h.html#a5dd5eeeed4d25e22cbee669c4799e933">IDO_DATA_LATENCY</a>
<a name="l02408"></a>02408                          ,temp_service-&gt;latency
<a name="l02409"></a>02409                          ,<a class="code" href="protoapi_8h.html#adaf0f2da4d146a1ffb2694a39225afe5">IDO_DATA_EXECUTIONTIME</a>
<a name="l02410"></a>02410                          ,temp_service-&gt;execution_time
<a name="l02411"></a>02411                          ,<a class="code" href="protoapi_8h.html#a04d7561359c7af7cbac2ac0443be60a9">IDO_DATA_SCHEDULEDDOWNTIMEDEPTH</a>
<a name="l02412"></a>02412                          ,temp_service-&gt;scheduled_downtime_depth
<a name="l02413"></a>02413                          ,<a class="code" href="protoapi_8h.html#a3b32b46aa017b3a8b1aa618e1d1a1746">IDO_DATA_FAILUREPREDICTIONENABLED</a>
<a name="l02414"></a>02414                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a25b4a6c9dd82dceba0b92c149517562f">failure_prediction_enabled</a>
<a name="l02415"></a>02415                          ,<a class="code" href="protoapi_8h.html#ab9083c6fd48ecafb6b6a08cc8788c371">IDO_DATA_PROCESSPERFORMANCEDATA</a>
<a name="l02416"></a>02416                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a661d94599d0697fd9dd2bfdd6edd0015">process_performance_data</a>
<a name="l02417"></a>02417                          ,<a class="code" href="protoapi_8h.html#abcea45758bb2561ce0683cfb2b54b883">IDO_DATA_OBSESSOVERSERVICE</a>
<a name="l02418"></a>02418                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a6c1835d6854d603e2ba7f5bc83e7818c">obsess_over_service</a>
<a name="l02419"></a>02419 
<a name="l02420"></a>02420                          ,<a class="code" href="protoapi_8h.html#ab13d19e9d141df4b904fc17b54185156">IDO_DATA_MODIFIEDSERVICEATTRIBUTES</a>
<a name="l02421"></a>02421                          ,temp_service-&gt;modified_attributes
<a name="l02422"></a>02422                          ,<a class="code" href="protoapi_8h.html#a55a641eb3c07c01454c96b2b5ec3cd20">IDO_DATA_EVENTHANDLER</a>
<a name="l02423"></a>02423                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l02424"></a>02424                          ,<a class="code" href="protoapi_8h.html#a22c2c55984fe735894800dd7d6291ff5">IDO_DATA_CHECKCOMMAND</a>
<a name="l02425"></a>02425                          ,(es[6]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[6]
<a name="l02426"></a>02426                          ,<a class="code" href="protoapi_8h.html#ad9743ddce267f7bc6c33b0ab79f83bde">IDO_DATA_NORMALCHECKINTERVAL</a>
<a name="l02427"></a>02427                          ,(<span class="keywordtype">double</span>)temp_service-&gt;<a class="code" href="structservice__struct.html#a54179e5f4bb721f91c11e943a1f9f32c">check_interval</a>
<a name="l02428"></a>02428                          ,<a class="code" href="protoapi_8h.html#ae480018d5385030a075a508d54982656">IDO_DATA_RETRYCHECKINTERVAL</a>
<a name="l02429"></a>02429                          ,(<span class="keywordtype">double</span>)temp_service-&gt;<a class="code" href="structservice__struct.html#a6d72d0d693531b23f2873e4081463076">retry_interval</a>
<a name="l02430"></a>02430                          ,<a class="code" href="protoapi_8h.html#af5fb3e7eb1ff17577a87f65c3015ada9">IDO_DATA_SERVICECHECKPERIOD</a>
<a name="l02431"></a>02431                          ,(es[7]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[7]
<a name="l02432"></a>02432                         );
<a name="l02433"></a>02433 
<a name="l02434"></a>02434                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02435"></a>02435                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02436"></a>02436 
<a name="l02437"></a>02437                 <span class="comment">/* dump customvars */</span>
<a name="l02438"></a>02438                 <span class="keywordflow">for</span>(temp_customvar=temp_service-&gt;<a class="code" href="structservice__struct.html#a36069039505e2390f05b195b3c4df0fa">custom_variables</a>;temp_customvar!=NULL;temp_customvar=temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a5f9b309ecb8874745787ced9391d5e48">next</a>){
<a name="l02439"></a>02439 
<a name="l02440"></a>02440                         <span class="keywordflow">for</span>(x=0;x&lt;2;x++){
<a name="l02441"></a>02441                                 free(es[x]);
<a name="l02442"></a>02442                                 es[x]=NULL;
<a name="l02443"></a>02443                                 }
<a name="l02444"></a>02444 
<a name="l02445"></a>02445                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a8cd266b198f92f8986bd4214c0abdc10">variable_name</a>);
<a name="l02446"></a>02446                         es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#aea9685f8017affa5fee895a7eba63bd0">variable_value</a>);
<a name="l02447"></a>02447 
<a name="l02448"></a>02448                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02449"></a>02449                                  ,<span class="stringliteral">&quot;%d=%s:%d:%s\n&quot;</span>
<a name="l02450"></a>02450                                  ,<a class="code" href="protoapi_8h.html#a9ae5462d1599a5f76a71c3c19ac5c280">IDO_DATA_CUSTOMVARIABLE</a>
<a name="l02451"></a>02451                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02452"></a>02452                                  ,temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a10766c154fe378d43f395e0f535fa062">has_been_modified</a>
<a name="l02453"></a>02453                                  ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02454"></a>02454                                 );
<a name="l02455"></a>02455 
<a name="l02456"></a>02456                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02457"></a>02457                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02458"></a>02458                         }
<a name="l02459"></a>02459 
<a name="l02460"></a>02460                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02461"></a>02461                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l02462"></a>02462                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02463"></a>02463                         );
<a name="l02464"></a>02464 
<a name="l02465"></a>02465                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02466"></a>02466                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02467"></a>02467 
<a name="l02468"></a>02468                 <span class="keywordflow">break</span>;
<a name="l02469"></a>02469 
<a name="l02470"></a>02470         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a964bd30568870d7d1ec53b743105d957">NEBCALLBACK_CONTACT_STATUS_DATA</a>:
<a name="l02471"></a>02471 
<a name="l02472"></a>02472                 csdata=(<a class="code" href="structnebstruct__contact__status__struct.html">nebstruct_contact_status_data</a> *)data;
<a name="l02473"></a>02473 
<a name="l02474"></a>02474                 <span class="keywordflow">if</span>((temp_contact=(<a class="code" href="structcontact__struct.html">contact</a> *)csdata-&gt;<a class="code" href="structnebstruct__contact__status__struct.html#af144603e3226ce56e2f45e4ba3eae4f7">object_ptr</a>)==NULL){
<a name="l02475"></a>02475                         <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l02476"></a>02476                         <span class="keywordflow">return</span> 0;
<a name="l02477"></a>02477                         }
<a name="l02478"></a>02478 
<a name="l02479"></a>02479                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contact-&gt;<a class="code" href="structcontact__struct.html#a03f0162d096aaf82e3f64c70a53be2b1">name</a>);
<a name="l02480"></a>02480 
<a name="l02481"></a>02481                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02482"></a>02482                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%s\n%d=%d\n%d=%d\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%lu\n&quot;</span>
<a name="l02483"></a>02483                          ,<a class="code" href="protoapi_8h.html#a51f94d8160dffad7452bf78145c9ab9a">IDO_API_CONTACTSTATUSDATA</a>
<a name="l02484"></a>02484                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02485"></a>02485                          ,csdata-&gt;<a class="code" href="structnebstruct__contact__status__struct.html#a6110fb6ecf64dc3eed1d59c6b5e70d0e">type</a>
<a name="l02486"></a>02486                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02487"></a>02487                          ,csdata-&gt;<a class="code" href="structnebstruct__contact__status__struct.html#a4a3e93ee2037a33887c19fb60bff72ac">flags</a>
<a name="l02488"></a>02488                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02489"></a>02489                          ,csdata-&gt;<a class="code" href="structnebstruct__contact__status__struct.html#a9dc097466520eecdf3f3a20165fc4577">attr</a>
<a name="l02490"></a>02490                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02491"></a>02491                          ,csdata-&gt;<a class="code" href="structnebstruct__contact__status__struct.html#ab4ea8ec20e5979234fe28effedcf0c5d">timestamp</a>.tv_sec
<a name="l02492"></a>02492                          ,csdata-&gt;<a class="code" href="structnebstruct__contact__status__struct.html#ab4ea8ec20e5979234fe28effedcf0c5d">timestamp</a>.tv_usec
<a name="l02493"></a>02493                          ,<a class="code" href="protoapi_8h.html#a40c2b39a2d3512c80cfbd7bfebc2a4d3">IDO_DATA_CONTACTNAME</a>
<a name="l02494"></a>02494                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02495"></a>02495                          ,<a class="code" href="protoapi_8h.html#a900bcfe4ece3d19e4910c4bbb6603638">IDO_DATA_HOSTNOTIFICATIONSENABLED</a>
<a name="l02496"></a>02496                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#a48ffa22072c73cd5c01515ca5de47ba0">host_notifications_enabled</a>
<a name="l02497"></a>02497                          ,<a class="code" href="protoapi_8h.html#acaa3a1dd567c570b116a1728cdd37905">IDO_DATA_SERVICENOTIFICATIONSENABLED</a>
<a name="l02498"></a>02498                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#adae5b0594a93de88add3968fbef66324">service_notifications_enabled</a>
<a name="l02499"></a>02499                          ,<a class="code" href="protoapi_8h.html#a6ea132382289eda1e80f50a26479defe">IDO_DATA_LASTHOSTNOTIFICATION</a>
<a name="l02500"></a>02500                          ,temp_contact-&gt;last_host_notification
<a name="l02501"></a>02501                          ,<a class="code" href="protoapi_8h.html#a6607ca0bd0d7af60a1085e56e23790ba">IDO_DATA_LASTSERVICENOTIFICATION</a>
<a name="l02502"></a>02502                          ,temp_contact-&gt;last_service_notification
<a name="l02503"></a>02503 
<a name="l02504"></a>02504                          ,<a class="code" href="protoapi_8h.html#a3b34196a62cefb322f6ae166d59458f9">IDO_DATA_MODIFIEDCONTACTATTRIBUTES</a>
<a name="l02505"></a>02505                          ,temp_contact-&gt;modified_attributes
<a name="l02506"></a>02506                          ,<a class="code" href="protoapi_8h.html#afdea7eb028d5a4eec3f0bcc77763a06d">IDO_DATA_MODIFIEDHOSTATTRIBUTES</a>
<a name="l02507"></a>02507                          ,temp_contact-&gt;modified_host_attributes
<a name="l02508"></a>02508                          ,<a class="code" href="protoapi_8h.html#ab13d19e9d141df4b904fc17b54185156">IDO_DATA_MODIFIEDSERVICEATTRIBUTES</a>
<a name="l02509"></a>02509                          ,temp_contact-&gt;modified_service_attributes
<a name="l02510"></a>02510                         );
<a name="l02511"></a>02511 
<a name="l02512"></a>02512                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02513"></a>02513                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02514"></a>02514 
<a name="l02515"></a>02515                 <span class="comment">/* dump customvars */</span>
<a name="l02516"></a>02516                 <span class="keywordflow">for</span>(temp_customvar=temp_contact-&gt;<a class="code" href="structcontact__struct.html#ae1e347fc9508221b520cb795862acb67">custom_variables</a>;temp_customvar!=NULL;temp_customvar=temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a5f9b309ecb8874745787ced9391d5e48">next</a>){
<a name="l02517"></a>02517 
<a name="l02518"></a>02518                         <span class="keywordflow">for</span>(x=0;x&lt;2;x++){
<a name="l02519"></a>02519                                 free(es[x]);
<a name="l02520"></a>02520                                 es[x]=NULL;
<a name="l02521"></a>02521                                 }
<a name="l02522"></a>02522 
<a name="l02523"></a>02523                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a8cd266b198f92f8986bd4214c0abdc10">variable_name</a>);
<a name="l02524"></a>02524                         es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#aea9685f8017affa5fee895a7eba63bd0">variable_value</a>);
<a name="l02525"></a>02525 
<a name="l02526"></a>02526                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02527"></a>02527                                  ,<span class="stringliteral">&quot;%d=%s:%d:%s\n&quot;</span>
<a name="l02528"></a>02528                                  ,<a class="code" href="protoapi_8h.html#a9ae5462d1599a5f76a71c3c19ac5c280">IDO_DATA_CUSTOMVARIABLE</a>
<a name="l02529"></a>02529                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02530"></a>02530                                  ,temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a10766c154fe378d43f395e0f535fa062">has_been_modified</a>
<a name="l02531"></a>02531                                  ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02532"></a>02532                                 );
<a name="l02533"></a>02533 
<a name="l02534"></a>02534                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02535"></a>02535                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02536"></a>02536                         }
<a name="l02537"></a>02537 
<a name="l02538"></a>02538                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02539"></a>02539                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l02540"></a>02540                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02541"></a>02541                         );
<a name="l02542"></a>02542 
<a name="l02543"></a>02543                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02544"></a>02544                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02545"></a>02545 
<a name="l02546"></a>02546                 <span class="keywordflow">break</span>;
<a name="l02547"></a>02547 
<a name="l02548"></a>02548         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#ad98f1819e841463db5474ea5fd2cabc3">NEBCALLBACK_ADAPTIVE_PROGRAM_DATA</a>:
<a name="l02549"></a>02549 
<a name="l02550"></a>02550                 apdata=(<a class="code" href="structnebstruct__adaptive__program__data__struct.html">nebstruct_adaptive_program_data</a> *)data;
<a name="l02551"></a>02551 
<a name="l02552"></a>02552                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(global_host_event_handler);
<a name="l02553"></a>02553                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(global_service_event_handler);
<a name="l02554"></a>02554 
<a name="l02555"></a>02555                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02556"></a>02556                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l02557"></a>02557                          ,<a class="code" href="protoapi_8h.html#ad45eb9500bafa9d7a04961415ffaeb25">IDO_API_ADAPTIVEPROGRAMDATA</a>
<a name="l02558"></a>02558                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>,apdata-&gt;<a class="code" href="structnebstruct__adaptive__program__data__struct.html#a052f18df149b1837ab3510c2b2c6423e">type</a>
<a name="l02559"></a>02559                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02560"></a>02560                          ,apdata-&gt;<a class="code" href="structnebstruct__adaptive__program__data__struct.html#a53ffe8924e4dffdc3e22a55144417e5d">flags</a>
<a name="l02561"></a>02561                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02562"></a>02562                          ,apdata-&gt;<a class="code" href="structnebstruct__adaptive__program__data__struct.html#a3ad99466b39175c55d87699b7ba2096a">attr</a>
<a name="l02563"></a>02563                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02564"></a>02564                          ,apdata-&gt;<a class="code" href="structnebstruct__adaptive__program__data__struct.html#a424a580df8138570567b8e79c68f94d8">timestamp</a>.tv_sec
<a name="l02565"></a>02565                          ,apdata-&gt;<a class="code" href="structnebstruct__adaptive__program__data__struct.html#a424a580df8138570567b8e79c68f94d8">timestamp</a>.tv_usec
<a name="l02566"></a>02566                          ,<a class="code" href="protoapi_8h.html#a37ff5fc0e4877027b3dc0c56c9b52a92">IDO_DATA_COMMANDTYPE</a>
<a name="l02567"></a>02567                          ,apdata-&gt;<a class="code" href="structnebstruct__adaptive__program__data__struct.html#a63a13db0f5ef9ba922bd479016ac7507">command_type</a>
<a name="l02568"></a>02568                          ,<a class="code" href="protoapi_8h.html#a62271f18335b6c191576d78b4328af83">IDO_DATA_MODIFIEDHOSTATTRIBUTE</a>
<a name="l02569"></a>02569                          ,apdata-&gt;<a class="code" href="structnebstruct__adaptive__program__data__struct.html#a6c1540ab2574eaa6ff6148a42f8859a4">modified_host_attribute</a>
<a name="l02570"></a>02570                          ,<a class="code" href="protoapi_8h.html#afdea7eb028d5a4eec3f0bcc77763a06d">IDO_DATA_MODIFIEDHOSTATTRIBUTES</a>
<a name="l02571"></a>02571                          ,apdata-&gt;<a class="code" href="structnebstruct__adaptive__program__data__struct.html#a3b0e08ca755cbde2d17af8176155b8a1">modified_host_attributes</a>
<a name="l02572"></a>02572                          ,<a class="code" href="protoapi_8h.html#af6591b689614534701173ad9b386612f">IDO_DATA_MODIFIEDSERVICEATTRIBUTE</a>
<a name="l02573"></a>02573                          ,apdata-&gt;<a class="code" href="structnebstruct__adaptive__program__data__struct.html#af190a41c0d0408c1cb3c8991fc3ca9b9">modified_service_attribute</a>
<a name="l02574"></a>02574                          ,<a class="code" href="protoapi_8h.html#ab13d19e9d141df4b904fc17b54185156">IDO_DATA_MODIFIEDSERVICEATTRIBUTES</a>
<a name="l02575"></a>02575                          ,apdata-&gt;<a class="code" href="structnebstruct__adaptive__program__data__struct.html#a3108f7dc76ca66f2b9477b23dc433747">modified_service_attributes</a>
<a name="l02576"></a>02576                          ,<a class="code" href="protoapi_8h.html#a75a5bf22b32552d00e9f8716abddbe05">IDO_DATA_GLOBALHOSTEVENTHANDLER</a>
<a name="l02577"></a>02577                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02578"></a>02578                          ,<a class="code" href="protoapi_8h.html#a4fb3f40bc2d2afeeeea20fe7488f15b1">IDO_DATA_GLOBALSERVICEEVENTHANDLER</a>
<a name="l02579"></a>02579                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02580"></a>02580                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02581"></a>02581                         );
<a name="l02582"></a>02582 
<a name="l02583"></a>02583                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02584"></a>02584                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02585"></a>02585 
<a name="l02586"></a>02586                 <span class="keywordflow">break</span>;
<a name="l02587"></a>02587 
<a name="l02588"></a>02588         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a979d03e11cc90963a6e662811f639b71">NEBCALLBACK_ADAPTIVE_HOST_DATA</a>:
<a name="l02589"></a>02589 
<a name="l02590"></a>02590                 ahdata=(<a class="code" href="structnebstruct__adaptive__host__data__struct.html">nebstruct_adaptive_host_data</a> *)data;
<a name="l02591"></a>02591 
<a name="l02592"></a>02592                 <span class="keywordflow">if</span>((temp_host=(<a class="code" href="structhost__struct.html">host</a> *)ahdata-&gt;<a class="code" href="structnebstruct__adaptive__host__data__struct.html#a94048fe1e627a1b63731ca4b3878b77f">object_ptr</a>)==NULL){
<a name="l02593"></a>02593                         <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l02594"></a>02594                         <span class="keywordflow">return</span> 0;
<a name="l02595"></a>02595                         }
<a name="l02596"></a>02596 
<a name="l02597"></a>02597                 retry_interval=temp_host-&gt;<a class="code" href="structhost__struct.html#a444411c02f976b4141d2cc28e55b5eda">retry_interval</a>;
<a name="l02598"></a>02598 
<a name="l02599"></a>02599                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a29629acc48c023596d81b061b5f135f7">name</a>);
<a name="l02600"></a>02600                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a63e950417db76dfa600b51a8e6313ce4">event_handler</a>);
<a name="l02601"></a>02601                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#add4274af8704b502b95ce8ad2ec0ddff">host_check_command</a>);
<a name="l02602"></a>02602 
<a name="l02603"></a>02603                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02604"></a>02604                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%lu\n%d=%lu\n%d=%s\n%d=%s\n%d=%s\n%d=%lf\n%d=%lf\n%d=%d\n%d\n\n&quot;</span>
<a name="l02605"></a>02605                          ,<a class="code" href="protoapi_8h.html#a6312ac69cd6e67d20092daab4d69e31f">IDO_API_ADAPTIVEHOSTDATA</a>
<a name="l02606"></a>02606                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02607"></a>02607                          ,ahdata-&gt;<a class="code" href="structnebstruct__adaptive__host__data__struct.html#a11f6bb6ce70a0b5acd1f900ca605f293">type</a>
<a name="l02608"></a>02608                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02609"></a>02609                          ,ahdata-&gt;<a class="code" href="structnebstruct__adaptive__host__data__struct.html#a3f0d483243b54f7597f0cd4616e763be">flags</a>
<a name="l02610"></a>02610                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02611"></a>02611                          ,ahdata-&gt;<a class="code" href="structnebstruct__adaptive__host__data__struct.html#a794cee48487a20e8ca857d505b16f0d6">attr</a>
<a name="l02612"></a>02612                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02613"></a>02613                          ,ahdata-&gt;<a class="code" href="structnebstruct__adaptive__host__data__struct.html#af94bc20dfb1b07164d57d3c41c294c34">timestamp</a>.tv_sec
<a name="l02614"></a>02614                          ,ahdata-&gt;<a class="code" href="structnebstruct__adaptive__host__data__struct.html#af94bc20dfb1b07164d57d3c41c294c34">timestamp</a>.tv_usec
<a name="l02615"></a>02615                          ,<a class="code" href="protoapi_8h.html#a37ff5fc0e4877027b3dc0c56c9b52a92">IDO_DATA_COMMANDTYPE</a>
<a name="l02616"></a>02616                          ,ahdata-&gt;<a class="code" href="structnebstruct__adaptive__host__data__struct.html#ad24697362f1217b05371335fdf5946c6">command_type</a>
<a name="l02617"></a>02617                          ,<a class="code" href="protoapi_8h.html#a62271f18335b6c191576d78b4328af83">IDO_DATA_MODIFIEDHOSTATTRIBUTE</a>
<a name="l02618"></a>02618                          ,ahdata-&gt;<a class="code" href="structnebstruct__adaptive__host__data__struct.html#aa03b009293bec06f27631cb24db24bfe">modified_attribute</a>
<a name="l02619"></a>02619                          ,<a class="code" href="protoapi_8h.html#afdea7eb028d5a4eec3f0bcc77763a06d">IDO_DATA_MODIFIEDHOSTATTRIBUTES</a>
<a name="l02620"></a>02620                          ,ahdata-&gt;<a class="code" href="structnebstruct__adaptive__host__data__struct.html#aeaaf792c37b19a2dbc68d9287c34fae8">modified_attributes</a>
<a name="l02621"></a>02621                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l02622"></a>02622                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02623"></a>02623                          ,<a class="code" href="protoapi_8h.html#a55a641eb3c07c01454c96b2b5ec3cd20">IDO_DATA_EVENTHANDLER</a>
<a name="l02624"></a>02624                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02625"></a>02625                          ,<a class="code" href="protoapi_8h.html#a22c2c55984fe735894800dd7d6291ff5">IDO_DATA_CHECKCOMMAND</a>
<a name="l02626"></a>02626                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l02627"></a>02627                          ,<a class="code" href="protoapi_8h.html#ad9743ddce267f7bc6c33b0ab79f83bde">IDO_DATA_NORMALCHECKINTERVAL</a>
<a name="l02628"></a>02628                          ,(<span class="keywordtype">double</span>)temp_host-&gt;<a class="code" href="structhost__struct.html#a75fa71ddb31a4fbfd6ce60ebd69d6064">check_interval</a>
<a name="l02629"></a>02629                          ,<a class="code" href="protoapi_8h.html#ae480018d5385030a075a508d54982656">IDO_DATA_RETRYCHECKINTERVAL</a>
<a name="l02630"></a>02630                          ,retry_interval
<a name="l02631"></a>02631                          ,<a class="code" href="protoapi_8h.html#a8392537ebb5f326159bf50ad5505a487">IDO_DATA_MAXCHECKATTEMPTS</a>
<a name="l02632"></a>02632                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a091388e27be66d35e87ed643567079c5">max_attempts</a>
<a name="l02633"></a>02633                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02634"></a>02634                         );
<a name="l02635"></a>02635 
<a name="l02636"></a>02636                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02637"></a>02637                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02638"></a>02638 
<a name="l02639"></a>02639                 <span class="keywordflow">break</span>;
<a name="l02640"></a>02640 
<a name="l02641"></a>02641         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#ae3b4cde61a663c4c93a92cc8e5637900">NEBCALLBACK_ADAPTIVE_SERVICE_DATA</a>:
<a name="l02642"></a>02642 
<a name="l02643"></a>02643                 asdata=(<a class="code" href="structnebstruct__adaptive__service__data__struct.html">nebstruct_adaptive_service_data</a> *)data;
<a name="l02644"></a>02644 
<a name="l02645"></a>02645                 <span class="keywordflow">if</span>((temp_service=(<a class="code" href="structservice__struct.html">service</a> *)asdata-&gt;<a class="code" href="structnebstruct__adaptive__service__data__struct.html#acfca2838dc692f9bd2b4e77832696f42">object_ptr</a>)==NULL){
<a name="l02646"></a>02646                         <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l02647"></a>02647                         <span class="keywordflow">return</span> 0;
<a name="l02648"></a>02648                         }
<a name="l02649"></a>02649 
<a name="l02650"></a>02650                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#ac8e06ecb2bddf149916fa2f6e4077836">host_name</a>);
<a name="l02651"></a>02651                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a646fc0478ea62db804e9cd8c84f53ad9">description</a>);
<a name="l02652"></a>02652                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a64f2ac4fcd338fcc0c73b632551484b9">event_handler</a>);
<a name="l02653"></a>02653                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a979cc671dd6fd908e92d232a5e2458ca">service_check_command</a>);
<a name="l02654"></a>02654 
<a name="l02655"></a>02655                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02656"></a>02656                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%lu\n%d=%lu\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%lf\n%d=%lf\n%d=%d\n%d\n\n&quot;</span>
<a name="l02657"></a>02657                          ,<a class="code" href="protoapi_8h.html#a97dc6dcfe88bde8ce9c71622681bcfcc">IDO_API_ADAPTIVESERVICEDATA</a>
<a name="l02658"></a>02658                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02659"></a>02659                          ,asdata-&gt;<a class="code" href="structnebstruct__adaptive__service__data__struct.html#a3bc2115020ac0109dd60183ef7bc276a">type</a>
<a name="l02660"></a>02660                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02661"></a>02661                          ,asdata-&gt;<a class="code" href="structnebstruct__adaptive__service__data__struct.html#a03f1e7f6f731c775985668dd18fb0e21">flags</a>
<a name="l02662"></a>02662                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02663"></a>02663                          ,asdata-&gt;<a class="code" href="structnebstruct__adaptive__service__data__struct.html#a9db7c408da042a6900bb5aee62f21af1">attr</a>
<a name="l02664"></a>02664                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02665"></a>02665                          ,asdata-&gt;<a class="code" href="structnebstruct__adaptive__service__data__struct.html#ae90f14e497db6ca037dd4712ed8a150e">timestamp</a>.tv_sec
<a name="l02666"></a>02666                          ,asdata-&gt;<a class="code" href="structnebstruct__adaptive__service__data__struct.html#ae90f14e497db6ca037dd4712ed8a150e">timestamp</a>.tv_usec
<a name="l02667"></a>02667                          ,<a class="code" href="protoapi_8h.html#a37ff5fc0e4877027b3dc0c56c9b52a92">IDO_DATA_COMMANDTYPE</a>
<a name="l02668"></a>02668                          ,asdata-&gt;<a class="code" href="structnebstruct__adaptive__service__data__struct.html#a6378842bd11d89e775a2505ba9c2f0d8">command_type</a>
<a name="l02669"></a>02669                          ,<a class="code" href="protoapi_8h.html#af6591b689614534701173ad9b386612f">IDO_DATA_MODIFIEDSERVICEATTRIBUTE</a>
<a name="l02670"></a>02670                          ,asdata-&gt;<a class="code" href="structnebstruct__adaptive__service__data__struct.html#a6a0deac72edc20f747dc7485e2bb0afa">modified_attribute</a>
<a name="l02671"></a>02671                          ,<a class="code" href="protoapi_8h.html#ab13d19e9d141df4b904fc17b54185156">IDO_DATA_MODIFIEDSERVICEATTRIBUTES</a>
<a name="l02672"></a>02672                          ,asdata-&gt;<a class="code" href="structnebstruct__adaptive__service__data__struct.html#a664533b7423c421ebb1034a65a92f8d0">modified_attributes</a>
<a name="l02673"></a>02673                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l02674"></a>02674                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02675"></a>02675                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l02676"></a>02676                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02677"></a>02677                          ,<a class="code" href="protoapi_8h.html#a55a641eb3c07c01454c96b2b5ec3cd20">IDO_DATA_EVENTHANDLER</a>
<a name="l02678"></a>02678                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l02679"></a>02679                          ,<a class="code" href="protoapi_8h.html#a22c2c55984fe735894800dd7d6291ff5">IDO_DATA_CHECKCOMMAND</a>
<a name="l02680"></a>02680                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l02681"></a>02681                          ,<a class="code" href="protoapi_8h.html#ad9743ddce267f7bc6c33b0ab79f83bde">IDO_DATA_NORMALCHECKINTERVAL</a>
<a name="l02682"></a>02682                          ,(<span class="keywordtype">double</span>)temp_service-&gt;<a class="code" href="structservice__struct.html#a54179e5f4bb721f91c11e943a1f9f32c">check_interval</a>
<a name="l02683"></a>02683                          ,<a class="code" href="protoapi_8h.html#ae480018d5385030a075a508d54982656">IDO_DATA_RETRYCHECKINTERVAL</a>
<a name="l02684"></a>02684                          ,(<span class="keywordtype">double</span>)temp_service-&gt;<a class="code" href="structservice__struct.html#a6d72d0d693531b23f2873e4081463076">retry_interval</a>
<a name="l02685"></a>02685                          ,<a class="code" href="protoapi_8h.html#a8392537ebb5f326159bf50ad5505a487">IDO_DATA_MAXCHECKATTEMPTS</a>
<a name="l02686"></a>02686                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a4cc582ba5131b3efd4cfbf6389bbe938">max_attempts</a>
<a name="l02687"></a>02687                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02688"></a>02688                         );
<a name="l02689"></a>02689 
<a name="l02690"></a>02690                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02691"></a>02691                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02692"></a>02692 
<a name="l02693"></a>02693                 <span class="keywordflow">break</span>;
<a name="l02694"></a>02694 
<a name="l02695"></a>02695         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a5bfadda34e6d9bd0f0b7ef35685ce411">NEBCALLBACK_ADAPTIVE_CONTACT_DATA</a>:
<a name="l02696"></a>02696 
<a name="l02697"></a>02697                 acdata=(<a class="code" href="structnebstruct__adaptive__contact__data__struct.html">nebstruct_adaptive_contact_data</a> *)data;
<a name="l02698"></a>02698 
<a name="l02699"></a>02699                 <span class="keywordflow">if</span>((temp_contact=(<a class="code" href="structcontact__struct.html">contact</a> *)acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#a40a9d5790b78d89a93c75db734881543">object_ptr</a>)==NULL){
<a name="l02700"></a>02700                         <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l02701"></a>02701                         <span class="keywordflow">return</span> 0;
<a name="l02702"></a>02702                         }
<a name="l02703"></a>02703 
<a name="l02704"></a>02704                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contact-&gt;<a class="code" href="structcontact__struct.html#a03f0162d096aaf82e3f64c70a53be2b1">name</a>);
<a name="l02705"></a>02705 
<a name="l02706"></a>02706                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02707"></a>02707                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%lu\n%d=%s\n%d=%d\n%d=%d\n%d\n\n&quot;</span>
<a name="l02708"></a>02708                          ,<a class="code" href="protoapi_8h.html#acb112fd6fefd570380d1b87cc92eae73">IDO_API_ADAPTIVECONTACTDATA</a>
<a name="l02709"></a>02709                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02710"></a>02710                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#a0563e8b76d6776d8f9c84bc9db2c3dd6">type</a>
<a name="l02711"></a>02711                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02712"></a>02712                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#a9bc53fcdfa5e36cd441458ad3513992f">flags</a>
<a name="l02713"></a>02713                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02714"></a>02714                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#aa363965b41afb12a004a42d566e126d6">attr</a>
<a name="l02715"></a>02715                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02716"></a>02716                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#a7b806e827b9dd6449beda90fe4ddf563">timestamp</a>.tv_sec
<a name="l02717"></a>02717                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#a7b806e827b9dd6449beda90fe4ddf563">timestamp</a>.tv_usec
<a name="l02718"></a>02718                          ,<a class="code" href="protoapi_8h.html#a37ff5fc0e4877027b3dc0c56c9b52a92">IDO_DATA_COMMANDTYPE</a>
<a name="l02719"></a>02719                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#a552da1962a55a5a2bf92bb8c4f0e808f">command_type</a>
<a name="l02720"></a>02720                          ,<a class="code" href="protoapi_8h.html#a834240a267fc260b1ac106ced23121dd">IDO_DATA_MODIFIEDCONTACTATTRIBUTE</a>
<a name="l02721"></a>02721                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#a35578531dc92dcdd46e843f951f1677e">modified_attribute</a>
<a name="l02722"></a>02722                          ,<a class="code" href="protoapi_8h.html#a3b34196a62cefb322f6ae166d59458f9">IDO_DATA_MODIFIEDCONTACTATTRIBUTES</a>
<a name="l02723"></a>02723                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#ae12d81526b8d3ca8ea65730180615e65">modified_attributes</a>
<a name="l02724"></a>02724                          ,<a class="code" href="protoapi_8h.html#a62271f18335b6c191576d78b4328af83">IDO_DATA_MODIFIEDHOSTATTRIBUTE</a>
<a name="l02725"></a>02725                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#af3ee85066e2947192bc8d5f6ed4dde02">modified_host_attribute</a>
<a name="l02726"></a>02726                          ,<a class="code" href="protoapi_8h.html#afdea7eb028d5a4eec3f0bcc77763a06d">IDO_DATA_MODIFIEDHOSTATTRIBUTES</a>
<a name="l02727"></a>02727                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#a7858bc04cb7e889fba4326d574782871">modified_host_attributes</a>
<a name="l02728"></a>02728                          ,<a class="code" href="protoapi_8h.html#af6591b689614534701173ad9b386612f">IDO_DATA_MODIFIEDSERVICEATTRIBUTE</a>
<a name="l02729"></a>02729                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#a61678746bad8779effb1f0982b233824">modified_service_attribute</a>
<a name="l02730"></a>02730                          ,<a class="code" href="protoapi_8h.html#ab13d19e9d141df4b904fc17b54185156">IDO_DATA_MODIFIEDSERVICEATTRIBUTES</a>
<a name="l02731"></a>02731                          ,acdata-&gt;<a class="code" href="structnebstruct__adaptive__contact__data__struct.html#aef3b5c9b096633190756c3868870e358">modified_service_attributes</a>
<a name="l02732"></a>02732                          ,<a class="code" href="protoapi_8h.html#a40c2b39a2d3512c80cfbd7bfebc2a4d3">IDO_DATA_CONTACTNAME</a>
<a name="l02733"></a>02733                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02734"></a>02734                          ,<a class="code" href="protoapi_8h.html#a900bcfe4ece3d19e4910c4bbb6603638">IDO_DATA_HOSTNOTIFICATIONSENABLED</a>
<a name="l02735"></a>02735                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#a48ffa22072c73cd5c01515ca5de47ba0">host_notifications_enabled</a>
<a name="l02736"></a>02736                          ,<a class="code" href="protoapi_8h.html#acaa3a1dd567c570b116a1728cdd37905">IDO_DATA_SERVICENOTIFICATIONSENABLED</a>
<a name="l02737"></a>02737                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#adae5b0594a93de88add3968fbef66324">service_notifications_enabled</a>
<a name="l02738"></a>02738                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02739"></a>02739                         );
<a name="l02740"></a>02740 
<a name="l02741"></a>02741                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02742"></a>02742                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02743"></a>02743 
<a name="l02744"></a>02744                 <span class="keywordflow">break</span>;
<a name="l02745"></a>02745 
<a name="l02746"></a>02746         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a569abd7a194711f198e89e8bd5228e7e">NEBCALLBACK_EXTERNAL_COMMAND_DATA</a>:
<a name="l02747"></a>02747 
<a name="l02748"></a>02748                 ecdata=(<a class="code" href="structnebstruct__external__command__struct.html">nebstruct_external_command_data</a> *)data;
<a name="l02749"></a>02749 
<a name="l02750"></a>02750                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ecdata-&gt;<a class="code" href="structnebstruct__external__command__struct.html#a5010c2273b26eae2a02dbe03e7a2f93b">command_string</a>);
<a name="l02751"></a>02751                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ecdata-&gt;<a class="code" href="structnebstruct__external__command__struct.html#a8cf32a1364d38ea1ccbe5f2ec1ba45b9">command_args</a>);
<a name="l02752"></a>02752 
<a name="l02753"></a>02753                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02754"></a>02754                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%lu\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l02755"></a>02755                          ,<a class="code" href="protoapi_8h.html#a74b6c984d13b8101e03efc746df09324">IDO_API_EXTERNALCOMMANDDATA</a>
<a name="l02756"></a>02756                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02757"></a>02757                          ,ecdata-&gt;<a class="code" href="structnebstruct__external__command__struct.html#ac92765437d80aa146d5cc8a74647ed75">type</a>
<a name="l02758"></a>02758                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02759"></a>02759                          ,ecdata-&gt;<a class="code" href="structnebstruct__external__command__struct.html#af5f8d1c3d93d811848204ea2d3c95d4d">flags</a>
<a name="l02760"></a>02760                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02761"></a>02761                          ,ecdata-&gt;<a class="code" href="structnebstruct__external__command__struct.html#a692480a84bd1973a5ff361556b762849">attr</a>
<a name="l02762"></a>02762                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02763"></a>02763                          ,ecdata-&gt;<a class="code" href="structnebstruct__external__command__struct.html#a4ee2678a685fbdaef4e22bb9651dbaf4">timestamp</a>.tv_sec
<a name="l02764"></a>02764                          ,ecdata-&gt;<a class="code" href="structnebstruct__external__command__struct.html#a4ee2678a685fbdaef4e22bb9651dbaf4">timestamp</a>.tv_usec
<a name="l02765"></a>02765                          ,<a class="code" href="protoapi_8h.html#a37ff5fc0e4877027b3dc0c56c9b52a92">IDO_DATA_COMMANDTYPE</a>
<a name="l02766"></a>02766                          ,ecdata-&gt;<a class="code" href="structnebstruct__external__command__struct.html#a219e991d99325cba02bc61e1e4daaf79">command_type</a>
<a name="l02767"></a>02767                          ,<a class="code" href="protoapi_8h.html#a8bfde7113d3b2ed7d214f8560b9260e1">IDO_DATA_ENTRYTIME</a>
<a name="l02768"></a>02768                          ,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)ecdata-&gt;<a class="code" href="structnebstruct__external__command__struct.html#a81158fd216813b91084441c54d248d12">entry_time</a>
<a name="l02769"></a>02769                          ,<a class="code" href="protoapi_8h.html#ac5c1918bad922e05637cad47ce7a8ad1">IDO_DATA_COMMANDSTRING</a>
<a name="l02770"></a>02770                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02771"></a>02771                          ,<a class="code" href="protoapi_8h.html#a2009df1a3aaffebe6119b36976b49ee2">IDO_DATA_COMMANDARGS</a>
<a name="l02772"></a>02772                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02773"></a>02773                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02774"></a>02774                         );
<a name="l02775"></a>02775 
<a name="l02776"></a>02776                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02777"></a>02777                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02778"></a>02778 
<a name="l02779"></a>02779                 <span class="keywordflow">break</span>;
<a name="l02780"></a>02780 
<a name="l02781"></a>02781         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#af969bf6f53be4986bbe59f6e104724f0">NEBCALLBACK_AGGREGATED_STATUS_DATA</a>:
<a name="l02782"></a>02782 
<a name="l02783"></a>02783                 agsdata=(<a class="code" href="structnebstruct__aggregated__status__struct.html">nebstruct_aggregated_status_data</a> *)data;
<a name="l02784"></a>02784 
<a name="l02785"></a>02785                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02786"></a>02786                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d\n\n&quot;</span>
<a name="l02787"></a>02787                          ,<a class="code" href="protoapi_8h.html#a128a78c29d10ff243f28d0cb66c16093">IDO_API_AGGREGATEDSTATUSDATA</a>
<a name="l02788"></a>02788                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02789"></a>02789                          ,agsdata-&gt;<a class="code" href="structnebstruct__aggregated__status__struct.html#a45f548eec57d3f306a98ea7ec597a92a">type</a>
<a name="l02790"></a>02790                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02791"></a>02791                          ,agsdata-&gt;<a class="code" href="structnebstruct__aggregated__status__struct.html#a19c26b6055f829b181aa2571c97903f0">flags</a>
<a name="l02792"></a>02792                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02793"></a>02793                          ,agsdata-&gt;<a class="code" href="structnebstruct__aggregated__status__struct.html#a5c6ceeca98b703691406c15224afc767">attr</a>
<a name="l02794"></a>02794                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02795"></a>02795                          ,agsdata-&gt;<a class="code" href="structnebstruct__aggregated__status__struct.html#adb6a82311c7d1651c3d71fa9c01c71fa">timestamp</a>.tv_sec
<a name="l02796"></a>02796                          ,agsdata-&gt;<a class="code" href="structnebstruct__aggregated__status__struct.html#adb6a82311c7d1651c3d71fa9c01c71fa">timestamp</a>.tv_usec
<a name="l02797"></a>02797                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02798"></a>02798                         );
<a name="l02799"></a>02799 
<a name="l02800"></a>02800                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02801"></a>02801                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02802"></a>02802 
<a name="l02803"></a>02803                 <span class="keywordflow">break</span>;
<a name="l02804"></a>02804 
<a name="l02805"></a>02805         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a76b0ed838568971d0f353e0fefca487d">NEBCALLBACK_RETENTION_DATA</a>:
<a name="l02806"></a>02806 
<a name="l02807"></a>02807                 rdata=(<a class="code" href="structnebstruct__retention__struct.html">nebstruct_retention_data</a> *)data;
<a name="l02808"></a>02808 
<a name="l02809"></a>02809                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02810"></a>02810                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d\n\n&quot;</span>
<a name="l02811"></a>02811                          ,<a class="code" href="protoapi_8h.html#a2bd5ed469bdc58f3c90f29674812c082">IDO_API_RETENTIONDATA</a>
<a name="l02812"></a>02812                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02813"></a>02813                          ,rdata-&gt;<a class="code" href="structnebstruct__retention__struct.html#a2efff518f25b1a18440a31b99e292a0d">type</a>
<a name="l02814"></a>02814                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02815"></a>02815                          ,rdata-&gt;<a class="code" href="structnebstruct__retention__struct.html#ab66b4b13c2ec30ec95ee12d3f48a013b">flags</a>
<a name="l02816"></a>02816                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02817"></a>02817                          ,rdata-&gt;<a class="code" href="structnebstruct__retention__struct.html#a6a6da190cd42858c2f406d2f896939ec">attr</a>
<a name="l02818"></a>02818                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02819"></a>02819                          ,rdata-&gt;<a class="code" href="structnebstruct__retention__struct.html#aa13167a81f415d55405d255eac0430ee">timestamp</a>.tv_sec
<a name="l02820"></a>02820                          ,rdata-&gt;<a class="code" href="structnebstruct__retention__struct.html#aa13167a81f415d55405d255eac0430ee">timestamp</a>.tv_usec
<a name="l02821"></a>02821                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02822"></a>02822                         );
<a name="l02823"></a>02823 
<a name="l02824"></a>02824                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02825"></a>02825                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02826"></a>02826 
<a name="l02827"></a>02827                 <span class="keywordflow">break</span>;
<a name="l02828"></a>02828 
<a name="l02829"></a>02829         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#acc1403ffa7970f73de45d81df71c28a5">NEBCALLBACK_CONTACT_NOTIFICATION_DATA</a>:
<a name="l02830"></a>02830 
<a name="l02831"></a>02831                 cnotdata=(<a class="code" href="structnebstruct__contact__notification__struct.html">nebstruct_contact_notification_data</a> *)data;
<a name="l02832"></a>02832 
<a name="l02833"></a>02833                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#a9774d8372ecded35320f2f5c5ec11308">host_name</a>);
<a name="l02834"></a>02834                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#a3146f704ad4f81e705f2f3cd4b081432">service_description</a>);
<a name="l02835"></a>02835                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#aef7ddf310a2c5b0892af7e956197b617">output</a>);
<a name="l02836"></a>02836                 <span class="comment">/* Preparing if contact notifications will have long_output in the future */</span>
<a name="l02837"></a>02837                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#aef7ddf310a2c5b0892af7e956197b617">output</a>);
<a name="l02838"></a>02838                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#ab1e5d9a510d1757f9242997e515b0650">ack_author</a>);
<a name="l02839"></a>02839                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#a1c2cd190b82843e465dce98e5a0b8a71">ack_data</a>);
<a name="l02840"></a>02840                 es[6]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#aeb84fba1e80211d468f75f6e0a86c543">contact_name</a>);
<a name="l02841"></a>02841 
<a name="l02842"></a>02842                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02843"></a>02843                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%ld.%ld\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l02844"></a>02844                          ,<a class="code" href="protoapi_8h.html#a1119824e68893cc49278b34a9a5f0d63">IDO_API_CONTACTNOTIFICATIONDATA</a>
<a name="l02845"></a>02845                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02846"></a>02846                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#a44fc48aec32bde7e4727fe4d35fb7102">type</a>
<a name="l02847"></a>02847                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02848"></a>02848                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#a9b05179a94ea326d9e92ef5e707319a0">flags</a>
<a name="l02849"></a>02849                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02850"></a>02850                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#ad38a9beac5a5c3aae5743f2cd7013cdf">attr</a>
<a name="l02851"></a>02851                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02852"></a>02852                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#ac9d19de7eeb78999aa350b7f0f28706c">timestamp</a>.tv_sec
<a name="l02853"></a>02853                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#ac9d19de7eeb78999aa350b7f0f28706c">timestamp</a>.tv_usec
<a name="l02854"></a>02854                          ,<a class="code" href="protoapi_8h.html#ad4b0b95226fd5eed75e3d149c6aca718">IDO_DATA_NOTIFICATIONTYPE</a>
<a name="l02855"></a>02855                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#a51c1ae340d4ce9e759d50f41046e6a92">notification_type</a>
<a name="l02856"></a>02856                          ,<a class="code" href="protoapi_8h.html#a00554a9e5e4b8769aa4d8bcccd56ea38">IDO_DATA_STARTTIME</a>
<a name="l02857"></a>02857                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#a9a070678ebe3b88d6964a74479b0bead">start_time</a>.tv_sec
<a name="l02858"></a>02858                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#a9a070678ebe3b88d6964a74479b0bead">start_time</a>.tv_usec
<a name="l02859"></a>02859                          ,<a class="code" href="protoapi_8h.html#a408cce5553665c2774205b029685843d">IDO_DATA_ENDTIME</a>
<a name="l02860"></a>02860                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#a61e8674b3388474f84743d1e1deafa5d">end_time</a>.tv_sec
<a name="l02861"></a>02861                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#a61e8674b3388474f84743d1e1deafa5d">end_time</a>.tv_usec
<a name="l02862"></a>02862                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l02863"></a>02863                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02864"></a>02864                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l02865"></a>02865                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02866"></a>02866                          ,<a class="code" href="protoapi_8h.html#a40c2b39a2d3512c80cfbd7bfebc2a4d3">IDO_DATA_CONTACTNAME</a>
<a name="l02867"></a>02867                          ,(es[6]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[6]
<a name="l02868"></a>02868                          ,<a class="code" href="protoapi_8h.html#a50277ed54142e89017972a5e45d6fa42">IDO_DATA_NOTIFICATIONREASON</a>
<a name="l02869"></a>02869                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#ac5f0ace69955c2d839e084250b82b3b8">reason_type</a>
<a name="l02870"></a>02870                          ,<a class="code" href="protoapi_8h.html#a8d73a8629be86438cfb9a1d69c3788dd">IDO_DATA_STATE</a>
<a name="l02871"></a>02871                          ,cnotdata-&gt;<a class="code" href="structnebstruct__contact__notification__struct.html#adc9f283025796471ed8a99b039233a1d">state</a>
<a name="l02872"></a>02872                          ,<a class="code" href="protoapi_8h.html#a79b9988701ece77b5d4238c52587d9e2">IDO_DATA_OUTPUT</a>
<a name="l02873"></a>02873                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l02874"></a>02874                          ,<a class="code" href="protoapi_8h.html#a7f458d11ea6db92724ab27d4d53687c9">IDO_DATA_LONGOUTPUT</a>
<a name="l02875"></a>02875                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l02876"></a>02876                          ,<a class="code" href="protoapi_8h.html#ad8d3de276c4361e82c2352b277fdf3e7">IDO_DATA_ACKAUTHOR</a>
<a name="l02877"></a>02877                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l02878"></a>02878                          ,<a class="code" href="protoapi_8h.html#a423e564a457c280dee4aa194a35e9f14">IDO_DATA_ACKDATA</a>
<a name="l02879"></a>02879                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l02880"></a>02880                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02881"></a>02881                         );
<a name="l02882"></a>02882 
<a name="l02883"></a>02883                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02884"></a>02884                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02885"></a>02885 
<a name="l02886"></a>02886                 <span class="keywordflow">break</span>;
<a name="l02887"></a>02887 
<a name="l02888"></a>02888         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#acfd938f6714a0dd894ef034c3172d5c5">NEBCALLBACK_CONTACT_NOTIFICATION_METHOD_DATA</a>:
<a name="l02889"></a>02889 
<a name="l02890"></a>02890                 cnotmdata=(<a class="code" href="structnebstruct__contact__notification__method__struct.html">nebstruct_contact_notification_method_data</a> *)data;
<a name="l02891"></a>02891 
<a name="l02892"></a>02892                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a47d38da5ab779fef2c80baed1a987b0e">host_name</a>);
<a name="l02893"></a>02893                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#ababc5328b47826ccfbdeac8aa8048190">service_description</a>);
<a name="l02894"></a>02894                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a80f802f51b02483a26363b61d7979807">output</a>);
<a name="l02895"></a>02895                 <span class="comment">/* Preparing if contact notifications method will have long_output in the future */</span>
<a name="l02896"></a>02896                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a80f802f51b02483a26363b61d7979807">output</a>);
<a name="l02897"></a>02897                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#afeed308dbec7fb22abdc6c07b827c5d2">ack_author</a>);
<a name="l02898"></a>02898                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a12b20c0854ff5bafe6bbd29d86efcb81">ack_data</a>);
<a name="l02899"></a>02899                 es[6]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#ace44d94252b0eb30ce9fa2ad10aefa2e">contact_name</a>);
<a name="l02900"></a>02900                 es[7]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a3319927dfb957e86910a7a7fa1def14a">command_name</a>);
<a name="l02901"></a>02901                 es[8]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a3431e437878019e4bb4abbb2b20986a2">command_args</a>);
<a name="l02902"></a>02902 
<a name="l02903"></a>02903                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02904"></a>02904                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%ld.%ld\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l02905"></a>02905                          ,<a class="code" href="protoapi_8h.html#a5d3607ed9ae2f7286b7a20f29d2a2dfa">IDO_API_CONTACTNOTIFICATIONMETHODDATA</a>
<a name="l02906"></a>02906                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02907"></a>02907                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a75740b5472cd9b1b00931c23cd32ec4e">type</a>
<a name="l02908"></a>02908                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02909"></a>02909                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a2f134c8fa2f1b20dd759a2bae3b74b07">flags</a>
<a name="l02910"></a>02910                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02911"></a>02911                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a4d0ed6e9a4ab08224fb597fa40ff8367">attr</a>
<a name="l02912"></a>02912                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02913"></a>02913                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#ae8b2cd1848251b3b455f2bd578f92c9c">timestamp</a>.tv_sec
<a name="l02914"></a>02914                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#ae8b2cd1848251b3b455f2bd578f92c9c">timestamp</a>.tv_usec
<a name="l02915"></a>02915                          ,<a class="code" href="protoapi_8h.html#ad4b0b95226fd5eed75e3d149c6aca718">IDO_DATA_NOTIFICATIONTYPE</a>
<a name="l02916"></a>02916                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a464d9f8975d076ad96191eb04f22ee37">notification_type</a>
<a name="l02917"></a>02917                          ,<a class="code" href="protoapi_8h.html#a00554a9e5e4b8769aa4d8bcccd56ea38">IDO_DATA_STARTTIME</a>
<a name="l02918"></a>02918                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#acb093f4d7b5777e250fb7790b040917f">start_time</a>.tv_sec
<a name="l02919"></a>02919                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#acb093f4d7b5777e250fb7790b040917f">start_time</a>.tv_usec
<a name="l02920"></a>02920                          ,<a class="code" href="protoapi_8h.html#a408cce5553665c2774205b029685843d">IDO_DATA_ENDTIME</a>
<a name="l02921"></a>02921                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#ab1fb05456a5b3120f15b9770328e88ee">end_time</a>.tv_sec
<a name="l02922"></a>02922                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#ab1fb05456a5b3120f15b9770328e88ee">end_time</a>.tv_usec
<a name="l02923"></a>02923                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l02924"></a>02924                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02925"></a>02925                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l02926"></a>02926                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02927"></a>02927                          ,<a class="code" href="protoapi_8h.html#a40c2b39a2d3512c80cfbd7bfebc2a4d3">IDO_DATA_CONTACTNAME</a>
<a name="l02928"></a>02928                          ,(es[6]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[6]
<a name="l02929"></a>02929                          ,<a class="code" href="protoapi_8h.html#acd73f50c26ee48cbf61683f4df596d6b">IDO_DATA_COMMANDNAME</a>
<a name="l02930"></a>02930                          ,(es[7]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[7]
<a name="l02931"></a>02931                          ,<a class="code" href="protoapi_8h.html#a2009df1a3aaffebe6119b36976b49ee2">IDO_DATA_COMMANDARGS</a>
<a name="l02932"></a>02932                          ,(es[8]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[8]
<a name="l02933"></a>02933                          ,<a class="code" href="protoapi_8h.html#a50277ed54142e89017972a5e45d6fa42">IDO_DATA_NOTIFICATIONREASON</a>
<a name="l02934"></a>02934                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a6bf86fdee80cd8c660df61e4cd891faf">reason_type</a>
<a name="l02935"></a>02935                          ,<a class="code" href="protoapi_8h.html#a8d73a8629be86438cfb9a1d69c3788dd">IDO_DATA_STATE</a>
<a name="l02936"></a>02936                          ,cnotmdata-&gt;<a class="code" href="structnebstruct__contact__notification__method__struct.html#a200908a45e2dd1e16fa5345e6026c6ef">state</a>
<a name="l02937"></a>02937                          ,<a class="code" href="protoapi_8h.html#a79b9988701ece77b5d4238c52587d9e2">IDO_DATA_OUTPUT</a>
<a name="l02938"></a>02938                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l02939"></a>02939                          ,<a class="code" href="protoapi_8h.html#a7f458d11ea6db92724ab27d4d53687c9">IDO_DATA_LONGOUTPUT</a>
<a name="l02940"></a>02940                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l02941"></a>02941                          ,<a class="code" href="protoapi_8h.html#ad8d3de276c4361e82c2352b277fdf3e7">IDO_DATA_ACKAUTHOR</a>
<a name="l02942"></a>02942                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l02943"></a>02943                          ,<a class="code" href="protoapi_8h.html#a423e564a457c280dee4aa194a35e9f14">IDO_DATA_ACKDATA</a>
<a name="l02944"></a>02944                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l02945"></a>02945                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02946"></a>02946                         );
<a name="l02947"></a>02947 
<a name="l02948"></a>02948                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02949"></a>02949                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02950"></a>02950 
<a name="l02951"></a>02951                 <span class="keywordflow">break</span>;
<a name="l02952"></a>02952 
<a name="l02953"></a>02953         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#ac32b7fe1941ac718906ff15cdd997ade">NEBCALLBACK_ACKNOWLEDGEMENT_DATA</a>:
<a name="l02954"></a>02954 
<a name="l02955"></a>02955                 ackdata=(<a class="code" href="structnebstruct__acknowledgement__struct.html">nebstruct_acknowledgement_data</a> *)data;
<a name="l02956"></a>02956 
<a name="l02957"></a>02957                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#aebdda9fbfad470b1ddce51aa0a24d60d">host_name</a>);
<a name="l02958"></a>02958                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#abcaca01ef0957c2c82ef7f17fc9e38c2">service_description</a>);
<a name="l02959"></a>02959                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#ac9b1e498f21a89102f2de8a250e95bce">author_name</a>);
<a name="l02960"></a>02960                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#aa94d2f88adee1bfa36e00cd49b856d7f">comment_data</a>);
<a name="l02961"></a>02961 
<a name="l02962"></a>02962                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l02963"></a>02963                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d\n\n&quot;</span>
<a name="l02964"></a>02964                          ,<a class="code" href="protoapi_8h.html#a28bf428e7e4649b9e28bc88e3377d098">IDO_API_ACKNOWLEDGEMENTDATA</a>
<a name="l02965"></a>02965                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l02966"></a>02966                          ,ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#ac06e0847206c2afea62f5da41eb06001">type</a>
<a name="l02967"></a>02967                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l02968"></a>02968                          ,ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#ad458f014b5d4d3fbae774c9893bb1117">flags</a>
<a name="l02969"></a>02969                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l02970"></a>02970                          ,ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#a4b1c3edb36fc000fae742326154712b6">attr</a>
<a name="l02971"></a>02971                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l02972"></a>02972                          ,ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#a07d59d16b3a291a333007a7f1826dfbc">timestamp</a>.tv_sec
<a name="l02973"></a>02973                          ,ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#a07d59d16b3a291a333007a7f1826dfbc">timestamp</a>.tv_usec
<a name="l02974"></a>02974                          ,<a class="code" href="protoapi_8h.html#a5bd10a6570debda61a6a736a50215c6d">IDO_DATA_ACKNOWLEDGEMENTTYPE</a>
<a name="l02975"></a>02975                          ,ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#a8dd20259996cbd430e587ba1e20f0d59">acknowledgement_type</a>
<a name="l02976"></a>02976                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l02977"></a>02977                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l02978"></a>02978                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l02979"></a>02979                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l02980"></a>02980                          ,<a class="code" href="protoapi_8h.html#ab3a119d01ae07a248bd6124a5c629f21">IDO_DATA_AUTHORNAME</a>
<a name="l02981"></a>02981                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l02982"></a>02982                          ,<a class="code" href="protoapi_8h.html#ad89736cc384a59b6f243b8426f6a591a">IDO_DATA_COMMENT</a>
<a name="l02983"></a>02983                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l02984"></a>02984                          ,<a class="code" href="protoapi_8h.html#a8d73a8629be86438cfb9a1d69c3788dd">IDO_DATA_STATE</a>
<a name="l02985"></a>02985                          ,ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#a727a1fdcc28e6f9b231823a489898865">state</a>
<a name="l02986"></a>02986                          ,<a class="code" href="protoapi_8h.html#a3298407f48dc8460a67836ef0b2aac77">IDO_DATA_STICKY</a>
<a name="l02987"></a>02987                          ,ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#a0593ad8d275675b0f6a9d7f9c9c8effd">is_sticky</a>
<a name="l02988"></a>02988                          ,<a class="code" href="protoapi_8h.html#a0c1254472259c6fece1e836593140961">IDO_DATA_PERSISTENT</a>
<a name="l02989"></a>02989                          ,ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#a197302875f73688c7d82cf051fed439d">persistent_comment</a>
<a name="l02990"></a>02990                          ,<a class="code" href="protoapi_8h.html#ad75e19ce0338ea1a3358abc0bc96a2af">IDO_DATA_NOTIFYCONTACTS</a>
<a name="l02991"></a>02991                          ,ackdata-&gt;<a class="code" href="structnebstruct__acknowledgement__struct.html#a2d4db103c0f38b21d5ee12d7dcd10ef7">notify_contacts</a>
<a name="l02992"></a>02992                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l02993"></a>02993                         );
<a name="l02994"></a>02994 
<a name="l02995"></a>02995                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l02996"></a>02996                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l02997"></a>02997 
<a name="l02998"></a>02998                 <span class="keywordflow">break</span>;
<a name="l02999"></a>02999 
<a name="l03000"></a>03000         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a268af5bf9795ccf8664bcdd9cd4c238f">NEBCALLBACK_STATE_CHANGE_DATA</a>:
<a name="l03001"></a>03001 
<a name="l03002"></a>03002                 schangedata=(<a class="code" href="structnebstruct__statechange__struct.html">nebstruct_statechange_data</a> *)data;
<a name="l03003"></a>03003 
<a name="l03004"></a>03004                 <span class="comment">/* get the last state info */</span>
<a name="l03005"></a>03005                 <span class="keywordflow">if</span>(schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#ab42047ec498d7252cab4c4cf0de8bede">service_description</a>==NULL){
<a name="l03006"></a>03006                         <span class="keywordflow">if</span>((temp_host=(<a class="code" href="structhost__struct.html">host</a> *)schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#aafb10674b07ac01dc90b9eeffb9016d4">object_ptr</a>)==NULL){
<a name="l03007"></a>03007                                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l03008"></a>03008                                 <span class="keywordflow">return</span> 0;
<a name="l03009"></a>03009                                 }
<a name="l03010"></a>03010                         last_state=temp_host-&gt;last_state;
<a name="l03011"></a>03011                         last_state=temp_host-&gt;last_hard_state;
<a name="l03012"></a>03012                         }
<a name="l03013"></a>03013                 <span class="keywordflow">else</span>{
<a name="l03014"></a>03014                         <span class="keywordflow">if</span>((temp_service=(<a class="code" href="structservice__struct.html">service</a> *)schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#aafb10674b07ac01dc90b9eeffb9016d4">object_ptr</a>)==NULL){
<a name="l03015"></a>03015                                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l03016"></a>03016                                 <span class="keywordflow">return</span> 0;
<a name="l03017"></a>03017                                 }
<a name="l03018"></a>03018                         last_state=temp_service-&gt;last_state;
<a name="l03019"></a>03019                         last_hard_state=temp_service-&gt;last_hard_state;
<a name="l03020"></a>03020                         }
<a name="l03021"></a>03021 
<a name="l03022"></a>03022                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#aca6f48588a28aad12e064ae5dde674ed">host_name</a>);
<a name="l03023"></a>03023                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#ab42047ec498d7252cab4c4cf0de8bede">service_description</a>);
<a name="l03024"></a>03024                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#add1681c03562956f4c915f27985dfe59">output</a>);
<a name="l03025"></a>03025                 <span class="comment">/* Preparing if servicecheck change data will have long_output in the future */</span>
<a name="l03026"></a>03026                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#add1681c03562956f4c915f27985dfe59">output</a>);
<a name="l03027"></a>03027 
<a name="l03028"></a>03028                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03029"></a>03029                          ,<span class="stringliteral">&quot;\n%d:\n%d=%d\n%d=%d\n%d=%d\n%d=%ld.%ld\n%d=%d\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l03030"></a>03030                          ,<a class="code" href="protoapi_8h.html#a13cd7cd75555de79e4e354ba19781a41">IDO_API_STATECHANGEDATA</a>
<a name="l03031"></a>03031                          ,<a class="code" href="protoapi_8h.html#ac72cda8dcc8d6121ab19438eadff3b4c">IDO_DATA_TYPE</a>
<a name="l03032"></a>03032                          ,schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#a28b66c15016014297410ca6b8473b003">type</a>
<a name="l03033"></a>03033                          ,<a class="code" href="protoapi_8h.html#ae56562b68f171a58ac82c282bb0df6ad">IDO_DATA_FLAGS</a>
<a name="l03034"></a>03034                          ,schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#aeda82ac165032766cb9ec20e0f68835e">flags</a>
<a name="l03035"></a>03035                          ,<a class="code" href="protoapi_8h.html#abddfae537feff4f166da7a4173880036">IDO_DATA_ATTRIBUTES</a>
<a name="l03036"></a>03036                          ,schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#adffe9bd5a631d9162a9d1167e7e8c903">attr</a>
<a name="l03037"></a>03037                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l03038"></a>03038                          ,schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#acc3f9d49e4579f6b1e9f9a8e58d43bf7">timestamp</a>.tv_sec
<a name="l03039"></a>03039                          ,schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#acc3f9d49e4579f6b1e9f9a8e58d43bf7">timestamp</a>.tv_usec
<a name="l03040"></a>03040                          ,<a class="code" href="protoapi_8h.html#a835db7a5d43455204635391678fe9661">IDO_DATA_STATECHANGETYPE</a>
<a name="l03041"></a>03041                          ,schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#ab13915580010764a553a13fca20cdf2a">statechange_type</a>
<a name="l03042"></a>03042                          ,<a class="code" href="protoapi_8h.html#a2d4dd7c961eff6cb482ae1e3602d1ebc">IDO_DATA_HOST</a>
<a name="l03043"></a>03043                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03044"></a>03044                          ,<a class="code" href="protoapi_8h.html#a66fedabedf301d9bfc1c5867cda997db">IDO_DATA_SERVICE</a>
<a name="l03045"></a>03045                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l03046"></a>03046                          ,<a class="code" href="protoapi_8h.html#a8f217fec7b573f51a60285e9a14ada5b">IDO_DATA_STATECHANGE</a>
<a name="l03047"></a>03047                          ,<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>
<a name="l03048"></a>03048                          ,<a class="code" href="protoapi_8h.html#a8d73a8629be86438cfb9a1d69c3788dd">IDO_DATA_STATE</a>
<a name="l03049"></a>03049                          ,schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#a7b2cae0c66a68f9324b2aa90c49587bd">state</a>
<a name="l03050"></a>03050                          ,<a class="code" href="protoapi_8h.html#a33fdd3cb5901b3ce3d22d1bdef40a8d1">IDO_DATA_STATETYPE</a>
<a name="l03051"></a>03051                          ,schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#aaa46b443af5995e26848c8a8f7b98e32">state_type</a>
<a name="l03052"></a>03052                          ,<a class="code" href="protoapi_8h.html#abd7c05f0a71bffb4fd8ffbaaf936a37c">IDO_DATA_CURRENTCHECKATTEMPT</a>
<a name="l03053"></a>03053                          ,schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#adc595e97debc8a51db480ee8b5eab3b0">current_attempt</a>
<a name="l03054"></a>03054                          ,<a class="code" href="protoapi_8h.html#a8392537ebb5f326159bf50ad5505a487">IDO_DATA_MAXCHECKATTEMPTS</a>
<a name="l03055"></a>03055                          ,schangedata-&gt;<a class="code" href="structnebstruct__statechange__struct.html#a05de19ac29368804db5599d9e8b2e2fb">max_attempts</a>
<a name="l03056"></a>03056                          ,<a class="code" href="protoapi_8h.html#a6e21f571f0e756b1b51e78f272ad44a3">IDO_DATA_LASTSTATE</a>
<a name="l03057"></a>03057                          ,last_state
<a name="l03058"></a>03058                          ,<a class="code" href="protoapi_8h.html#a1a30cc73dee262452fdb6056995c87b8">IDO_DATA_LASTHARDSTATE</a>
<a name="l03059"></a>03059                          ,last_hard_state
<a name="l03060"></a>03060                          ,<a class="code" href="protoapi_8h.html#a79b9988701ece77b5d4238c52587d9e2">IDO_DATA_OUTPUT</a>
<a name="l03061"></a>03061                          ,es[2]
<a name="l03062"></a>03062                          ,<a class="code" href="protoapi_8h.html#a7f458d11ea6db92724ab27d4d53687c9">IDO_DATA_LONGOUTPUT</a>
<a name="l03063"></a>03063                          ,es[3]
<a name="l03064"></a>03064                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l03065"></a>03065                         );
<a name="l03066"></a>03066 
<a name="l03067"></a>03067                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03068"></a>03068                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03069"></a>03069 
<a name="l03070"></a>03070                 <span class="keywordflow">break</span>;
<a name="l03071"></a>03071 
<a name="l03072"></a>03072         <span class="keywordflow">default</span>:
<a name="l03073"></a>03073                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l03074"></a>03074                 <span class="keywordflow">return</span> 0;
<a name="l03075"></a>03075                 <span class="keywordflow">break</span>;
<a name="l03076"></a>03076                 }
<a name="l03077"></a>03077 
<a name="l03078"></a>03078         <span class="comment">/* free escaped buffers */</span>
<a name="l03079"></a>03079         <span class="keywordflow">for</span>(x=0;x&lt;8;x++){
<a name="l03080"></a>03080                 free(es[x]);
<a name="l03081"></a>03081                 es[x]=NULL;
<a name="l03082"></a>03082                 }
<a name="l03083"></a>03083 
<a name="l03084"></a>03084         <span class="comment">/* write data to sink */</span>
<a name="l03085"></a>03085         <span class="keywordflow">if</span>(write_to_sink==IDO_TRUE)
<a name="l03086"></a>03086                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l03087"></a>03087 
<a name="l03088"></a>03088         <span class="comment">/* free dynamic buffer */</span>
<a name="l03089"></a>03089         <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l03090"></a>03090 
<a name="l03091"></a>03091 
<a name="l03092"></a>03092 
<a name="l03093"></a>03093         <span class="comment">/* POST PROCESSING... */</span>
<a name="l03094"></a>03094 
<a name="l03095"></a>03095         <span class="keywordflow">switch</span>(event_type){
<a name="l03096"></a>03096 
<a name="l03097"></a>03097         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#abf8e809ca321c5a124f74d7f05e33468">NEBCALLBACK_PROCESS_DATA</a>:
<a name="l03098"></a>03098 
<a name="l03099"></a>03099                 procdata=(<a class="code" href="structnebstruct__process__struct.html">nebstruct_process_data</a> *)data;
<a name="l03100"></a>03100 
<a name="l03101"></a>03101                 <span class="comment">/* process has passed pre-launch config verification, so dump original config */</span>
<a name="l03102"></a>03102                 <span class="keywordflow">if</span>(procdata-&gt;<a class="code" href="structnebstruct__process__struct.html#a14b5652c17edc10f1516360ae0f2786d">type</a>==<a class="code" href="broker_8h.html#a42aa7ba36067a78b38df41fe4d166559">NEBTYPE_PROCESS_START</a>){
<a name="l03103"></a>03103                         <a class="code" href="idomod_8h.html#ad5060cccfb03be3cfd2d801cff499b1f">idomod_write_config_files</a>();
<a name="l03104"></a>03104                         <a class="code" href="idomod_8h.html#a25bf047cb60cb97fb0d6fa1a566cc188">idomod_write_config</a>(<a class="code" href="idomod_8h.html#a40758aa8c5c0869545b75226232eed32">IDOMOD_CONFIG_DUMP_ORIGINAL</a>);
<a name="l03105"></a>03105                         }
<a name="l03106"></a>03106 
<a name="l03107"></a>03107                 <span class="comment">/* process is starting the event loop, so dump runtime vars */</span>
<a name="l03108"></a>03108                 <span class="keywordflow">if</span>(procdata-&gt;<a class="code" href="structnebstruct__process__struct.html#a14b5652c17edc10f1516360ae0f2786d">type</a>==<a class="code" href="broker_8h.html#a3d570531739387f1ab7640bbb99a2704">NEBTYPE_PROCESS_EVENTLOOPSTART</a>){
<a name="l03109"></a>03109                         <a class="code" href="idomod_8h.html#a14933c72abd5ffd0642d8900280d8d3d">idomod_write_runtime_variables</a>();
<a name="l03110"></a>03110                         }
<a name="l03111"></a>03111 
<a name="l03112"></a>03112                 <span class="keywordflow">break</span>;
<a name="l03113"></a>03113 
<a name="l03114"></a>03114         <span class="keywordflow">case</span> <a class="code" href="nebcallbacks_8h.html#a76b0ed838568971d0f353e0fefca487d">NEBCALLBACK_RETENTION_DATA</a>:
<a name="l03115"></a>03115 
<a name="l03116"></a>03116                 rdata=(<a class="code" href="structnebstruct__retention__struct.html">nebstruct_retention_data</a> *)data;
<a name="l03117"></a>03117 
<a name="l03118"></a>03118                 <span class="comment">/* retained config was just read, so dump it */</span>
<a name="l03119"></a>03119                 <span class="keywordflow">if</span>(rdata-&gt;<a class="code" href="structnebstruct__retention__struct.html#a2efff518f25b1a18440a31b99e292a0d">type</a>==<a class="code" href="broker_8h.html#a0e75ced859447248579fea38f801ed0b">NEBTYPE_RETENTIONDATA_ENDLOAD</a>)
<a name="l03120"></a>03120                         <a class="code" href="idomod_8h.html#a25bf047cb60cb97fb0d6fa1a566cc188">idomod_write_config</a>(<a class="code" href="idomod_8h.html#a1c83487c25541f23cb8e9890674d8169">IDOMOD_CONFIG_DUMP_RETAINED</a>);
<a name="l03121"></a>03121 
<a name="l03122"></a>03122                 <span class="keywordflow">break</span>;
<a name="l03123"></a>03123 
<a name="l03124"></a>03124         <span class="keywordflow">default</span>:
<a name="l03125"></a>03125                 <span class="keywordflow">break</span>;
<a name="l03126"></a>03126                 }
<a name="l03127"></a>03127 
<a name="l03128"></a>03128         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_broker_data() end\n&quot;</span>);
<a name="l03129"></a>03129 
<a name="l03130"></a>03130         <span class="keywordflow">return</span> 0;
<a name="l03131"></a>03131         }
<a name="l03132"></a>03132 
<a name="l03133"></a>03133 
<a name="l03134"></a>03134 
<a name="l03135"></a>03135 <span class="comment">/****************************************************************************/</span>
<a name="l03136"></a>03136 <span class="comment">/* CONFIG OUTPUT FUNCTIONS                                                  */</span>
<a name="l03137"></a>03137 <span class="comment">/****************************************************************************/</span>
<a name="l03138"></a>03138 
<a name="l03139"></a>03139 <span class="comment">/* dumps all configuration data to sink */</span>
<a name="l03140"></a><a class="code" href="idomod_8c.html#a2f713a2f5afa7361e1e8ffe0d338f268">03140</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a25bf047cb60cb97fb0d6fa1a566cc188">idomod_write_config</a>(<span class="keywordtype">int</span> config_type){
<a name="l03141"></a>03141         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l03142"></a>03142         <span class="keyword">struct </span>timeval now;
<a name="l03143"></a>03143         <span class="keywordtype">int</span> result;
<a name="l03144"></a>03144 
<a name="l03145"></a>03145         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_config() start\n&quot;</span>);
<a name="l03146"></a>03146 
<a name="l03147"></a>03147         <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#aab6b88dcd16b21e5ff20f43422352494">idomod_config_output_options</a> &amp; config_type))
<a name="l03148"></a>03148                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l03149"></a>03149 
<a name="l03150"></a>03150         gettimeofday(&amp;now,NULL);
<a name="l03151"></a>03151 
<a name="l03152"></a>03152         <span class="comment">/* record start of config dump */</span>
<a name="l03153"></a>03153         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03154"></a>03154                  ,<span class="stringliteral">&quot;\n\n%d:\n%d=%s\n%d=%ld.%ld\n%d\n\n&quot;</span>
<a name="l03155"></a>03155                  ,<a class="code" href="protoapi_8h.html#a6f75d31569b169ec2a9379c117cb85df">IDO_API_STARTCONFIGDUMP</a>
<a name="l03156"></a>03156                  ,<a class="code" href="protoapi_8h.html#ab9d39f14b4d1a5b842e39c4b55281cc0">IDO_DATA_CONFIGDUMPTYPE</a>
<a name="l03157"></a>03157                  ,(config_type==<a class="code" href="idomod_8h.html#a40758aa8c5c0869545b75226232eed32">IDOMOD_CONFIG_DUMP_ORIGINAL</a>)?<a class="code" href="protoapi_8h.html#aecb0a3e4198786f816744d57c34ac8fa">IDO_API_CONFIGDUMP_ORIGINAL</a>:<a class="code" href="protoapi_8h.html#a1bd14c57048f0e20626cf781d5c3cc38">IDO_API_CONFIGDUMP_RETAINED</a>
<a name="l03158"></a>03158                  ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l03159"></a>03159                  ,now.tv_sec
<a name="l03160"></a>03160                  ,now.tv_usec
<a name="l03161"></a>03161                  ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l03162"></a>03162                 );
<a name="l03163"></a>03163         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03164"></a>03164         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_TRUE,IDO_TRUE);
<a name="l03165"></a>03165 
<a name="l03166"></a>03166         <span class="comment">/* dump object config info */</span>
<a name="l03167"></a>03167         result=<a class="code" href="idomod_8h.html#a6582fa45e8cc963599282bb8480655fc">idomod_write_object_config</a>(config_type);
<a name="l03168"></a>03168         <span class="keywordflow">if</span>(result!=<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>)
<a name="l03169"></a>03169                 <span class="keywordflow">return</span> result;
<a name="l03170"></a>03170 
<a name="l03171"></a>03171         <span class="comment">/* record end of config dump */</span>
<a name="l03172"></a>03172         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03173"></a>03173                  ,<span class="stringliteral">&quot;\n\n%d:\n%d=%ld.%ld\n%d\n\n&quot;</span>
<a name="l03174"></a>03174                  ,<a class="code" href="protoapi_8h.html#a1a91c197f1928a648e3cfd089e552050">IDO_API_ENDCONFIGDUMP</a>
<a name="l03175"></a>03175                  ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l03176"></a>03176                  ,now.tv_sec
<a name="l03177"></a>03177                  ,now.tv_usec
<a name="l03178"></a>03178                  ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l03179"></a>03179                 );
<a name="l03180"></a>03180         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03181"></a>03181         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_TRUE,IDO_TRUE);
<a name="l03182"></a>03182 
<a name="l03183"></a>03183         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_config() end\n&quot;</span>);
<a name="l03184"></a>03184 
<a name="l03185"></a>03185         <span class="keywordflow">return</span> result;
<a name="l03186"></a>03186         }
<a name="l03187"></a>03187 
<a name="l03188"></a>03188 
<a name="l03189"></a><a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">03189</a> <span class="preprocessor">#define OBJECTCONFIG_ES_ITEMS 16</span>
<a name="l03190"></a>03190 <span class="preprocessor"></span>
<a name="l03191"></a>03191 <span class="comment">/* dumps object configuration data to sink */</span>
<a name="l03192"></a><a class="code" href="idomod_8c.html#ae65dac6be1ae2feb9b9a49aecaa5e3e3">03192</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a6582fa45e8cc963599282bb8480655fc">idomod_write_object_config</a>(<span class="keywordtype">int</span> config_type){
<a name="l03193"></a>03193         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l03194"></a>03194         <a class="code" href="structido__dbuf__struct.html">ido_dbuf</a> <a class="code" href="icinga_8h.html#a81e73ddd5893b96b528c00be05e66d7a">dbuf</a>;
<a name="l03195"></a>03195         <span class="keyword">struct </span>timeval now;
<a name="l03196"></a>03196         <span class="keywordtype">int</span> x=0;
<a name="l03197"></a>03197         <span class="keywordtype">char</span> *es[<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>];
<a name="l03198"></a>03198         <a class="code" href="structcommand__struct.html">command</a> *temp_command=NULL;
<a name="l03199"></a>03199         <a class="code" href="structtimeperiod__struct.html">timeperiod</a> *temp_timeperiod=NULL;
<a name="l03200"></a>03200         <a class="code" href="structtimerange__struct.html">timerange</a> *temp_timerange=NULL;
<a name="l03201"></a>03201         <a class="code" href="structcontact__struct.html">contact</a> *temp_contact=NULL;
<a name="l03202"></a>03202         <a class="code" href="structcommandsmember__struct.html">commandsmember</a> *temp_commandsmember=NULL;
<a name="l03203"></a>03203         <a class="code" href="structcontactgroup__struct.html">contactgroup</a> *temp_contactgroup=NULL;
<a name="l03204"></a>03204         <a class="code" href="structhost__struct.html">host</a> *temp_host=NULL;
<a name="l03205"></a>03205         <a class="code" href="structhostsmember__struct.html">hostsmember</a> *temp_hostsmember=NULL;
<a name="l03206"></a>03206         <a class="code" href="structcontactgroupsmember__struct.html">contactgroupsmember</a> *temp_contactgroupsmember=NULL;
<a name="l03207"></a>03207         <a class="code" href="structhostgroup__struct.html">hostgroup</a> *temp_hostgroup=NULL;
<a name="l03208"></a>03208         <a class="code" href="structservice__struct.html">service</a> *temp_service=NULL;
<a name="l03209"></a>03209         <a class="code" href="structservicegroup__struct.html">servicegroup</a> *temp_servicegroup=NULL;
<a name="l03210"></a>03210         <a class="code" href="structhostescalation__struct.html">hostescalation</a> *temp_hostescalation=NULL;
<a name="l03211"></a>03211         <a class="code" href="structserviceescalation__struct.html">serviceescalation</a> *temp_serviceescalation=NULL;
<a name="l03212"></a>03212         <a class="code" href="structhostdependency__struct.html">hostdependency</a> *temp_hostdependency=NULL;
<a name="l03213"></a>03213         <a class="code" href="structservicedependency__struct.html">servicedependency</a> *temp_servicedependency=NULL;
<a name="l03214"></a>03214         <span class="keywordtype">int</span> have_2d_coords=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l03215"></a>03215         <span class="keywordtype">int</span> x_2d=0;
<a name="l03216"></a>03216         <span class="keywordtype">int</span> y_2d=0;
<a name="l03217"></a>03217         <span class="keywordtype">int</span> have_3d_coords=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l03218"></a>03218         <span class="keywordtype">double</span> x_3d=0.0;
<a name="l03219"></a>03219         <span class="keywordtype">double</span> y_3d=0.0;
<a name="l03220"></a>03220         <span class="keywordtype">double</span> z_3d=0.0;
<a name="l03221"></a>03221         <span class="keywordtype">double</span> first_notification_delay=0.0;
<a name="l03222"></a>03222         <span class="keywordtype">double</span> retry_interval=0.0;
<a name="l03223"></a>03223         <span class="keywordtype">int</span> notify_on_host_downtime=0;
<a name="l03224"></a>03224         <span class="keywordtype">int</span> notify_on_service_downtime=0;
<a name="l03225"></a>03225         <span class="keywordtype">int</span> host_notifications_enabled=0;
<a name="l03226"></a>03226         <span class="keywordtype">int</span> service_notifications_enabled=0;
<a name="l03227"></a>03227         <span class="keywordtype">int</span> can_submit_commands=0;
<a name="l03228"></a>03228         <span class="keywordtype">int</span> flap_detection_on_up=0;
<a name="l03229"></a>03229         <span class="keywordtype">int</span> flap_detection_on_down=0;
<a name="l03230"></a>03230         <span class="keywordtype">int</span> flap_detection_on_unreachable=0;
<a name="l03231"></a>03231         <span class="keywordtype">int</span> flap_detection_on_ok=0;
<a name="l03232"></a>03232         <span class="keywordtype">int</span> flap_detection_on_warning=0;
<a name="l03233"></a>03233         <span class="keywordtype">int</span> flap_detection_on_unknown=0;
<a name="l03234"></a>03234         <span class="keywordtype">int</span> flap_detection_on_critical=0;
<a name="l03235"></a>03235         <a class="code" href="structcustomvariablesmember__struct.html">customvariablesmember</a> *temp_customvar=NULL;
<a name="l03236"></a>03236         <a class="code" href="structcontactsmember__struct.html">contactsmember</a> *temp_contactsmember=NULL;
<a name="l03237"></a>03237         <a class="code" href="structservicesmember__struct.html">servicesmember</a> *temp_servicesmember=NULL;
<a name="l03238"></a>03238 
<a name="l03239"></a>03239         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_object_config() start\n&quot;</span>);
<a name="l03240"></a>03240 
<a name="l03241"></a>03241         <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a5c439bf30547b34d14c15502ab59576e">idomod_process_options</a> &amp; <a class="code" href="idomod_8h.html#a4752ae45db9d4a48b4bd3554644bafff">IDOMOD_PROCESS_OBJECT_CONFIG_DATA</a>))
<a name="l03242"></a>03242                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l03243"></a>03243 
<a name="l03244"></a>03244         <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#aab6b88dcd16b21e5ff20f43422352494">idomod_config_output_options</a> &amp; config_type))
<a name="l03245"></a>03245                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l03246"></a>03246 
<a name="l03247"></a>03247         <span class="comment">/* get current time */</span>
<a name="l03248"></a>03248         gettimeofday(&amp;now,NULL);
<a name="l03249"></a>03249 
<a name="l03250"></a>03250         <span class="comment">/* initialize dynamic buffer (2KB chunk size) */</span>
<a name="l03251"></a>03251         <a class="code" href="utils_8h.html#ae9f1cad57e2f46c321f8a7a96d18b5be">ido_dbuf_init</a>(&amp;dbuf,2048);
<a name="l03252"></a>03252 
<a name="l03253"></a>03253         <span class="comment">/* initialize buffers */</span>
<a name="l03254"></a>03254         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++)
<a name="l03255"></a>03255                 es[x]=NULL;
<a name="l03256"></a>03256 
<a name="l03257"></a>03257         <span class="comment">/****** dump command config ******/</span>
<a name="l03258"></a>03258         <span class="keywordflow">for</span>(temp_command=command_list;temp_command!=NULL;temp_command=temp_command-&gt;<a class="code" href="structcommand__struct.html#a0c75c5bfcdec900430a2f01950ac342c">next</a>){
<a name="l03259"></a>03259 
<a name="l03260"></a>03260                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_command-&gt;<a class="code" href="structcommand__struct.html#a620cd978cffbebbd66dc790ba306c5ca">name</a>);
<a name="l03261"></a>03261                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_command-&gt;<a class="code" href="structcommand__struct.html#a57f84cb1d2a7f5fa72595d73d59282f5">command_line</a>);
<a name="l03262"></a>03262 
<a name="l03263"></a>03263                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03264"></a>03264                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d\n\n&quot;</span>
<a name="l03265"></a>03265                          ,<a class="code" href="protoapi_8h.html#a0f0501da15ed9e4dc191d124268bc9b8">IDO_API_COMMANDDEFINITION</a>
<a name="l03266"></a>03266                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l03267"></a>03267                          ,now.tv_sec
<a name="l03268"></a>03268                          ,now.tv_usec
<a name="l03269"></a>03269                          ,<a class="code" href="protoapi_8h.html#acd73f50c26ee48cbf61683f4df596d6b">IDO_DATA_COMMANDNAME</a>
<a name="l03270"></a>03270                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03271"></a>03271                          ,<a class="code" href="protoapi_8h.html#a797b41343ddb6ee93294ae3b46734315">IDO_DATA_COMMANDLINE</a>
<a name="l03272"></a>03272                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l03273"></a>03273                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l03274"></a>03274                         );
<a name="l03275"></a>03275 
<a name="l03276"></a>03276                 <span class="comment">/* write data to sink */</span>
<a name="l03277"></a>03277                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03278"></a>03278                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_TRUE,IDO_TRUE);
<a name="l03279"></a>03279                 }
<a name="l03280"></a>03280 
<a name="l03281"></a>03281         <span class="comment">/* free buffers */</span>
<a name="l03282"></a>03282         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l03283"></a>03283                 free(es[x]);
<a name="l03284"></a>03284                 es[x]=NULL;
<a name="l03285"></a>03285                 }
<a name="l03286"></a>03286 
<a name="l03287"></a>03287         <span class="comment">/****** dump timeperiod config ******/</span>
<a name="l03288"></a>03288         <span class="keywordflow">for</span>(temp_timeperiod=timeperiod_list;temp_timeperiod!=NULL;temp_timeperiod=temp_timeperiod-&gt;<a class="code" href="structtimeperiod__struct.html#ab2caec3de7491f3e0022dfaecb3000d6">next</a>){
<a name="l03289"></a>03289 
<a name="l03290"></a>03290                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_timeperiod-&gt;<a class="code" href="structtimeperiod__struct.html#ad55365b6da82196794039e1a71ee672f">name</a>);
<a name="l03291"></a>03291                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_timeperiod-&gt;<a class="code" href="structtimeperiod__struct.html#aa6662bf33e9094eba7167a623e6c81e7">alias</a>);
<a name="l03292"></a>03292 
<a name="l03293"></a>03293                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03294"></a>03294                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n&quot;</span>
<a name="l03295"></a>03295                          ,<a class="code" href="protoapi_8h.html#ae239ff81f9d2f603e254f38e892b35b0">IDO_API_TIMEPERIODDEFINITION</a>
<a name="l03296"></a>03296                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l03297"></a>03297                          ,now.tv_sec
<a name="l03298"></a>03298                          ,now.tv_usec
<a name="l03299"></a>03299                          ,<a class="code" href="protoapi_8h.html#a05fa7c06b7224a6e8d5e00dea82c5f28">IDO_DATA_TIMEPERIODNAME</a>
<a name="l03300"></a>03300                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03301"></a>03301                          ,<a class="code" href="protoapi_8h.html#a75e53a5750d4c5c4e79a45a69d7aa22e">IDO_DATA_TIMEPERIODALIAS</a>
<a name="l03302"></a>03302                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l03303"></a>03303                         );
<a name="l03304"></a>03304                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03305"></a>03305                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03306"></a>03306 
<a name="l03307"></a>03307                 <span class="comment">/* dump timeranges for each day */</span>
<a name="l03308"></a>03308                 <span class="keywordflow">for</span>(x=0;x&lt;7;x++){
<a name="l03309"></a>03309                         <span class="keywordflow">for</span>(temp_timerange=temp_timeperiod-&gt;<a class="code" href="structtimeperiod__struct.html#a80a66ae6bf3d3514a1f10b4d4f62cfd0">days</a>[x];temp_timerange!=NULL;temp_timerange=temp_timerange-&gt;<a class="code" href="structtimerange__struct.html#afd9ea6d61bbc09f855fa17b65e06b8c0">next</a>){
<a name="l03310"></a>03310 
<a name="l03311"></a>03311                                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03312"></a>03312                                          ,<span class="stringliteral">&quot;%d=%d:%lu-%lu\n&quot;</span>
<a name="l03313"></a>03313                                          ,<a class="code" href="protoapi_8h.html#a1e903248c23198f57d9517e8c36eb5e5">IDO_DATA_TIMERANGE</a>
<a name="l03314"></a>03314                                          ,x
<a name="l03315"></a>03315                                          ,temp_timerange-&gt;<a class="code" href="structtimerange__struct.html#a472faf570efd10d46cc3cb49bbed58b4">range_start</a>
<a name="l03316"></a>03316                                          ,temp_timerange-&gt;<a class="code" href="structtimerange__struct.html#a399206befe1b5e7efc7f8215f3f23fbd">range_end</a>
<a name="l03317"></a>03317                                         );
<a name="l03318"></a>03318                                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03319"></a>03319                                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03320"></a>03320                                 }
<a name="l03321"></a>03321                         }
<a name="l03322"></a>03322 
<a name="l03323"></a>03323                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03324"></a>03324                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l03325"></a>03325                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l03326"></a>03326                         );
<a name="l03327"></a>03327                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03328"></a>03328                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03329"></a>03329 
<a name="l03330"></a>03330                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l03331"></a>03331 
<a name="l03332"></a>03332                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l03333"></a>03333                 }
<a name="l03334"></a>03334 
<a name="l03335"></a>03335 
<a name="l03336"></a>03336         <span class="comment">/* free buffers */</span>
<a name="l03337"></a>03337         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l03338"></a>03338                 free(es[x]);
<a name="l03339"></a>03339                 es[x]=NULL;
<a name="l03340"></a>03340                 }
<a name="l03341"></a>03341 
<a name="l03342"></a>03342         <span class="comment">/****** dump contact config ******/</span>
<a name="l03343"></a>03343         <span class="keywordflow">for</span>(temp_contact=contact_list;temp_contact!=NULL;temp_contact=temp_contact-&gt;<a class="code" href="structcontact__struct.html#a84236f8ea762a37796fd43acdc83e742">next</a>){
<a name="l03344"></a>03344 
<a name="l03345"></a>03345                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contact-&gt;<a class="code" href="structcontact__struct.html#a03f0162d096aaf82e3f64c70a53be2b1">name</a>);
<a name="l03346"></a>03346                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contact-&gt;<a class="code" href="structcontact__struct.html#abfdf4076ba4139741160db3d0f4f990a">alias</a>);
<a name="l03347"></a>03347                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contact-&gt;<a class="code" href="structcontact__struct.html#a9f03a793c663df9f8d9f0c032a75de01">email</a>);
<a name="l03348"></a>03348                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contact-&gt;<a class="code" href="structcontact__struct.html#a9df4747296f403279cf65fcf3e81ac01">pager</a>);
<a name="l03349"></a>03349                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contact-&gt;<a class="code" href="structcontact__struct.html#ab5683748dcc9407be32fe46dfa29982a">host_notification_period</a>);
<a name="l03350"></a>03350                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contact-&gt;<a class="code" href="structcontact__struct.html#a80aafb39c80ae208abb18d9cc8fe0112">service_notification_period</a>);
<a name="l03351"></a>03351 
<a name="l03352"></a>03352                 notify_on_service_downtime=temp_contact-&gt;<a class="code" href="structcontact__struct.html#a3134e803a439571b57699ac7a80141c3">notify_on_service_downtime</a>;
<a name="l03353"></a>03353                 notify_on_host_downtime=temp_contact-&gt;<a class="code" href="structcontact__struct.html#a75bd2dc8beeab84810fbfb06967fb4c2">notify_on_host_downtime</a>;
<a name="l03354"></a>03354                 host_notifications_enabled=temp_contact-&gt;<a class="code" href="structcontact__struct.html#a48ffa22072c73cd5c01515ca5de47ba0">host_notifications_enabled</a>;
<a name="l03355"></a>03355                 service_notifications_enabled=temp_contact-&gt;<a class="code" href="structcontact__struct.html#adae5b0594a93de88add3968fbef66324">service_notifications_enabled</a>;
<a name="l03356"></a>03356                 can_submit_commands=temp_contact-&gt;<a class="code" href="structcontact__struct.html#a89c1e42415b16ee4bf70ab6f2c189cc1">can_submit_commands</a>;
<a name="l03357"></a>03357 
<a name="l03358"></a>03358                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03359"></a>03359                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n&quot;</span>
<a name="l03360"></a>03360                          ,<a class="code" href="protoapi_8h.html#aac3b32eedf8ea1327f153e6983b01ced">IDO_API_CONTACTDEFINITION</a>
<a name="l03361"></a>03361                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l03362"></a>03362                          ,now.tv_sec
<a name="l03363"></a>03363                          ,now.tv_usec
<a name="l03364"></a>03364                          ,<a class="code" href="protoapi_8h.html#a40c2b39a2d3512c80cfbd7bfebc2a4d3">IDO_DATA_CONTACTNAME</a>
<a name="l03365"></a>03365                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03366"></a>03366                          ,<a class="code" href="protoapi_8h.html#aa1cb621c64f4b5b73424f265689c67b9">IDO_DATA_CONTACTALIAS</a>
<a name="l03367"></a>03367                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l03368"></a>03368                          ,<a class="code" href="protoapi_8h.html#a291463e93a0feb6ac4d551764dd88c2c">IDO_DATA_EMAILADDRESS</a>
<a name="l03369"></a>03369                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l03370"></a>03370                          ,<a class="code" href="protoapi_8h.html#a7aeaa260796ad6faae516e10235874f2">IDO_DATA_PAGERADDRESS</a>
<a name="l03371"></a>03371                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l03372"></a>03372                          ,<a class="code" href="protoapi_8h.html#a345b83ae8b53cb4f6125542d5af78b0b">IDO_DATA_HOSTNOTIFICATIONPERIOD</a>
<a name="l03373"></a>03373                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l03374"></a>03374                          ,<a class="code" href="protoapi_8h.html#ad70f6eb08d149a68c59445dbcd78888d">IDO_DATA_SERVICENOTIFICATIONPERIOD</a>
<a name="l03375"></a>03375                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l03376"></a>03376                          ,<a class="code" href="protoapi_8h.html#acaa3a1dd567c570b116a1728cdd37905">IDO_DATA_SERVICENOTIFICATIONSENABLED</a>
<a name="l03377"></a>03377                          ,service_notifications_enabled
<a name="l03378"></a>03378                          ,<a class="code" href="protoapi_8h.html#a900bcfe4ece3d19e4910c4bbb6603638">IDO_DATA_HOSTNOTIFICATIONSENABLED</a>
<a name="l03379"></a>03379                          ,host_notifications_enabled
<a name="l03380"></a>03380                          ,<a class="code" href="protoapi_8h.html#ac328b650c04e4ef74f2944c32910c5ff">IDO_DATA_CANSUBMITCOMMANDS</a>
<a name="l03381"></a>03381                          ,can_submit_commands
<a name="l03382"></a>03382                          ,<a class="code" href="protoapi_8h.html#a79b18311e3010c71b2297a43d790e0eb">IDO_DATA_NOTIFYSERVICEUNKNOWN</a>
<a name="l03383"></a>03383                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#a43fedbbefcb56d8325d7301d48f1397f">notify_on_service_unknown</a>
<a name="l03384"></a>03384                          ,<a class="code" href="protoapi_8h.html#aa0091c5ee7417b6c004a4492c3505fb7">IDO_DATA_NOTIFYSERVICEWARNING</a>
<a name="l03385"></a>03385                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#abd1b0788832888b45792ffe805862858">notify_on_service_warning</a>
<a name="l03386"></a>03386                          ,<a class="code" href="protoapi_8h.html#a996c88270560bfa42ec6d4ef6c33c2e4">IDO_DATA_NOTIFYSERVICECRITICAL</a>
<a name="l03387"></a>03387                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#a1e5fd461b7005d3efa192396a63d87ab">notify_on_service_critical</a>
<a name="l03388"></a>03388                          ,<a class="code" href="protoapi_8h.html#a6118a9ae619d6768affab04059f62d2e">IDO_DATA_NOTIFYSERVICERECOVERY</a>
<a name="l03389"></a>03389                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#aa88f9e00b9a20230ec50e9268d2462cb">notify_on_service_recovery</a>
<a name="l03390"></a>03390                          ,<a class="code" href="protoapi_8h.html#af95c3172d238567dfb6a72484bcb9c20">IDO_DATA_NOTIFYSERVICEFLAPPING</a>
<a name="l03391"></a>03391                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#a23cd5769e9e04ff103a6fe9fcd17a4fb">notify_on_service_flapping</a>
<a name="l03392"></a>03392                          ,<a class="code" href="protoapi_8h.html#a60192b186535d765242a90c198f2e5b7">IDO_DATA_NOTIFYSERVICEDOWNTIME</a>
<a name="l03393"></a>03393                          ,notify_on_service_downtime
<a name="l03394"></a>03394                          ,<a class="code" href="protoapi_8h.html#af99a54526e7c2cf817a9375d3a48efca">IDO_DATA_NOTIFYHOSTDOWN</a>
<a name="l03395"></a>03395                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#a66c3798fa7b64e274ba2a9e366b8dd5a">notify_on_host_down</a>
<a name="l03396"></a>03396                          ,<a class="code" href="protoapi_8h.html#adce30b90593b794ddb4a8a5618849fd8">IDO_DATA_NOTIFYHOSTUNREACHABLE</a>
<a name="l03397"></a>03397                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#a63d62a3368ad84c224c92116ea6f8967">notify_on_host_unreachable</a>
<a name="l03398"></a>03398                          ,<a class="code" href="protoapi_8h.html#aeadc5df7d6755d5b65cbebb59626f673">IDO_DATA_NOTIFYHOSTRECOVERY</a>
<a name="l03399"></a>03399                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#a7448af1606a80f8b1692b0281aab705f">notify_on_host_recovery</a>
<a name="l03400"></a>03400                          ,<a class="code" href="protoapi_8h.html#a1703fd8fc769f50b42710044cfe862f0">IDO_DATA_NOTIFYHOSTFLAPPING</a>
<a name="l03401"></a>03401                          ,temp_contact-&gt;<a class="code" href="structcontact__struct.html#ade9e56af9c60d84ddabb692449334b72">notify_on_host_flapping</a>
<a name="l03402"></a>03402                          ,<a class="code" href="protoapi_8h.html#acede1888c52a6a595d0e1f113eed92ff">IDO_DATA_NOTIFYHOSTDOWNTIME</a>
<a name="l03403"></a>03403                          ,notify_on_host_downtime
<a name="l03404"></a>03404                         );
<a name="l03405"></a>03405                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03406"></a>03406                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03407"></a>03407 
<a name="l03408"></a>03408                 free(es[0]);
<a name="l03409"></a>03409                 es[0]=NULL;
<a name="l03410"></a>03410 
<a name="l03411"></a>03411                 <span class="comment">/* dump addresses for each contact */</span>
<a name="l03412"></a>03412                 <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="objects_8h.html#af533076ecb49802c42fbcdc1357721d6">MAX_CONTACT_ADDRESSES</a>;x++){
<a name="l03413"></a>03413 
<a name="l03414"></a>03414                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contact-&gt;<a class="code" href="structcontact__struct.html#a52ee2b0e5a1967847135f000a9709811">address</a>[x]);
<a name="l03415"></a>03415 
<a name="l03416"></a>03416                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03417"></a>03417                                  ,<span class="stringliteral">&quot;%d=%d:%s\n&quot;</span>
<a name="l03418"></a>03418                                  ,<a class="code" href="protoapi_8h.html#a7a10468d179339e6c2e20c2e8a861319">IDO_DATA_CONTACTADDRESS</a>
<a name="l03419"></a>03419                                  ,x+1
<a name="l03420"></a>03420                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03421"></a>03421                                 );
<a name="l03422"></a>03422                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03423"></a>03423                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03424"></a>03424 
<a name="l03425"></a>03425                         free(es[0]);
<a name="l03426"></a>03426                         es[0]=NULL;
<a name="l03427"></a>03427                         }
<a name="l03428"></a>03428 
<a name="l03429"></a>03429                 <span class="comment">/* dump host notification commands for each contact */</span>
<a name="l03430"></a>03430                 <span class="keywordflow">for</span>(temp_commandsmember=temp_contact-&gt;<a class="code" href="structcontact__struct.html#aa20af84d1a6df743ac5adc726ef404f9">host_notification_commands</a>;temp_commandsmember!=NULL;temp_commandsmember=temp_commandsmember-&gt;<a class="code" href="structcommandsmember__struct.html#a8ce0237df411a7a4a03e8e2a26f855f5">next</a>){
<a name="l03431"></a>03431 
<a name="l03432"></a>03432                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_commandsmember-&gt;<a class="code" href="structcommandsmember__struct.html#a2f0b512f868327322081bba583a0346b">command</a>);
<a name="l03433"></a>03433 
<a name="l03434"></a>03434                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03435"></a>03435                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l03436"></a>03436                                  ,<a class="code" href="protoapi_8h.html#ab89f64609ef3c57894ac9ff6a5ba279e">IDO_DATA_HOSTNOTIFICATIONCOMMAND</a>
<a name="l03437"></a>03437                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03438"></a>03438                                 );
<a name="l03439"></a>03439                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03440"></a>03440                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03441"></a>03441 
<a name="l03442"></a>03442                         free(es[0]);
<a name="l03443"></a>03443                         es[0]=NULL;
<a name="l03444"></a>03444                         }
<a name="l03445"></a>03445 
<a name="l03446"></a>03446                 <span class="comment">/* dump service notification commands for each contact */</span>
<a name="l03447"></a>03447                 <span class="keywordflow">for</span>(temp_commandsmember=temp_contact-&gt;<a class="code" href="structcontact__struct.html#a1c87ab2899790d5e5026d966309c10de">service_notification_commands</a>;temp_commandsmember!=NULL;temp_commandsmember=temp_commandsmember-&gt;<a class="code" href="structcommandsmember__struct.html#a8ce0237df411a7a4a03e8e2a26f855f5">next</a>){
<a name="l03448"></a>03448 
<a name="l03449"></a>03449                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_commandsmember-&gt;<a class="code" href="structcommandsmember__struct.html#a2f0b512f868327322081bba583a0346b">command</a>);
<a name="l03450"></a>03450 
<a name="l03451"></a>03451                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03452"></a>03452                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l03453"></a>03453                                  ,<a class="code" href="protoapi_8h.html#ab68c15f320ee8130b436a971b505a473">IDO_DATA_SERVICENOTIFICATIONCOMMAND</a>
<a name="l03454"></a>03454                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03455"></a>03455                                 );
<a name="l03456"></a>03456                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03457"></a>03457                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03458"></a>03458 
<a name="l03459"></a>03459                         free(es[0]);
<a name="l03460"></a>03460                         es[0]=NULL;
<a name="l03461"></a>03461                         }
<a name="l03462"></a>03462 
<a name="l03463"></a>03463                 <span class="comment">/* dump customvars */</span>
<a name="l03464"></a>03464                 <span class="keywordflow">for</span>(temp_customvar=temp_contact-&gt;<a class="code" href="structcontact__struct.html#ae1e347fc9508221b520cb795862acb67">custom_variables</a>;temp_customvar!=NULL;temp_customvar=temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a5f9b309ecb8874745787ced9391d5e48">next</a>){
<a name="l03465"></a>03465 
<a name="l03466"></a>03466                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a8cd266b198f92f8986bd4214c0abdc10">variable_name</a>);
<a name="l03467"></a>03467                         es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#aea9685f8017affa5fee895a7eba63bd0">variable_value</a>);
<a name="l03468"></a>03468 
<a name="l03469"></a>03469                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03470"></a>03470                                  ,<span class="stringliteral">&quot;%d=%s:%d:%s\n&quot;</span>
<a name="l03471"></a>03471                                  ,<a class="code" href="protoapi_8h.html#a9ae5462d1599a5f76a71c3c19ac5c280">IDO_DATA_CUSTOMVARIABLE</a>
<a name="l03472"></a>03472                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03473"></a>03473                                  ,temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a10766c154fe378d43f395e0f535fa062">has_been_modified</a>
<a name="l03474"></a>03474                                  ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l03475"></a>03475                                 );
<a name="l03476"></a>03476                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03477"></a>03477                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03478"></a>03478 
<a name="l03479"></a>03479                         <span class="keywordflow">for</span>(x=0;x&lt;2;x++){
<a name="l03480"></a>03480                                 free(es[x]);
<a name="l03481"></a>03481                                 es[x]=NULL;
<a name="l03482"></a>03482                                 }
<a name="l03483"></a>03483                         }
<a name="l03484"></a>03484 
<a name="l03485"></a>03485                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03486"></a>03486                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l03487"></a>03487                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l03488"></a>03488                         );
<a name="l03489"></a>03489                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03490"></a>03490                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03491"></a>03491 
<a name="l03492"></a>03492                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l03493"></a>03493 
<a name="l03494"></a>03494                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l03495"></a>03495                 }
<a name="l03496"></a>03496 
<a name="l03497"></a>03497 
<a name="l03498"></a>03498         <span class="comment">/* free buffers */</span>
<a name="l03499"></a>03499         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l03500"></a>03500                 free(es[x]);
<a name="l03501"></a>03501                 es[x]=NULL;
<a name="l03502"></a>03502                 }
<a name="l03503"></a>03503 
<a name="l03504"></a>03504         <span class="comment">/****** dump contactgroup config ******/</span>
<a name="l03505"></a>03505         <span class="keywordflow">for</span>(temp_contactgroup=contactgroup_list;temp_contactgroup!=NULL;temp_contactgroup=temp_contactgroup-&gt;<a class="code" href="structcontactgroup__struct.html#ac7e4f69592539dbd8044784ec340da38">next</a>){
<a name="l03506"></a>03506 
<a name="l03507"></a>03507                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactgroup-&gt;<a class="code" href="structcontactgroup__struct.html#a4bbc0c320b435d0b1f96c5b49052474a">group_name</a>);
<a name="l03508"></a>03508                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactgroup-&gt;<a class="code" href="structcontactgroup__struct.html#a4a95f087e6bce5484feb4b61b3ad0bac">alias</a>);
<a name="l03509"></a>03509 
<a name="l03510"></a>03510                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03511"></a>03511                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n&quot;</span>
<a name="l03512"></a>03512                          ,<a class="code" href="protoapi_8h.html#a3e293b1c0129f49e17200d1e0fca7ce8">IDO_API_CONTACTGROUPDEFINITION</a>
<a name="l03513"></a>03513                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l03514"></a>03514                          ,now.tv_sec
<a name="l03515"></a>03515                          ,now.tv_usec
<a name="l03516"></a>03516                          ,<a class="code" href="protoapi_8h.html#a77efcd7b912af77396f445dc7984978f">IDO_DATA_CONTACTGROUPNAME</a>
<a name="l03517"></a>03517                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03518"></a>03518                          ,<a class="code" href="protoapi_8h.html#a64269e7b8e0b3d2006a8a462dfe550b2">IDO_DATA_CONTACTGROUPALIAS</a>
<a name="l03519"></a>03519                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l03520"></a>03520                         );
<a name="l03521"></a>03521                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03522"></a>03522                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03523"></a>03523 
<a name="l03524"></a>03524                 free(es[0]);
<a name="l03525"></a>03525                 es[0]=NULL;
<a name="l03526"></a>03526 
<a name="l03527"></a>03527                 <span class="comment">/* dump members for each contactgroup */</span>
<a name="l03528"></a>03528                 <span class="keywordflow">for</span>(temp_contactsmember=temp_contactgroup-&gt;<a class="code" href="structcontactgroup__struct.html#ad0f5b1553a13cd1a1fcac33bcd75cd2b">members</a>;temp_contactsmember!=NULL;temp_contactsmember=temp_contactsmember-&gt;<a class="code" href="structcontactsmember__struct.html#ac250057428fd4e4c87f15f0e2bfb4eb0">next</a>)
<a name="l03529"></a>03529                         {
<a name="l03530"></a>03530 
<a name="l03531"></a>03531                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactsmember-&gt;<a class="code" href="structcontactsmember__struct.html#a8b5a562cc5e45c9d5a14439995c367df">contact_name</a>);
<a name="l03532"></a>03532 
<a name="l03533"></a>03533                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03534"></a>03534                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l03535"></a>03535                                  ,<a class="code" href="protoapi_8h.html#a3124fe2651872de8c7a9b998cdb8588c">IDO_DATA_CONTACTGROUPMEMBER</a>
<a name="l03536"></a>03536                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03537"></a>03537                                 );
<a name="l03538"></a>03538                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03539"></a>03539                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03540"></a>03540 
<a name="l03541"></a>03541                         free(es[0]);
<a name="l03542"></a>03542                         es[0]=NULL;
<a name="l03543"></a>03543                         }
<a name="l03544"></a>03544 
<a name="l03545"></a>03545                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03546"></a>03546                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l03547"></a>03547                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l03548"></a>03548                         );
<a name="l03549"></a>03549                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03550"></a>03550                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03551"></a>03551 
<a name="l03552"></a>03552                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l03553"></a>03553 
<a name="l03554"></a>03554                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l03555"></a>03555                 }
<a name="l03556"></a>03556 
<a name="l03557"></a>03557 
<a name="l03558"></a>03558         <span class="comment">/* free buffers */</span>
<a name="l03559"></a>03559         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l03560"></a>03560                 free(es[x]);
<a name="l03561"></a>03561                 es[x]=NULL;
<a name="l03562"></a>03562                 }
<a name="l03563"></a>03563 
<a name="l03564"></a>03564         <span class="comment">/****** dump host config ******/</span>
<a name="l03565"></a>03565         <span class="keywordflow">for</span>(temp_host=host_list;temp_host!=NULL;temp_host=temp_host-&gt;<a class="code" href="structhost__struct.html#a1978313b0f984953066cdb6c1c4ee31c">next</a>){
<a name="l03566"></a>03566 
<a name="l03567"></a>03567                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a29629acc48c023596d81b061b5f135f7">name</a>);
<a name="l03568"></a>03568                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#aeb82855830750aa95d8e8d1e3e456f57">alias</a>);
<a name="l03569"></a>03569                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a71ad90384a36e8d0c8e62c0f14cd8d27">address</a>);
<a name="l03570"></a>03570                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#add4274af8704b502b95ce8ad2ec0ddff">host_check_command</a>);
<a name="l03571"></a>03571                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a63e950417db76dfa600b51a8e6313ce4">event_handler</a>);
<a name="l03572"></a>03572                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a5cb865723b658579c698aed834aed6c8">notification_period</a>);
<a name="l03573"></a>03573                 es[6]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a15e2446e309cf1c2ce857a5da36beca6">check_period</a>);
<a name="l03574"></a>03574                 es[7]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a1d2955f7964884655f5162dcc72ca94f">failure_prediction_options</a>);
<a name="l03575"></a>03575 
<a name="l03576"></a>03576                 es[7]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#abf98dc803ac065b456c4def351f6ac06">notes</a>);
<a name="l03577"></a>03577                 es[8]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a39aac7a03c719a44bcc046efbf96e6c8">notes_url</a>);
<a name="l03578"></a>03578                 es[9]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a479663cd23a5e44f09b3a21bc0df6690">action_url</a>);
<a name="l03579"></a>03579                 es[10]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a6a9dbaaf08ab017647f6a36aeb00c40b">icon_image</a>);
<a name="l03580"></a>03580                 es[11]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a4e99723aede413601e5db575bef45649">icon_image_alt</a>);
<a name="l03581"></a>03581                 es[12]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#ae768024b50cef42b0144163ed09657fc">vrml_image</a>);
<a name="l03582"></a>03582                 es[13]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a044e0b9bf603e2a771da6a826c305fbe">statusmap_image</a>);
<a name="l03583"></a>03583                 have_2d_coords=temp_host-&gt;<a class="code" href="structhost__struct.html#a763323279bdbc01d68d6c3473340da2d">have_2d_coords</a>;
<a name="l03584"></a>03584                 x_2d=temp_host-&gt;<a class="code" href="structhost__struct.html#af1c907cb8c89f0dfe46991dad05b37ec">x_2d</a>;
<a name="l03585"></a>03585                 y_2d=temp_host-&gt;<a class="code" href="structhost__struct.html#a5849299c7f371c531f1bf626343caded">y_2d</a>;
<a name="l03586"></a>03586                 have_3d_coords=temp_host-&gt;<a class="code" href="structhost__struct.html#a451457413bd6371f6d225458739a3a51">have_3d_coords</a>;
<a name="l03587"></a>03587                 x_3d=temp_host-&gt;<a class="code" href="structhost__struct.html#a68b7f357157fdf99230518ac20a3e425">x_3d</a>;
<a name="l03588"></a>03588                 y_3d=temp_host-&gt;<a class="code" href="structhost__struct.html#a7a14061351c94609a45f44599e4320e9">y_3d</a>;
<a name="l03589"></a>03589                 z_3d=temp_host-&gt;<a class="code" href="structhost__struct.html#a91735247828695ab69954d976562b5d0">z_3d</a>;
<a name="l03590"></a>03590 
<a name="l03591"></a>03591                 first_notification_delay=temp_host-&gt;<a class="code" href="structhost__struct.html#a8ef9dca7d06e5971245185e2ce74885b">first_notification_delay</a>;
<a name="l03592"></a>03592                 retry_interval=temp_host-&gt;<a class="code" href="structhost__struct.html#a444411c02f976b4141d2cc28e55b5eda">retry_interval</a>;
<a name="l03593"></a>03593                 notify_on_host_downtime=temp_host-&gt;<a class="code" href="structhost__struct.html#ac401db846900a3e950f8e8b7be4c1774">notify_on_downtime</a>;
<a name="l03594"></a>03594                 flap_detection_on_up=temp_host-&gt;<a class="code" href="structhost__struct.html#adbd7f9044eae76ad65001981849df488">flap_detection_on_up</a>;
<a name="l03595"></a>03595                 flap_detection_on_down=temp_host-&gt;<a class="code" href="structhost__struct.html#ac6aa0895e40e1c5a69dd3e8c3a79f068">flap_detection_on_down</a>;
<a name="l03596"></a>03596                 flap_detection_on_unreachable=temp_host-&gt;<a class="code" href="structhost__struct.html#ac737db5da9709c037ba68b3510435381">flap_detection_on_unreachable</a>;
<a name="l03597"></a>03597                 es[14]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a8612740765f85eec8faa286c56328563">display_name</a>);
<a name="l03598"></a>03598                 es[15]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_host-&gt;<a class="code" href="structhost__struct.html#a0d611aef30bcc0b5cda7a995c5e0668a">address6</a>);
<a name="l03599"></a>03599 
<a name="l03600"></a>03600                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03601"></a>03601                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%lf\n%d=%lf\n%d=%d\n%d=%lf\n%d=%lf\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%lf\n%d=%lf\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%lf\n%d=%lf\n%d=%lf\n&quot;</span>
<a name="l03602"></a>03602                          ,<a class="code" href="protoapi_8h.html#a7185e8d58ca68fa2623ea28dcea5f295">IDO_API_HOSTDEFINITION</a>
<a name="l03603"></a>03603                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l03604"></a>03604                          ,now.tv_sec
<a name="l03605"></a>03605                          ,now.tv_usec
<a name="l03606"></a>03606                          ,<a class="code" href="protoapi_8h.html#a32c7170240c599870c27a68cbf9f6905">IDO_DATA_HOSTNAME</a>
<a name="l03607"></a>03607                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03608"></a>03608                          ,<a class="code" href="protoapi_8h.html#a139c55155142d13bc5b9fe052441ded4">IDO_DATA_DISPLAYNAME</a>
<a name="l03609"></a>03609                          ,(es[14]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[14]
<a name="l03610"></a>03610                          ,<a class="code" href="protoapi_8h.html#a6c3375377b434bdf798fa8faa5976176">IDO_DATA_HOSTALIAS</a>
<a name="l03611"></a>03611                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l03612"></a>03612                          ,<a class="code" href="protoapi_8h.html#a7db32a6dd916a25282e85959d10e8c3c">IDO_DATA_HOSTADDRESS</a>
<a name="l03613"></a>03613                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l03614"></a>03614                          ,<a class="code" href="protoapi_8h.html#af4455d12644a801619e6c563412f769b">IDO_DATA_HOSTADDRESS6</a>
<a name="l03615"></a>03615                          ,(es[15]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[15]
<a name="l03616"></a>03616                          ,<a class="code" href="protoapi_8h.html#a44b0ddf963160ea7707b3e6f0696e926">IDO_DATA_HOSTCHECKCOMMAND</a>
<a name="l03617"></a>03617                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l03618"></a>03618                          ,<a class="code" href="protoapi_8h.html#ade530a50304eaa76b16f6079b0e55027">IDO_DATA_HOSTEVENTHANDLER</a>
<a name="l03619"></a>03619                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l03620"></a>03620                          ,<a class="code" href="protoapi_8h.html#a345b83ae8b53cb4f6125542d5af78b0b">IDO_DATA_HOSTNOTIFICATIONPERIOD</a>
<a name="l03621"></a>03621                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l03622"></a>03622                          ,<a class="code" href="protoapi_8h.html#aec31295096f9bf4492afe73b6e2526c3">IDO_DATA_HOSTCHECKPERIOD</a>
<a name="l03623"></a>03623                          ,(es[6]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[6]
<a name="l03624"></a>03624                          ,<a class="code" href="protoapi_8h.html#af2977841e6ec42b58d390085ea33ad85">IDO_DATA_HOSTFAILUREPREDICTIONOPTIONS</a>
<a name="l03625"></a>03625                          ,(es[7]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[7]
<a name="l03626"></a>03626                          ,<a class="code" href="protoapi_8h.html#a47cc846908fec1a7179d084ee6c75488">IDO_DATA_HOSTCHECKINTERVAL</a>
<a name="l03627"></a>03627                          ,(<span class="keywordtype">double</span>)temp_host-&gt;<a class="code" href="structhost__struct.html#a75fa71ddb31a4fbfd6ce60ebd69d6064">check_interval</a>
<a name="l03628"></a>03628                          ,<a class="code" href="protoapi_8h.html#a1c58278a0e2dc07556ce6036113708e8">IDO_DATA_HOSTRETRYINTERVAL</a>
<a name="l03629"></a>03629                          ,(<span class="keywordtype">double</span>)retry_interval
<a name="l03630"></a>03630                          ,<a class="code" href="protoapi_8h.html#a24354291bb7495dec6360ce659ab6721">IDO_DATA_HOSTMAXCHECKATTEMPTS</a>
<a name="l03631"></a>03631                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a091388e27be66d35e87ed643567079c5">max_attempts</a>
<a name="l03632"></a>03632                          ,<a class="code" href="protoapi_8h.html#a3ce855e8f97df8cbc1c825f3744459e6">IDO_DATA_FIRSTNOTIFICATIONDELAY</a>
<a name="l03633"></a>03633                          ,first_notification_delay
<a name="l03634"></a>03634                          ,<a class="code" href="protoapi_8h.html#aa5b62587c554a6c9d912681105e3b82a">IDO_DATA_HOSTNOTIFICATIONINTERVAL</a>
<a name="l03635"></a>03635                          ,(<span class="keywordtype">double</span>)temp_host-&gt;<a class="code" href="structhost__struct.html#aa8ffea3ed634c02d9f529ad3b336c7b3">notification_interval</a>
<a name="l03636"></a>03636                          ,<a class="code" href="protoapi_8h.html#af99a54526e7c2cf817a9375d3a48efca">IDO_DATA_NOTIFYHOSTDOWN</a>
<a name="l03637"></a>03637                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#aaa24f1361f805104f413f783db614111">notify_on_down</a>
<a name="l03638"></a>03638                          ,<a class="code" href="protoapi_8h.html#adce30b90593b794ddb4a8a5618849fd8">IDO_DATA_NOTIFYHOSTUNREACHABLE</a>
<a name="l03639"></a>03639                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a652f67bceb2922b41eae2750d91cdd1c">notify_on_unreachable</a>
<a name="l03640"></a>03640                          ,<a class="code" href="protoapi_8h.html#aeadc5df7d6755d5b65cbebb59626f673">IDO_DATA_NOTIFYHOSTRECOVERY</a>
<a name="l03641"></a>03641                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a92b6690f78051811321c0073dbdb7123">notify_on_recovery</a>
<a name="l03642"></a>03642                          ,<a class="code" href="protoapi_8h.html#a1703fd8fc769f50b42710044cfe862f0">IDO_DATA_NOTIFYHOSTFLAPPING</a>
<a name="l03643"></a>03643                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a21fd54b59a0ff228b7b7bea10159e7bd">notify_on_flapping</a>
<a name="l03644"></a>03644                          ,<a class="code" href="protoapi_8h.html#acede1888c52a6a595d0e1f113eed92ff">IDO_DATA_NOTIFYHOSTDOWNTIME</a>
<a name="l03645"></a>03645                          ,notify_on_host_downtime
<a name="l03646"></a>03646                          ,<a class="code" href="protoapi_8h.html#a0b93813982a0357dc289dce4d4154520">IDO_DATA_HOSTFLAPDETECTIONENABLED</a>
<a name="l03647"></a>03647                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#ac6f1ee2ca19560db120c4718291deef8">flap_detection_enabled</a>
<a name="l03648"></a>03648                          ,<a class="code" href="protoapi_8h.html#ade46dfe22fe7b989f8b8e1bf2e78e8af">IDO_DATA_FLAPDETECTIONONUP</a>
<a name="l03649"></a>03649                          ,flap_detection_on_up
<a name="l03650"></a>03650                          ,<a class="code" href="protoapi_8h.html#a1edd57889424ad94b28a244bca4081a2">IDO_DATA_FLAPDETECTIONOIDOWN</a>
<a name="l03651"></a>03651                          ,flap_detection_on_down
<a name="l03652"></a>03652                          ,<a class="code" href="protoapi_8h.html#acfdf5802ab405fd541e9e1636398d796">IDO_DATA_FLAPDETECTIONONUNREACHABLE</a>
<a name="l03653"></a>03653                          ,flap_detection_on_unreachable
<a name="l03654"></a>03654                          ,<a class="code" href="protoapi_8h.html#a83520c832435c2981f03c59dba817a45">IDO_DATA_LOWHOSTFLAPTHRESHOLD</a>
<a name="l03655"></a>03655                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a7b78a458633bd85a5a17a7556a214588">low_flap_threshold</a>
<a name="l03656"></a>03656                          ,<a class="code" href="protoapi_8h.html#aacb902e67542bc9331cb4aaa43ac847c">IDO_DATA_HIGHHOSTFLAPTHRESHOLD</a>
<a name="l03657"></a>03657                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a652b5c20f48538da4ff9a8371bd5e85b">high_flap_threshold</a>
<a name="l03658"></a>03658                          ,<a class="code" href="protoapi_8h.html#a60d1449b579697e56fa40dccdf27c5e5">IDO_DATA_STALKHOSTONUP</a>
<a name="l03659"></a>03659                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a45cf66258d41c63fc1a5fa8474a0edd6">stalk_on_up</a>
<a name="l03660"></a>03660                          ,<a class="code" href="protoapi_8h.html#ac05950b557f704b5b29f47f3bb07282f">IDO_DATA_STALKHOSTOIDOWN</a>
<a name="l03661"></a>03661                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a6385929b59a76d7248e7462f61febb6a">stalk_on_down</a>
<a name="l03662"></a>03662                          ,<a class="code" href="protoapi_8h.html#a36f293854b86b7c641c9f385d38127a8">IDO_DATA_STALKHOSTONUNREACHABLE</a>
<a name="l03663"></a>03663                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#aff6e4f42df1c1f50a886687d90a40580">stalk_on_unreachable</a>
<a name="l03664"></a>03664                          ,<a class="code" href="protoapi_8h.html#a61d31e3ae6c4cfecb5e96e3951daf998">IDO_DATA_HOSTFRESHNESSCHECKSENABLED</a>
<a name="l03665"></a>03665                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a0bbe71ab7ff3b11eee89d66cb9ab3d1b">check_freshness</a>
<a name="l03666"></a>03666                          ,<a class="code" href="protoapi_8h.html#aa860fa479b817bb43e9e9678701615ec">IDO_DATA_HOSTFRESHNESSTHRESHOLD</a>
<a name="l03667"></a>03667                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a04b2f9f531dd1503e2c53b1b3d9fe2c4">freshness_threshold</a>
<a name="l03668"></a>03668                          ,<a class="code" href="protoapi_8h.html#adce8f03a24d35afb1ad1f1e534cfcf12">IDO_DATA_PROCESSHOSTPERFORMANCEDATA</a>
<a name="l03669"></a>03669                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#ac7dd01fe12cf192c8fb3efb4ba940264">process_performance_data</a>
<a name="l03670"></a>03670                          ,<a class="code" href="protoapi_8h.html#afce11cd512e2f4ae89c8e1b15fe6b6bc">IDO_DATA_ACTIVEHOSTCHECKSENABLED</a>
<a name="l03671"></a>03671                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a3ef980834ed0a10fd7fe1f02a7daba9b">checks_enabled</a>
<a name="l03672"></a>03672                          ,<a class="code" href="protoapi_8h.html#a04086f156edabfe705d973bf7020ed21">IDO_DATA_PASSIVEHOSTCHECKSENABLED</a>
<a name="l03673"></a>03673                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a02adcb873992725eadf6e3b7946ec475">accept_passive_host_checks</a>
<a name="l03674"></a>03674                          ,<a class="code" href="protoapi_8h.html#a5bf45653da991629674339bbc5f55739">IDO_DATA_HOSTEVENTHANDLERENABLED</a>
<a name="l03675"></a>03675                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a4d2c9c5e139772d5267844effac1a23c">event_handler_enabled</a>
<a name="l03676"></a>03676                          ,<a class="code" href="protoapi_8h.html#a611ff7c35637183faeae49797ab2c04c">IDO_DATA_RETAINHOSTSTATUSINFORMATION</a>
<a name="l03677"></a>03677                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a81e1d09907fcd6b11afae2d117d1bbbb">retain_status_information</a>
<a name="l03678"></a>03678                          ,<a class="code" href="protoapi_8h.html#a9d6938a30691bacf1b8a6e972fc748b7">IDO_DATA_RETAINHOSTNONSTATUSINFORMATION</a>
<a name="l03679"></a>03679                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#af8ba48f9b88f29bfe1acd98062157aae">retain_nonstatus_information</a>
<a name="l03680"></a>03680                          ,<a class="code" href="protoapi_8h.html#a900bcfe4ece3d19e4910c4bbb6603638">IDO_DATA_HOSTNOTIFICATIONSENABLED</a>
<a name="l03681"></a>03681                          ,temp_host-&gt;notifications_enabled
<a name="l03682"></a>03682                          ,<a class="code" href="protoapi_8h.html#a10393e8c9b9c7d19078bb85af0fe6e74">IDO_DATA_HOSTFAILUREPREDICTIONENABLED</a>
<a name="l03683"></a>03683                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#ad9df2fd2792c1ea2a68f1511248ed48f">failure_prediction_enabled</a>
<a name="l03684"></a>03684                          ,<a class="code" href="protoapi_8h.html#a09b6f86e59e7ec16512e78806f393a77">IDO_DATA_OBSESSOVERHOST</a>
<a name="l03685"></a>03685                          ,temp_host-&gt;<a class="code" href="structhost__struct.html#a50d3f44ea03e7e203b35b5b1ec1ce059">obsess_over_host</a>
<a name="l03686"></a>03686                          ,<a class="code" href="protoapi_8h.html#abe570b69e2c1ae1c3d5ec91ac64e2f8a">IDO_DATA_NOTES</a>
<a name="l03687"></a>03687                          ,(es[7]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[7]
<a name="l03688"></a>03688                          ,<a class="code" href="protoapi_8h.html#a9167bd25bc9f76510c8a22bbdfc4e870">IDO_DATA_NOTESURL</a>
<a name="l03689"></a>03689                          ,(es[8]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[8]
<a name="l03690"></a>03690                          ,<a class="code" href="protoapi_8h.html#a47f3097fb0374a8189cd824f269d294f">IDO_DATA_ACTIONURL</a>
<a name="l03691"></a>03691                          ,(es[9]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[9]
<a name="l03692"></a>03692                          ,<a class="code" href="protoapi_8h.html#a9cf705618ebc48d5942544445868d032">IDO_DATA_ICONIMAGE</a>
<a name="l03693"></a>03693                          ,(es[10]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[10]
<a name="l03694"></a>03694                          ,<a class="code" href="protoapi_8h.html#a9748567b4990501cab0f89b396da10ed">IDO_DATA_ICONIMAGEALT</a>
<a name="l03695"></a>03695                          ,(es[11]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[11]
<a name="l03696"></a>03696                          ,<a class="code" href="protoapi_8h.html#a24177831aefcb2141cc554cd5d5841ba">IDO_DATA_VRMLIMAGE</a>
<a name="l03697"></a>03697                          ,(es[12]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[12]
<a name="l03698"></a>03698                          ,<a class="code" href="protoapi_8h.html#a089a982ef256d0769f951d08cd90305f">IDO_DATA_STATUSMAPIMAGE</a>
<a name="l03699"></a>03699                          ,(es[13]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[13]
<a name="l03700"></a>03700                          ,<a class="code" href="protoapi_8h.html#a3d4b9cc0617f6fd397ddbd6f77319a3c">IDO_DATA_HAVE2DCOORDS</a>
<a name="l03701"></a>03701                          ,have_2d_coords
<a name="l03702"></a>03702                          ,<a class="code" href="protoapi_8h.html#a36ac4b7c5eefc09196f3179def2b93a6">IDO_DATA_X2D</a>
<a name="l03703"></a>03703                          ,x_2d
<a name="l03704"></a>03704                          ,<a class="code" href="protoapi_8h.html#ab1eb37866577fcd7f08a610d7927a162">IDO_DATA_Y2D</a>
<a name="l03705"></a>03705                          ,y_2d
<a name="l03706"></a>03706                          ,<a class="code" href="protoapi_8h.html#a5e2933e7ca3e3160162ff058809a8156">IDO_DATA_HAVE3DCOORDS</a>
<a name="l03707"></a>03707                          ,have_3d_coords
<a name="l03708"></a>03708                          ,<a class="code" href="protoapi_8h.html#a2d542a999adb81493efd6e45a33279c5">IDO_DATA_X3D</a>
<a name="l03709"></a>03709                          ,x_3d
<a name="l03710"></a>03710                          ,<a class="code" href="protoapi_8h.html#a214229defd5d7c9433774970d5aa8278">IDO_DATA_Y3D</a>
<a name="l03711"></a>03711                          ,y_3d
<a name="l03712"></a>03712                          ,<a class="code" href="protoapi_8h.html#aa21637313cfda3e80598705acb299d06">IDO_DATA_Z3D</a>
<a name="l03713"></a>03713                          ,z_3d
<a name="l03714"></a>03714                         );
<a name="l03715"></a>03715                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03716"></a>03716                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03717"></a>03717 
<a name="l03718"></a>03718                 free(es[0]);
<a name="l03719"></a>03719                 es[0]=NULL;
<a name="l03720"></a>03720 
<a name="l03721"></a>03721                 <span class="comment">/* dump parent hosts */</span>
<a name="l03722"></a>03722                 <span class="keywordflow">for</span>(temp_hostsmember=temp_host-&gt;<a class="code" href="structhost__struct.html#aa095184cd77886611768b09f7e4f6822">parent_hosts</a>;temp_hostsmember!=NULL;temp_hostsmember=temp_hostsmember-&gt;<a class="code" href="structhostsmember__struct.html#afdbb9b1473010e32f413d5d8aa57f265">next</a>){
<a name="l03723"></a>03723 
<a name="l03724"></a>03724                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_hostsmember-&gt;<a class="code" href="structhostsmember__struct.html#a7c8af03b1022124a2462f529ccfa9ddf">host_name</a>);
<a name="l03725"></a>03725 
<a name="l03726"></a>03726                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03727"></a>03727                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l03728"></a>03728                                  ,<a class="code" href="protoapi_8h.html#a37ebf5eefdf1d71f77cc45c24434481d">IDO_DATA_PARENTHOST</a>
<a name="l03729"></a>03729                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03730"></a>03730                                 );
<a name="l03731"></a>03731                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03732"></a>03732                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03733"></a>03733 
<a name="l03734"></a>03734                         free(es[0]);
<a name="l03735"></a>03735                         es[0]=NULL;
<a name="l03736"></a>03736                         }
<a name="l03737"></a>03737 
<a name="l03738"></a>03738                 <span class="comment">/* dump contactgroups */</span>
<a name="l03739"></a>03739                 <span class="keywordflow">for</span>(temp_contactgroupsmember=temp_host-&gt;<a class="code" href="structhost__struct.html#a64c8a9f9d93e943b1acc5497a24563d3">contact_groups</a>;temp_contactgroupsmember!=NULL;temp_contactgroupsmember=temp_contactgroupsmember-&gt;<a class="code" href="structcontactgroupsmember__struct.html#a6ae1b5c59026e561bf533cf0bbcbfc87">next</a>){
<a name="l03740"></a>03740 
<a name="l03741"></a>03741                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactgroupsmember-&gt;<a class="code" href="structcontactgroupsmember__struct.html#aa4d1ed3750f63c1800542d75aef53875">group_name</a>);
<a name="l03742"></a>03742 
<a name="l03743"></a>03743                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03744"></a>03744                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l03745"></a>03745                                  ,<a class="code" href="protoapi_8h.html#a6a08def40893965a6bf9ff532721119b">IDO_DATA_CONTACTGROUP</a>
<a name="l03746"></a>03746                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03747"></a>03747                                 );
<a name="l03748"></a>03748                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03749"></a>03749                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03750"></a>03750 
<a name="l03751"></a>03751                         free(es[0]);
<a name="l03752"></a>03752                         es[0]=NULL;
<a name="l03753"></a>03753                         }
<a name="l03754"></a>03754 
<a name="l03755"></a>03755                 <span class="comment">/* dump individual contacts */</span>
<a name="l03756"></a>03756                 <span class="keywordflow">for</span>(temp_contactsmember=temp_host-&gt;<a class="code" href="structhost__struct.html#a8b1e0461140a02fe265cab0a5f8819e5">contacts</a>;temp_contactsmember!=NULL;temp_contactsmember=temp_contactsmember-&gt;<a class="code" href="structcontactsmember__struct.html#ac250057428fd4e4c87f15f0e2bfb4eb0">next</a>){
<a name="l03757"></a>03757 
<a name="l03758"></a>03758                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactsmember-&gt;<a class="code" href="structcontactsmember__struct.html#a8b5a562cc5e45c9d5a14439995c367df">contact_name</a>);
<a name="l03759"></a>03759 
<a name="l03760"></a>03760                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03761"></a>03761                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l03762"></a>03762                                  ,<a class="code" href="protoapi_8h.html#afb0d9641d9aa3e123193694f89a72208">IDO_DATA_CONTACT</a>
<a name="l03763"></a>03763                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03764"></a>03764                                 );
<a name="l03765"></a>03765                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03766"></a>03766                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03767"></a>03767 
<a name="l03768"></a>03768                         free(es[0]);
<a name="l03769"></a>03769                         es[0]=NULL;
<a name="l03770"></a>03770                         }
<a name="l03771"></a>03771 
<a name="l03772"></a>03772 
<a name="l03773"></a>03773                 <span class="comment">/* dump customvars */</span>
<a name="l03774"></a>03774                 <span class="keywordflow">for</span>(temp_customvar=temp_host-&gt;<a class="code" href="structhost__struct.html#ae38dc4a72824b50d8392e0e43e104194">custom_variables</a>;temp_customvar!=NULL;temp_customvar=temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a5f9b309ecb8874745787ced9391d5e48">next</a>){
<a name="l03775"></a>03775 
<a name="l03776"></a>03776                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a8cd266b198f92f8986bd4214c0abdc10">variable_name</a>);
<a name="l03777"></a>03777                         es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#aea9685f8017affa5fee895a7eba63bd0">variable_value</a>);
<a name="l03778"></a>03778 
<a name="l03779"></a>03779                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03780"></a>03780                                  ,<span class="stringliteral">&quot;%d=%s:%d:%s\n&quot;</span>
<a name="l03781"></a>03781                                  ,<a class="code" href="protoapi_8h.html#a9ae5462d1599a5f76a71c3c19ac5c280">IDO_DATA_CUSTOMVARIABLE</a>
<a name="l03782"></a>03782                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03783"></a>03783                                  ,temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a10766c154fe378d43f395e0f535fa062">has_been_modified</a>
<a name="l03784"></a>03784                                  ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l03785"></a>03785                                 );
<a name="l03786"></a>03786                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03787"></a>03787                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03788"></a>03788 
<a name="l03789"></a>03789                         <span class="keywordflow">for</span>(x=0;x&lt;2;x++){
<a name="l03790"></a>03790                                 free(es[x]);
<a name="l03791"></a>03791                                 es[x]=NULL;
<a name="l03792"></a>03792                                 }
<a name="l03793"></a>03793                         }
<a name="l03794"></a>03794 
<a name="l03795"></a>03795                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03796"></a>03796                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l03797"></a>03797                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l03798"></a>03798                         );
<a name="l03799"></a>03799                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03800"></a>03800                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03801"></a>03801 
<a name="l03802"></a>03802                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l03803"></a>03803 
<a name="l03804"></a>03804                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l03805"></a>03805                 }
<a name="l03806"></a>03806 
<a name="l03807"></a>03807 
<a name="l03808"></a>03808         <span class="comment">/* free buffers */</span>
<a name="l03809"></a>03809         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l03810"></a>03810                 free(es[x]);
<a name="l03811"></a>03811                 es[x]=NULL;
<a name="l03812"></a>03812                 }
<a name="l03813"></a>03813 
<a name="l03814"></a>03814         <span class="comment">/****** dump hostgroup config ******/</span>
<a name="l03815"></a>03815         <span class="keywordflow">for</span>(temp_hostgroup=hostgroup_list;temp_hostgroup!=NULL;temp_hostgroup=temp_hostgroup-&gt;<a class="code" href="structhostgroup__struct.html#a61b2b9e3349c1ab39cd2c6ee5f026f68">next</a>){
<a name="l03816"></a>03816 
<a name="l03817"></a>03817                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_hostgroup-&gt;<a class="code" href="structhostgroup__struct.html#a34a971c193e2e66ee075094380028169">group_name</a>);
<a name="l03818"></a>03818                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_hostgroup-&gt;<a class="code" href="structhostgroup__struct.html#a085d7af0da0be0282e94384dc113c594">alias</a>);
<a name="l03819"></a>03819 
<a name="l03820"></a>03820                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03821"></a>03821                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n&quot;</span>
<a name="l03822"></a>03822                          ,<a class="code" href="protoapi_8h.html#a3578a2b6b4922e539f16b611fc6bef07">IDO_API_HOSTGROUPDEFINITION</a>
<a name="l03823"></a>03823                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l03824"></a>03824                          ,now.tv_sec
<a name="l03825"></a>03825                          ,now.tv_usec
<a name="l03826"></a>03826                          ,<a class="code" href="protoapi_8h.html#aa13ca861c4c42dcee6880f3ac6188305">IDO_DATA_HOSTGROUPNAME</a>
<a name="l03827"></a>03827                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03828"></a>03828                          ,<a class="code" href="protoapi_8h.html#a65351f88715817db5399c29c9414c5ae">IDO_DATA_HOSTGROUPALIAS</a>
<a name="l03829"></a>03829                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l03830"></a>03830                         );
<a name="l03831"></a>03831                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03832"></a>03832                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03833"></a>03833 
<a name="l03834"></a>03834                 free(es[0]);
<a name="l03835"></a>03835                 es[0]=NULL;
<a name="l03836"></a>03836 
<a name="l03837"></a>03837                 <span class="comment">/* dump members for each hostgroup */</span>
<a name="l03838"></a>03838                 <span class="keywordflow">for</span>(temp_hostsmember=temp_hostgroup-&gt;<a class="code" href="structhostgroup__struct.html#aa90d02aef89a5a484de2184d3b78f4e1">members</a>;temp_hostsmember!=NULL;temp_hostsmember=temp_hostsmember-&gt;<a class="code" href="structhostsmember__struct.html#afdbb9b1473010e32f413d5d8aa57f265">next</a>)
<a name="l03839"></a>03839                         {
<a name="l03840"></a>03840 
<a name="l03841"></a>03841                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_hostsmember-&gt;<a class="code" href="structhostsmember__struct.html#a7c8af03b1022124a2462f529ccfa9ddf">host_name</a>);
<a name="l03842"></a>03842 
<a name="l03843"></a>03843                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03844"></a>03844                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l03845"></a>03845                                  ,<a class="code" href="protoapi_8h.html#ae9293d7eb3b513027598619f792804ed">IDO_DATA_HOSTGROUPMEMBER</a>
<a name="l03846"></a>03846                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03847"></a>03847                                 );
<a name="l03848"></a>03848                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03849"></a>03849                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03850"></a>03850 
<a name="l03851"></a>03851                         free(es[0]);
<a name="l03852"></a>03852                         es[0]=NULL;
<a name="l03853"></a>03853                         }
<a name="l03854"></a>03854 
<a name="l03855"></a>03855                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03856"></a>03856                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l03857"></a>03857                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l03858"></a>03858                         );
<a name="l03859"></a>03859                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l03860"></a>03860                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l03861"></a>03861 
<a name="l03862"></a>03862                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l03863"></a>03863 
<a name="l03864"></a>03864                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l03865"></a>03865                 }
<a name="l03866"></a>03866 
<a name="l03867"></a>03867 
<a name="l03868"></a>03868         <span class="comment">/* free buffers */</span>
<a name="l03869"></a>03869         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l03870"></a>03870                 free(es[x]);
<a name="l03871"></a>03871                 es[x]=NULL;
<a name="l03872"></a>03872                 }
<a name="l03873"></a>03873 
<a name="l03874"></a>03874         <span class="comment">/****** dump service config ******/</span>
<a name="l03875"></a>03875         <span class="keywordflow">for</span>(temp_service=service_list;temp_service!=NULL;temp_service=temp_service-&gt;<a class="code" href="structservice__struct.html#a32394c09b9ce32d454c99f8a90e77e8b">next</a>){
<a name="l03876"></a>03876 
<a name="l03877"></a>03877                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#ac8e06ecb2bddf149916fa2f6e4077836">host_name</a>);
<a name="l03878"></a>03878                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a646fc0478ea62db804e9cd8c84f53ad9">description</a>);
<a name="l03879"></a>03879                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a979cc671dd6fd908e92d232a5e2458ca">service_check_command</a>);
<a name="l03880"></a>03880                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a64f2ac4fcd338fcc0c73b632551484b9">event_handler</a>);
<a name="l03881"></a>03881                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a841d5ef08dfca48ed9b02b4fd0b16570">notification_period</a>);
<a name="l03882"></a>03882                 es[5]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a22043138a240b6738d77ac8a6f320812">check_period</a>);
<a name="l03883"></a>03883                 es[6]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a0f33293776a5387ee57bbfb13070b7e4">failure_prediction_options</a>);
<a name="l03884"></a>03884                 es[7]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a3a8c1d77e03e2a57044dc45b7db2a949">notes</a>);
<a name="l03885"></a>03885                 es[8]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#aab850d5055bc17178a6a06b1079f26f0">notes_url</a>);
<a name="l03886"></a>03886                 es[9]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#aa0a9af59b9b4cecf730260957098a6f3">action_url</a>);
<a name="l03887"></a>03887                 es[10]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#ac34d3268d527f3892bfa16c894c8e837">icon_image</a>);
<a name="l03888"></a>03888                 es[11]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#a11f7d1f41318074c08e065352a5f6588">icon_image_alt</a>);
<a name="l03889"></a>03889 
<a name="l03890"></a>03890                 first_notification_delay=temp_service-&gt;<a class="code" href="structservice__struct.html#a01aad87ede49a1b07631d99eef8ab249">first_notification_delay</a>;
<a name="l03891"></a>03891                 notify_on_service_downtime=temp_service-&gt;<a class="code" href="structservice__struct.html#ade0d0e12e65480a8a0df4f4213bc05e6">notify_on_downtime</a>;
<a name="l03892"></a>03892                 flap_detection_on_ok=temp_service-&gt;<a class="code" href="structservice__struct.html#a056e92a87956f98de2b78b6dc7643d5f">flap_detection_on_ok</a>;
<a name="l03893"></a>03893                 flap_detection_on_warning=temp_service-&gt;<a class="code" href="structservice__struct.html#ab9d7489ef27d9613b2578cb10187111f">flap_detection_on_warning</a>;
<a name="l03894"></a>03894                 flap_detection_on_unknown=temp_service-&gt;<a class="code" href="structservice__struct.html#a1550a0607dc4cc1e12b4c3ceb688ae2d">flap_detection_on_unknown</a>;
<a name="l03895"></a>03895                 flap_detection_on_critical=temp_service-&gt;<a class="code" href="structservice__struct.html#aabf9a10260d678128930063eefd38ebe">flap_detection_on_critical</a>;
<a name="l03896"></a>03896                 es[12]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_service-&gt;<a class="code" href="structservice__struct.html#ad4a728814be00be6760cdbc9bc5d5143">display_name</a>);
<a name="l03897"></a>03897 
<a name="l03898"></a>03898                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l03899"></a>03899                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%lf\n%d=%lf\n%d=%d\n%d=%lf\n%d=%lf\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%lf\n%d=%lf\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n&quot;</span>
<a name="l03900"></a>03900                          ,<a class="code" href="protoapi_8h.html#a3b1766fa10604a2e625dbafe6b6b83d5">IDO_API_SERVICEDEFINITION</a>
<a name="l03901"></a>03901                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l03902"></a>03902                          ,now.tv_sec
<a name="l03903"></a>03903                          ,now.tv_usec
<a name="l03904"></a>03904                          ,<a class="code" href="protoapi_8h.html#a32c7170240c599870c27a68cbf9f6905">IDO_DATA_HOSTNAME</a>
<a name="l03905"></a>03905                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l03906"></a>03906                          ,<a class="code" href="protoapi_8h.html#a139c55155142d13bc5b9fe052441ded4">IDO_DATA_DISPLAYNAME</a>
<a name="l03907"></a>03907                          ,(es[12]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[12]
<a name="l03908"></a>03908                          ,<a class="code" href="protoapi_8h.html#acc3d90e6fffd03d9fdcb041861fd0547">IDO_DATA_SERVICEDESCRIPTION</a>
<a name="l03909"></a>03909                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l03910"></a>03910                          ,<a class="code" href="protoapi_8h.html#abc63d8788278933d8a3d90833abf2e1e">IDO_DATA_SERVICECHECKCOMMAND</a>
<a name="l03911"></a>03911                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l03912"></a>03912                          ,<a class="code" href="protoapi_8h.html#a8b9b5d1cddc93a1551927fb5ddc2741e">IDO_DATA_SERVICEEVENTHANDLER</a>
<a name="l03913"></a>03913                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l03914"></a>03914                          ,<a class="code" href="protoapi_8h.html#ad70f6eb08d149a68c59445dbcd78888d">IDO_DATA_SERVICENOTIFICATIONPERIOD</a>
<a name="l03915"></a>03915                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l03916"></a>03916                          ,<a class="code" href="protoapi_8h.html#af5fb3e7eb1ff17577a87f65c3015ada9">IDO_DATA_SERVICECHECKPERIOD</a>
<a name="l03917"></a>03917                          ,(es[5]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[5]
<a name="l03918"></a>03918                          ,<a class="code" href="protoapi_8h.html#a52a40ecd98f2c478eba7f6ce63098227">IDO_DATA_SERVICEFAILUREPREDICTIONOPTIONS</a>
<a name="l03919"></a>03919                          ,(es[6]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[6]
<a name="l03920"></a>03920                          ,<a class="code" href="protoapi_8h.html#a1434944954aefa4122363dffb9cb880b">IDO_DATA_SERVICECHECKINTERVAL</a>
<a name="l03921"></a>03921                          ,(<span class="keywordtype">double</span>)temp_service-&gt;<a class="code" href="structservice__struct.html#a54179e5f4bb721f91c11e943a1f9f32c">check_interval</a>
<a name="l03922"></a>03922                          ,<a class="code" href="protoapi_8h.html#a8e369931d5f97330eb9a96b82ddcffaf">IDO_DATA_SERVICERETRYINTERVAL</a>
<a name="l03923"></a>03923                          ,(<span class="keywordtype">double</span>)temp_service-&gt;<a class="code" href="structservice__struct.html#a6d72d0d693531b23f2873e4081463076">retry_interval</a>
<a name="l03924"></a>03924                          ,<a class="code" href="protoapi_8h.html#a4e27f9763c4d4bfc862b9d1233330c64">IDO_DATA_MAXSERVICECHECKATTEMPTS</a>
<a name="l03925"></a>03925                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a4cc582ba5131b3efd4cfbf6389bbe938">max_attempts</a>
<a name="l03926"></a>03926                          ,<a class="code" href="protoapi_8h.html#a3ce855e8f97df8cbc1c825f3744459e6">IDO_DATA_FIRSTNOTIFICATIONDELAY</a>
<a name="l03927"></a>03927                          ,first_notification_delay
<a name="l03928"></a>03928                          ,<a class="code" href="protoapi_8h.html#aa1b2581f0d35364b89455e0b440efc2d">IDO_DATA_SERVICENOTIFICATIONINTERVAL</a>
<a name="l03929"></a>03929                          ,(<span class="keywordtype">double</span>)temp_service-&gt;<a class="code" href="structservice__struct.html#a376f17a4f6d71fc5bc3a0ff2991cf51a">notification_interval</a>
<a name="l03930"></a>03930                          ,<a class="code" href="protoapi_8h.html#a79b18311e3010c71b2297a43d790e0eb">IDO_DATA_NOTIFYSERVICEUNKNOWN</a>
<a name="l03931"></a>03931                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a37fd928fcf6b7de4546a714b57d95b92">notify_on_unknown</a>
<a name="l03932"></a>03932                          ,<a class="code" href="protoapi_8h.html#aa0091c5ee7417b6c004a4492c3505fb7">IDO_DATA_NOTIFYSERVICEWARNING</a>
<a name="l03933"></a>03933                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#aac3c931dc238b594aca1d083022322b4">notify_on_warning</a>
<a name="l03934"></a>03934                          ,<a class="code" href="protoapi_8h.html#a996c88270560bfa42ec6d4ef6c33c2e4">IDO_DATA_NOTIFYSERVICECRITICAL</a>
<a name="l03935"></a>03935                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a6c7d973b44698e998dd43af4729f259d">notify_on_critical</a>
<a name="l03936"></a>03936                          ,<a class="code" href="protoapi_8h.html#a6118a9ae619d6768affab04059f62d2e">IDO_DATA_NOTIFYSERVICERECOVERY</a>
<a name="l03937"></a>03937                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#ac9da8bec73526fea7b70ab48930338f1">notify_on_recovery</a>
<a name="l03938"></a>03938                          ,<a class="code" href="protoapi_8h.html#af95c3172d238567dfb6a72484bcb9c20">IDO_DATA_NOTIFYSERVICEFLAPPING</a>
<a name="l03939"></a>03939                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#ae3b0456cda7401d059fd24f1d5057b2b">notify_on_flapping</a>
<a name="l03940"></a>03940                          ,<a class="code" href="protoapi_8h.html#a60192b186535d765242a90c198f2e5b7">IDO_DATA_NOTIFYSERVICEDOWNTIME</a>
<a name="l03941"></a>03941                          ,notify_on_service_downtime
<a name="l03942"></a>03942                          ,<a class="code" href="protoapi_8h.html#a3eb9a136f63babf63a27320b8e606b34">IDO_DATA_STALKSERVICEONOK</a>
<a name="l03943"></a>03943                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#ab5a68bd42dac0b3c16e9f6b8271d2f06">stalk_on_ok</a>
<a name="l03944"></a>03944                          ,<a class="code" href="protoapi_8h.html#aeb0b022f1ea44c5d3f23b6826f5a86d4">IDO_DATA_STALKSERVICEONWARNING</a>
<a name="l03945"></a>03945                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a301e35ebb1b47badd65bd8b6a40a3033">stalk_on_warning</a>
<a name="l03946"></a>03946                          ,<a class="code" href="protoapi_8h.html#abab0a42ee4bc0ee25a56f0b27d3e3b8a">IDO_DATA_STALKSERVICEONUNKNOWN</a>
<a name="l03947"></a>03947                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a23c16f15e032a2d4ecab6bbf3ca401f5">stalk_on_unknown</a>
<a name="l03948"></a>03948                          ,<a class="code" href="protoapi_8h.html#a2add9f58715b61d88c3f4828a1dccc2b">IDO_DATA_STALKSERVICEONCRITICAL</a>
<a name="l03949"></a>03949                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a7d2b73584c8f734c3115f6cc9ec14133">stalk_on_critical</a>
<a name="l03950"></a>03950                          ,<a class="code" href="protoapi_8h.html#aca08611264a76a83a5e08757a9fb33f9">IDO_DATA_SERVICEISVOLATILE</a>
<a name="l03951"></a>03951                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a8f139754d3a0b6d21bcd3e78b2d96dc0">is_volatile</a>
<a name="l03952"></a>03952                          ,<a class="code" href="protoapi_8h.html#afb54b5fe0a0a4436b8e6c941877f4665">IDO_DATA_SERVICEFLAPDETECTIONENABLED</a>
<a name="l03953"></a>03953                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#aa4cab020ff297d12795b66f804f1b9cc">flap_detection_enabled</a>
<a name="l03954"></a>03954                          ,<a class="code" href="protoapi_8h.html#a42b59d998236893f8b374a21324603a5">IDO_DATA_FLAPDETECTIONONOK</a>
<a name="l03955"></a>03955                          ,flap_detection_on_ok
<a name="l03956"></a>03956                          ,<a class="code" href="protoapi_8h.html#ab7d3d7afa7d5496cd354bc2c059c0ede">IDO_DATA_FLAPDETECTIONONWARNING</a>
<a name="l03957"></a>03957                          ,flap_detection_on_warning
<a name="l03958"></a>03958                          ,<a class="code" href="protoapi_8h.html#a48b9f2a6e4cee4fa3c62c2323b7456dd">IDO_DATA_FLAPDETECTIONONUNKNOWN</a>
<a name="l03959"></a>03959                          ,flap_detection_on_unknown
<a name="l03960"></a>03960                          ,<a class="code" href="protoapi_8h.html#a6935db9d0fe7bd7c89008cb1c6089263">IDO_DATA_FLAPDETECTIONONCRITICAL</a>
<a name="l03961"></a>03961                          ,flap_detection_on_critical
<a name="l03962"></a>03962                          ,<a class="code" href="protoapi_8h.html#af04e6b055fd28688461bea0e91b2f564">IDO_DATA_LOWSERVICEFLAPTHRESHOLD</a>
<a name="l03963"></a>03963                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#af6a8945e13406ace34d74f1f5ec7c99c">low_flap_threshold</a>
<a name="l03964"></a>03964                          ,<a class="code" href="protoapi_8h.html#a427f57fb8e876b8b4b6132061c4884ed">IDO_DATA_HIGHSERVICEFLAPTHRESHOLD</a>
<a name="l03965"></a>03965                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#adb5e56b3c0fd7bdb5fdd2db03d355c72">high_flap_threshold</a>
<a name="l03966"></a>03966                          ,<a class="code" href="protoapi_8h.html#abf87201a385cec97d56d5bb186275cd0">IDO_DATA_PROCESSSERVICEPERFORMANCEDATA</a>
<a name="l03967"></a>03967                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a661d94599d0697fd9dd2bfdd6edd0015">process_performance_data</a>
<a name="l03968"></a>03968                          ,<a class="code" href="protoapi_8h.html#a612b82a91a66334eb00743b30bfda51d">IDO_DATA_SERVICEFRESHNESSCHECKSENABLED</a>
<a name="l03969"></a>03969                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a8e47137c1533fa36a4f9b3e5daa49ff6">check_freshness</a>
<a name="l03970"></a>03970                          ,<a class="code" href="protoapi_8h.html#adf1e56efea3ca13c125ac5c38b403f7d">IDO_DATA_SERVICEFRESHNESSTHRESHOLD</a>
<a name="l03971"></a>03971                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a03dab54b603b0bdbfc9b740590753e6c">freshness_threshold</a>
<a name="l03972"></a>03972                          ,<a class="code" href="protoapi_8h.html#ac5a4f7d70636d2c71a05f12fd2d8546b">IDO_DATA_PASSIVESERVICECHECKSENABLED</a>
<a name="l03973"></a>03973                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a42f6c98e6316fdca156aec717f4b547c">accept_passive_service_checks</a>
<a name="l03974"></a>03974                          ,<a class="code" href="protoapi_8h.html#ad9665c27a6666caf3d2f66ddc0e67cdd">IDO_DATA_SERVICEEVENTHANDLERENABLED</a>
<a name="l03975"></a>03975                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a911baedf21c6b17dd8ff3ec174fdce07">event_handler_enabled</a>
<a name="l03976"></a>03976                          ,<a class="code" href="protoapi_8h.html#a69f3d0ddefb49b929c332377b5574d0a">IDO_DATA_ACTIVESERVICECHECKSENABLED</a>
<a name="l03977"></a>03977                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#adf593773ee59f1c896e2189934ca68eb">checks_enabled</a>
<a name="l03978"></a>03978                          ,<a class="code" href="protoapi_8h.html#ab2f3853ddeef589f50fb15373e74726d">IDO_DATA_RETAINSERVICESTATUSINFORMATION</a>
<a name="l03979"></a>03979                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a130d05323dd4b8fbd4cf3b9c80d641ed">retain_status_information</a>
<a name="l03980"></a>03980                          ,<a class="code" href="protoapi_8h.html#a62e039f40c9d65639cd3161b804b13db">IDO_DATA_RETAINSERVICENONSTATUSINFORMATION</a>
<a name="l03981"></a>03981                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a5ed4dacdf4a0804cc93ac9a77884bfcc">retain_nonstatus_information</a>
<a name="l03982"></a>03982                          ,<a class="code" href="protoapi_8h.html#acaa3a1dd567c570b116a1728cdd37905">IDO_DATA_SERVICENOTIFICATIONSENABLED</a>
<a name="l03983"></a>03983                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#af8cc24fa1b0cb8255e98aa7e89ffc122">notifications_enabled</a>
<a name="l03984"></a>03984                          ,<a class="code" href="protoapi_8h.html#abcea45758bb2561ce0683cfb2b54b883">IDO_DATA_OBSESSOVERSERVICE</a>
<a name="l03985"></a>03985                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a6c1835d6854d603e2ba7f5bc83e7818c">obsess_over_service</a>
<a name="l03986"></a>03986                          ,<a class="code" href="protoapi_8h.html#af954158ed758f5586f07f6a43cac6f27">IDO_DATA_SERVICEFAILUREPREDICTIONENABLED</a>
<a name="l03987"></a>03987                          ,temp_service-&gt;<a class="code" href="structservice__struct.html#a25b4a6c9dd82dceba0b92c149517562f">failure_prediction_enabled</a>
<a name="l03988"></a>03988                          ,<a class="code" href="protoapi_8h.html#abe570b69e2c1ae1c3d5ec91ac64e2f8a">IDO_DATA_NOTES</a>
<a name="l03989"></a>03989                          ,(es[7]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[7]
<a name="l03990"></a>03990                          ,<a class="code" href="protoapi_8h.html#a9167bd25bc9f76510c8a22bbdfc4e870">IDO_DATA_NOTESURL</a>
<a name="l03991"></a>03991                          ,(es[8]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[8]
<a name="l03992"></a>03992                          ,<a class="code" href="protoapi_8h.html#a47f3097fb0374a8189cd824f269d294f">IDO_DATA_ACTIONURL</a>
<a name="l03993"></a>03993                          ,(es[9]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[9]
<a name="l03994"></a>03994                          ,<a class="code" href="protoapi_8h.html#a9cf705618ebc48d5942544445868d032">IDO_DATA_ICONIMAGE</a>
<a name="l03995"></a>03995                          ,(es[10]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[10]
<a name="l03996"></a>03996                          ,<a class="code" href="protoapi_8h.html#a9748567b4990501cab0f89b396da10ed">IDO_DATA_ICONIMAGEALT</a>
<a name="l03997"></a>03997                          ,(es[11]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[11]
<a name="l03998"></a>03998                         );
<a name="l03999"></a>03999                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04000"></a>04000                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04001"></a>04001 
<a name="l04002"></a>04002                 free(es[0]);
<a name="l04003"></a>04003                 es[0]=NULL;
<a name="l04004"></a>04004 
<a name="l04005"></a>04005                 <span class="comment">/* dump contactgroups */</span>
<a name="l04006"></a>04006                 <span class="keywordflow">for</span>(temp_contactgroupsmember=temp_service-&gt;<a class="code" href="structservice__struct.html#a47fc752628ebc9c8239f78839e22b6e8">contact_groups</a>;temp_contactgroupsmember!=NULL;temp_contactgroupsmember=temp_contactgroupsmember-&gt;<a class="code" href="structcontactgroupsmember__struct.html#a6ae1b5c59026e561bf533cf0bbcbfc87">next</a>){
<a name="l04007"></a>04007 
<a name="l04008"></a>04008                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactgroupsmember-&gt;<a class="code" href="structcontactgroupsmember__struct.html#aa4d1ed3750f63c1800542d75aef53875">group_name</a>);
<a name="l04009"></a>04009 
<a name="l04010"></a>04010                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04011"></a>04011                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l04012"></a>04012                                  ,<a class="code" href="protoapi_8h.html#a6a08def40893965a6bf9ff532721119b">IDO_DATA_CONTACTGROUP</a>
<a name="l04013"></a>04013                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04014"></a>04014                                 );
<a name="l04015"></a>04015                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04016"></a>04016                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04017"></a>04017 
<a name="l04018"></a>04018                         free(es[0]);
<a name="l04019"></a>04019                         es[0]=NULL;
<a name="l04020"></a>04020                         }
<a name="l04021"></a>04021 
<a name="l04022"></a>04022                 <span class="comment">/* dump individual contacts  */</span>
<a name="l04023"></a>04023                 <span class="keywordflow">for</span>(temp_contactsmember=temp_service-&gt;<a class="code" href="structservice__struct.html#ac177cdc611c8a90ae9b31b6c865e90e6">contacts</a>;temp_contactsmember!=NULL;temp_contactsmember=temp_contactsmember-&gt;<a class="code" href="structcontactsmember__struct.html#ac250057428fd4e4c87f15f0e2bfb4eb0">next</a>){
<a name="l04024"></a>04024 
<a name="l04025"></a>04025                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactsmember-&gt;<a class="code" href="structcontactsmember__struct.html#a8b5a562cc5e45c9d5a14439995c367df">contact_name</a>);
<a name="l04026"></a>04026 
<a name="l04027"></a>04027                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04028"></a>04028                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l04029"></a>04029                                  ,<a class="code" href="protoapi_8h.html#afb0d9641d9aa3e123193694f89a72208">IDO_DATA_CONTACT</a>
<a name="l04030"></a>04030                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04031"></a>04031                                 );
<a name="l04032"></a>04032                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04033"></a>04033                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04034"></a>04034 
<a name="l04035"></a>04035                         free(es[0]);
<a name="l04036"></a>04036                         es[0]=NULL;
<a name="l04037"></a>04037                         }
<a name="l04038"></a>04038 
<a name="l04039"></a>04039                 <span class="comment">/* dump customvars */</span>
<a name="l04040"></a>04040                 <span class="keywordflow">for</span>(temp_customvar=temp_service-&gt;<a class="code" href="structservice__struct.html#a36069039505e2390f05b195b3c4df0fa">custom_variables</a>;temp_customvar!=NULL;temp_customvar=temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a5f9b309ecb8874745787ced9391d5e48">next</a>){
<a name="l04041"></a>04041 
<a name="l04042"></a>04042                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a8cd266b198f92f8986bd4214c0abdc10">variable_name</a>);
<a name="l04043"></a>04043                         es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#aea9685f8017affa5fee895a7eba63bd0">variable_value</a>);
<a name="l04044"></a>04044 
<a name="l04045"></a>04045                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04046"></a>04046                                  ,<span class="stringliteral">&quot;%d=%s:%d:%s\n&quot;</span>
<a name="l04047"></a>04047                                  ,<a class="code" href="protoapi_8h.html#a9ae5462d1599a5f76a71c3c19ac5c280">IDO_DATA_CUSTOMVARIABLE</a>
<a name="l04048"></a>04048                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04049"></a>04049                                  ,temp_customvar-&gt;<a class="code" href="structcustomvariablesmember__struct.html#a10766c154fe378d43f395e0f535fa062">has_been_modified</a>
<a name="l04050"></a>04050                                  ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l04051"></a>04051                                 );
<a name="l04052"></a>04052                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04053"></a>04053                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04054"></a>04054 
<a name="l04055"></a>04055                         <span class="keywordflow">for</span>(x=0;x&lt;2;x++){
<a name="l04056"></a>04056                                 free(es[x]);
<a name="l04057"></a>04057                                 es[x]=NULL;
<a name="l04058"></a>04058                                 }
<a name="l04059"></a>04059                         }
<a name="l04060"></a>04060 
<a name="l04061"></a>04061                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04062"></a>04062                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l04063"></a>04063                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l04064"></a>04064                         );
<a name="l04065"></a>04065                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04066"></a>04066                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04067"></a>04067 
<a name="l04068"></a>04068                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l04069"></a>04069 
<a name="l04070"></a>04070                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l04071"></a>04071                 }
<a name="l04072"></a>04072 
<a name="l04073"></a>04073 
<a name="l04074"></a>04074         <span class="comment">/* free buffers */</span>
<a name="l04075"></a>04075         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l04076"></a>04076                 free(es[x]);
<a name="l04077"></a>04077                 es[x]=NULL;
<a name="l04078"></a>04078                 }
<a name="l04079"></a>04079 
<a name="l04080"></a>04080         <span class="comment">/****** dump servicegroup config ******/</span>
<a name="l04081"></a>04081         <span class="keywordflow">for</span>(temp_servicegroup=servicegroup_list;temp_servicegroup!=NULL;temp_servicegroup=temp_servicegroup-&gt;<a class="code" href="structservicegroup__struct.html#a8dcbb3764054bd5abf0f44d700b09439">next</a>){
<a name="l04082"></a>04082 
<a name="l04083"></a>04083                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_servicegroup-&gt;<a class="code" href="structservicegroup__struct.html#a8cf62a89cbfc1621f51e5ce4d3835de9">group_name</a>);
<a name="l04084"></a>04084                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_servicegroup-&gt;<a class="code" href="structservicegroup__struct.html#a401df84b5eb30fff0af8c4e07f7762fb">alias</a>);
<a name="l04085"></a>04085 
<a name="l04086"></a>04086                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04087"></a>04087                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n&quot;</span>
<a name="l04088"></a>04088                          ,<a class="code" href="protoapi_8h.html#ad21c07aa65190aa3d87a682bb0117d29">IDO_API_SERVICEGROUPDEFINITION</a>
<a name="l04089"></a>04089                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l04090"></a>04090                          ,now.tv_sec
<a name="l04091"></a>04091                          ,now.tv_usec
<a name="l04092"></a>04092                          ,<a class="code" href="protoapi_8h.html#aff2a0a90811ef8059db96fb53bf99acc">IDO_DATA_SERVICEGROUPNAME</a>
<a name="l04093"></a>04093                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04094"></a>04094                          ,<a class="code" href="protoapi_8h.html#a0e8589a12d6faecd006141507a8ec95e">IDO_DATA_SERVICEGROUPALIAS</a>
<a name="l04095"></a>04095                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l04096"></a>04096                         );
<a name="l04097"></a>04097                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04098"></a>04098                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04099"></a>04099 
<a name="l04100"></a>04100                 free(es[0]);
<a name="l04101"></a>04101                 free(es[1]);
<a name="l04102"></a>04102                 es[0]=NULL;
<a name="l04103"></a>04103                 es[1]=NULL;
<a name="l04104"></a>04104 
<a name="l04105"></a>04105                 <span class="comment">/* dump members for each servicegroup */</span>
<a name="l04106"></a>04106                 <span class="keywordflow">for</span>(temp_servicesmember=temp_servicegroup-&gt;<a class="code" href="structservicegroup__struct.html#a3c3f37456137660b00ea219c71d70b9a">members</a>;temp_servicesmember!=NULL;temp_servicesmember=temp_servicesmember-&gt;<a class="code" href="structservicesmember__struct.html#a928e359b840d427f877efc4cf63bd2e6">next</a>)
<a name="l04107"></a>04107                         {
<a name="l04108"></a>04108 
<a name="l04109"></a>04109                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_servicesmember-&gt;<a class="code" href="structservicesmember__struct.html#a2ec975654e1834d044a5bbb0fdec9298">host_name</a>);
<a name="l04110"></a>04110                         es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_servicesmember-&gt;<a class="code" href="structservicesmember__struct.html#a89fea8b74d85b53ce8558d1f61a36f65">service_description</a>);
<a name="l04111"></a>04111 
<a name="l04112"></a>04112                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04113"></a>04113                                  ,<span class="stringliteral">&quot;%d=%s;%s\n&quot;</span>
<a name="l04114"></a>04114                                  ,<a class="code" href="protoapi_8h.html#adefc8cccfc19e04c4b251679233c3fcf">IDO_DATA_SERVICEGROUPMEMBER</a>
<a name="l04115"></a>04115                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04116"></a>04116                                  ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l04117"></a>04117                                 );
<a name="l04118"></a>04118                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04119"></a>04119                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04120"></a>04120 
<a name="l04121"></a>04121                         free(es[0]);
<a name="l04122"></a>04122                         free(es[1]);
<a name="l04123"></a>04123                         es[0]=NULL;
<a name="l04124"></a>04124                         es[1]=NULL;
<a name="l04125"></a>04125                         }
<a name="l04126"></a>04126 
<a name="l04127"></a>04127                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04128"></a>04128                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l04129"></a>04129                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l04130"></a>04130                         );
<a name="l04131"></a>04131                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04132"></a>04132                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04133"></a>04133 
<a name="l04134"></a>04134                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l04135"></a>04135 
<a name="l04136"></a>04136                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l04137"></a>04137                 }
<a name="l04138"></a>04138 
<a name="l04139"></a>04139 
<a name="l04140"></a>04140         <span class="comment">/* free buffers */</span>
<a name="l04141"></a>04141         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l04142"></a>04142                 free(es[x]);
<a name="l04143"></a>04143                 es[x]=NULL;
<a name="l04144"></a>04144                 }
<a name="l04145"></a>04145 
<a name="l04146"></a>04146         <span class="comment">/****** dump host escalation config ******/</span>
<a name="l04147"></a>04147         <span class="keywordflow">for</span>(temp_hostescalation=hostescalation_list;temp_hostescalation!=NULL;temp_hostescalation=temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#ae2f32f12013d0ff0894018ec4259cb88">next</a>){
<a name="l04148"></a>04148 
<a name="l04149"></a>04149                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#a0111a38966028d9420ba1c327f914c1a">host_name</a>);
<a name="l04150"></a>04150                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#aba9bfcb2f59ab705a725754eba07f5a9">escalation_period</a>);
<a name="l04151"></a>04151 
<a name="l04152"></a>04152                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04153"></a>04153                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%lf\n%d=%d\n%d=%d\n%d=%d\n&quot;</span>
<a name="l04154"></a>04154                          ,<a class="code" href="protoapi_8h.html#ae4464ad55f5c0671c4a1522992897f91">IDO_API_HOSTESCALATIONDEFINITION</a>
<a name="l04155"></a>04155                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l04156"></a>04156                          ,now.tv_sec
<a name="l04157"></a>04157                          ,now.tv_usec
<a name="l04158"></a>04158                          ,<a class="code" href="protoapi_8h.html#a32c7170240c599870c27a68cbf9f6905">IDO_DATA_HOSTNAME</a>
<a name="l04159"></a>04159                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04160"></a>04160                          ,<a class="code" href="protoapi_8h.html#a926a96d8005a606483d0852f8ce12fe6">IDO_DATA_ESCALATIONPERIOD</a>
<a name="l04161"></a>04161                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l04162"></a>04162                          ,<a class="code" href="protoapi_8h.html#a8339a21814f08fad5bbbd0b70e4b191c">IDO_DATA_FIRSTNOTIFICATION</a>
<a name="l04163"></a>04163                          ,temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#a3aafd8a6e06d15afc70f3116befed04b">first_notification</a>
<a name="l04164"></a>04164                          ,<a class="code" href="protoapi_8h.html#a3f1a6b51d1dc4237efdaf89d8c0a7e01">IDO_DATA_LASTNOTIFICATION</a>
<a name="l04165"></a>04165                          ,temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#a5c53872b1d501015082f7bd6633e3d47">last_notification</a>
<a name="l04166"></a>04166                          ,<a class="code" href="protoapi_8h.html#a8003970de01846b55689ac1b805e5bff">IDO_DATA_NOTIFICATIONINTERVAL</a>
<a name="l04167"></a>04167                          ,(<span class="keywordtype">double</span>)temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#ac3cde41bbce1ce842d036244cd3419c8">notification_interval</a>
<a name="l04168"></a>04168                          ,<a class="code" href="protoapi_8h.html#a3dfb51af75037e5aa2e49b3822a30295">IDO_DATA_ESCALATEONRECOVERY</a>
<a name="l04169"></a>04169                          ,temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#a721571fa8eec3ad46d3a4a1b68b3e321">escalate_on_recovery</a>
<a name="l04170"></a>04170                          ,<a class="code" href="protoapi_8h.html#a51d4f839be5ed0d416aeed0ca5967d65">IDO_DATA_ESCALATEOIDOWN</a>
<a name="l04171"></a>04171                          ,temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#aec398fbbb75d9067076ea0f16c6c264f">escalate_on_down</a>
<a name="l04172"></a>04172                          ,<a class="code" href="protoapi_8h.html#a02036bb165aadea1cd7a7912652f6f8e">IDO_DATA_ESCALATEONUNREACHABLE</a>
<a name="l04173"></a>04173                          ,temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#a9d017a107674ac92c934e4e051b46b8c">escalate_on_unreachable</a>
<a name="l04174"></a>04174                         );
<a name="l04175"></a>04175                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04176"></a>04176                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04177"></a>04177 
<a name="l04178"></a>04178                 free(es[0]);
<a name="l04179"></a>04179                 es[0]=NULL;
<a name="l04180"></a>04180 
<a name="l04181"></a>04181                 <span class="comment">/* dump contactgroups */</span>
<a name="l04182"></a>04182                 <span class="keywordflow">for</span>(temp_contactgroupsmember=temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#a4d8720505c95f2c69d3357ebc83a227a">contact_groups</a>;temp_contactgroupsmember!=NULL;temp_contactgroupsmember=temp_contactgroupsmember-&gt;<a class="code" href="structcontactgroupsmember__struct.html#a6ae1b5c59026e561bf533cf0bbcbfc87">next</a>){
<a name="l04183"></a>04183 
<a name="l04184"></a>04184                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactgroupsmember-&gt;<a class="code" href="structcontactgroupsmember__struct.html#aa4d1ed3750f63c1800542d75aef53875">group_name</a>);
<a name="l04185"></a>04185 
<a name="l04186"></a>04186                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04187"></a>04187                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l04188"></a>04188                                  ,<a class="code" href="protoapi_8h.html#a6a08def40893965a6bf9ff532721119b">IDO_DATA_CONTACTGROUP</a>
<a name="l04189"></a>04189                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04190"></a>04190                                 );
<a name="l04191"></a>04191                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04192"></a>04192                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04193"></a>04193 
<a name="l04194"></a>04194                         free(es[0]);
<a name="l04195"></a>04195                         es[0]=NULL;
<a name="l04196"></a>04196                         }
<a name="l04197"></a>04197 
<a name="l04198"></a>04198                 <span class="comment">/* dump individual contacts */</span>
<a name="l04199"></a>04199                 <span class="keywordflow">for</span>(temp_contactsmember=temp_hostescalation-&gt;<a class="code" href="structhostescalation__struct.html#a2d05c613f10d604d6acb38cf35c4ad03">contacts</a>;temp_contactsmember!=NULL;temp_contactsmember=temp_contactsmember-&gt;<a class="code" href="structcontactsmember__struct.html#ac250057428fd4e4c87f15f0e2bfb4eb0">next</a>){
<a name="l04200"></a>04200 
<a name="l04201"></a>04201                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactsmember-&gt;<a class="code" href="structcontactsmember__struct.html#a8b5a562cc5e45c9d5a14439995c367df">contact_name</a>);
<a name="l04202"></a>04202 
<a name="l04203"></a>04203                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04204"></a>04204                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l04205"></a>04205                                  ,<a class="code" href="protoapi_8h.html#afb0d9641d9aa3e123193694f89a72208">IDO_DATA_CONTACT</a>
<a name="l04206"></a>04206                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04207"></a>04207                                 );
<a name="l04208"></a>04208                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04209"></a>04209                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04210"></a>04210 
<a name="l04211"></a>04211                         free(es[0]);
<a name="l04212"></a>04212                         es[0]=NULL;
<a name="l04213"></a>04213                         }
<a name="l04214"></a>04214 
<a name="l04215"></a>04215                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04216"></a>04216                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l04217"></a>04217                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l04218"></a>04218                         );
<a name="l04219"></a>04219                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04220"></a>04220                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04221"></a>04221 
<a name="l04222"></a>04222                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l04223"></a>04223 
<a name="l04224"></a>04224                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l04225"></a>04225                 }
<a name="l04226"></a>04226 
<a name="l04227"></a>04227 
<a name="l04228"></a>04228         <span class="comment">/* free buffers */</span>
<a name="l04229"></a>04229         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l04230"></a>04230                 free(es[x]);
<a name="l04231"></a>04231                 es[x]=NULL;
<a name="l04232"></a>04232                 }
<a name="l04233"></a>04233 
<a name="l04234"></a>04234         <span class="comment">/****** dump service escalation config ******/</span>
<a name="l04235"></a>04235         <span class="keywordflow">for</span>(temp_serviceescalation=serviceescalation_list;temp_serviceescalation!=NULL;temp_serviceescalation=temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#a333ab51323258f924b8388ecf3982881">next</a>){
<a name="l04236"></a>04236 
<a name="l04237"></a>04237                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#a8636752209ce80e1decbcce9352e6d59">host_name</a>);
<a name="l04238"></a>04238                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#a8db617fbed9c345e12b815ecb842e796">description</a>);
<a name="l04239"></a>04239                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#a4fd8b7f095a11b43a3d3127145f62081">escalation_period</a>);
<a name="l04240"></a>04240 
<a name="l04241"></a>04241                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04242"></a>04242                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%lf\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n&quot;</span>
<a name="l04243"></a>04243                          ,<a class="code" href="protoapi_8h.html#a6f54f5d39cc91fcb7c16c87eb9d2e8f5">IDO_API_SERVICEESCALATIONDEFINITION</a>
<a name="l04244"></a>04244                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l04245"></a>04245                          ,now.tv_sec
<a name="l04246"></a>04246                          ,now.tv_usec
<a name="l04247"></a>04247                          ,<a class="code" href="protoapi_8h.html#a32c7170240c599870c27a68cbf9f6905">IDO_DATA_HOSTNAME</a>
<a name="l04248"></a>04248                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04249"></a>04249                          ,<a class="code" href="protoapi_8h.html#acc3d90e6fffd03d9fdcb041861fd0547">IDO_DATA_SERVICEDESCRIPTION</a>
<a name="l04250"></a>04250                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l04251"></a>04251                          ,<a class="code" href="protoapi_8h.html#a926a96d8005a606483d0852f8ce12fe6">IDO_DATA_ESCALATIONPERIOD</a>
<a name="l04252"></a>04252                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l04253"></a>04253                          ,<a class="code" href="protoapi_8h.html#a8339a21814f08fad5bbbd0b70e4b191c">IDO_DATA_FIRSTNOTIFICATION</a>
<a name="l04254"></a>04254                          ,temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#adbb2586f5171feab01a030e0e15070c5">first_notification</a>
<a name="l04255"></a>04255                          ,<a class="code" href="protoapi_8h.html#a3f1a6b51d1dc4237efdaf89d8c0a7e01">IDO_DATA_LASTNOTIFICATION</a>
<a name="l04256"></a>04256                          ,temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#aa601d102a29885743d2d470e24399625">last_notification</a>
<a name="l04257"></a>04257                          ,<a class="code" href="protoapi_8h.html#a8003970de01846b55689ac1b805e5bff">IDO_DATA_NOTIFICATIONINTERVAL</a>
<a name="l04258"></a>04258                          ,(<span class="keywordtype">double</span>)temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#a5bda31958f43fa29e015a94e64904cc6">notification_interval</a>
<a name="l04259"></a>04259                          ,<a class="code" href="protoapi_8h.html#a3dfb51af75037e5aa2e49b3822a30295">IDO_DATA_ESCALATEONRECOVERY</a>
<a name="l04260"></a>04260                          ,temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#ac11bfb8f2e5b5a56f04ec91276a2bca0">escalate_on_recovery</a>
<a name="l04261"></a>04261                          ,<a class="code" href="protoapi_8h.html#ace10588557cecd60d6355ff0a18fd222">IDO_DATA_ESCALATEONWARNING</a>
<a name="l04262"></a>04262                          ,temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#a77051785a91139c4d4c23171237fe6ea">escalate_on_warning</a>
<a name="l04263"></a>04263                          ,<a class="code" href="protoapi_8h.html#a5a71ce559de3d887f5c6aa975ca17fb3">IDO_DATA_ESCALATEONUNKNOWN</a>
<a name="l04264"></a>04264                          ,temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#a6f89ef0d19bf2db1c074be5e637dbbb3">escalate_on_unknown</a>
<a name="l04265"></a>04265                          ,<a class="code" href="protoapi_8h.html#a3cb66ff72821f6926d3ae06a010aa751">IDO_DATA_ESCALATEONCRITICAL</a>
<a name="l04266"></a>04266                          ,temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#aef25638c992233edd477b3e636eec474">escalate_on_critical</a>
<a name="l04267"></a>04267                         );
<a name="l04268"></a>04268                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04269"></a>04269                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04270"></a>04270 
<a name="l04271"></a>04271                 free(es[0]);
<a name="l04272"></a>04272                 es[0]=NULL;
<a name="l04273"></a>04273 
<a name="l04274"></a>04274                 <span class="comment">/* dump contactgroups */</span>
<a name="l04275"></a>04275                 <span class="keywordflow">for</span>(temp_contactgroupsmember=temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#ab9b5969ba0a57ce229fc38a461ee6052">contact_groups</a>;temp_contactgroupsmember!=NULL;temp_contactgroupsmember=temp_contactgroupsmember-&gt;<a class="code" href="structcontactgroupsmember__struct.html#a6ae1b5c59026e561bf533cf0bbcbfc87">next</a>){
<a name="l04276"></a>04276 
<a name="l04277"></a>04277                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactgroupsmember-&gt;<a class="code" href="structcontactgroupsmember__struct.html#aa4d1ed3750f63c1800542d75aef53875">group_name</a>);
<a name="l04278"></a>04278 
<a name="l04279"></a>04279                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04280"></a>04280                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l04281"></a>04281                                  ,<a class="code" href="protoapi_8h.html#a6a08def40893965a6bf9ff532721119b">IDO_DATA_CONTACTGROUP</a>
<a name="l04282"></a>04282                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04283"></a>04283                                 );
<a name="l04284"></a>04284                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04285"></a>04285                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04286"></a>04286 
<a name="l04287"></a>04287                         free(es[0]);
<a name="l04288"></a>04288                         es[0]=NULL;
<a name="l04289"></a>04289                         }
<a name="l04290"></a>04290 
<a name="l04291"></a>04291                 <span class="comment">/* dump individual contacts */</span>
<a name="l04292"></a>04292                 <span class="keywordflow">for</span>(temp_contactsmember=temp_serviceescalation-&gt;<a class="code" href="structserviceescalation__struct.html#a096877c685a133f6eb4c8df6dd013907">contacts</a>;temp_contactsmember!=NULL;temp_contactsmember=temp_contactsmember-&gt;<a class="code" href="structcontactsmember__struct.html#ac250057428fd4e4c87f15f0e2bfb4eb0">next</a>){
<a name="l04293"></a>04293 
<a name="l04294"></a>04294                         es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_contactsmember-&gt;<a class="code" href="structcontactsmember__struct.html#a8b5a562cc5e45c9d5a14439995c367df">contact_name</a>);
<a name="l04295"></a>04295 
<a name="l04296"></a>04296                         <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04297"></a>04297                                  ,<span class="stringliteral">&quot;%d=%s\n&quot;</span>
<a name="l04298"></a>04298                                  ,<a class="code" href="protoapi_8h.html#afb0d9641d9aa3e123193694f89a72208">IDO_DATA_CONTACT</a>
<a name="l04299"></a>04299                                  ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04300"></a>04300                                 );
<a name="l04301"></a>04301                         temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04302"></a>04302                         <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04303"></a>04303 
<a name="l04304"></a>04304                         free(es[0]);
<a name="l04305"></a>04305                         es[0]=NULL;
<a name="l04306"></a>04306                         }
<a name="l04307"></a>04307 
<a name="l04308"></a>04308                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04309"></a>04309                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l04310"></a>04310                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l04311"></a>04311                         );
<a name="l04312"></a>04312                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04313"></a>04313                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04314"></a>04314 
<a name="l04315"></a>04315                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l04316"></a>04316 
<a name="l04317"></a>04317                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l04318"></a>04318                 }
<a name="l04319"></a>04319 
<a name="l04320"></a>04320 
<a name="l04321"></a>04321         <span class="comment">/* free buffers */</span>
<a name="l04322"></a>04322         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l04323"></a>04323                 free(es[x]);
<a name="l04324"></a>04324                 es[x]=NULL;
<a name="l04325"></a>04325                 }
<a name="l04326"></a>04326 
<a name="l04327"></a>04327         <span class="comment">/****** dump host dependency config ******/</span>
<a name="l04328"></a>04328         <span class="keywordflow">for</span>(temp_hostdependency=hostdependency_list;temp_hostdependency!=NULL;temp_hostdependency=temp_hostdependency-&gt;<a class="code" href="structhostdependency__struct.html#add9111ae59bf9aa4ab486f0b5a5bd2d7">next</a>){
<a name="l04329"></a>04329 
<a name="l04330"></a>04330                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_hostdependency-&gt;<a class="code" href="structhostdependency__struct.html#a6e30380051b9da9fd970605a34e06104">host_name</a>);
<a name="l04331"></a>04331                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_hostdependency-&gt;<a class="code" href="structhostdependency__struct.html#a4605ae01b0cf39ef2a8760fcb5a10cf6">dependent_host_name</a>);
<a name="l04332"></a>04332 
<a name="l04333"></a>04333                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_hostdependency-&gt;<a class="code" href="structhostdependency__struct.html#a6f3c4748c01302d126449f88a3d0896e">dependency_period</a>);
<a name="l04334"></a>04334 
<a name="l04335"></a>04335                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04336"></a>04336                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n&quot;</span>
<a name="l04337"></a>04337                          ,<a class="code" href="protoapi_8h.html#ace1063e4e7d20d45e420d307c38979ee">IDO_API_HOSTDEPENDENCYDEFINITION</a>
<a name="l04338"></a>04338                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l04339"></a>04339                          ,now.tv_sec
<a name="l04340"></a>04340                          ,now.tv_usec
<a name="l04341"></a>04341                          ,<a class="code" href="protoapi_8h.html#a32c7170240c599870c27a68cbf9f6905">IDO_DATA_HOSTNAME</a>
<a name="l04342"></a>04342                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04343"></a>04343                          ,<a class="code" href="protoapi_8h.html#a9965ca221d5f5c1de3240da206b904f0">IDO_DATA_DEPENDENTHOSTNAME</a>
<a name="l04344"></a>04344                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l04345"></a>04345                          ,<a class="code" href="protoapi_8h.html#a1550ae7f3fc713e93f108c567e302440">IDO_DATA_DEPENDENCYTYPE</a>
<a name="l04346"></a>04346                          ,temp_hostdependency-&gt;<a class="code" href="structhostdependency__struct.html#a3ef8b05c32e8f8c832a5508d8163187d">dependency_type</a>
<a name="l04347"></a>04347                          ,<a class="code" href="protoapi_8h.html#a143f16b0918d2d173edf4326a26894c5">IDO_DATA_INHERITSPARENT</a>
<a name="l04348"></a>04348                          ,temp_hostdependency-&gt;<a class="code" href="structhostdependency__struct.html#a2f35a9287c53f9dbe5ff93dca270258a">inherits_parent</a>
<a name="l04349"></a>04349                          ,<a class="code" href="protoapi_8h.html#a8100978a63d9defa18a728706f246432">IDO_DATA_DEPENDENCYPERIOD</a>
<a name="l04350"></a>04350                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l04351"></a>04351                          ,<a class="code" href="protoapi_8h.html#a6ff0bfcb0e15c74f76fde9768eeef15a">IDO_DATA_FAILONUP</a>
<a name="l04352"></a>04352                          ,temp_hostdependency-&gt;<a class="code" href="structhostdependency__struct.html#a511fc2510fa860ee6e4868b196705272">fail_on_up</a>
<a name="l04353"></a>04353                          ,<a class="code" href="protoapi_8h.html#a207aefee00748b5aa57c279a7ea900ca">IDO_DATA_FAILOIDOWN</a>
<a name="l04354"></a>04354                          ,temp_hostdependency-&gt;<a class="code" href="structhostdependency__struct.html#ab19ac3915f0377cd05e686d903a63450">fail_on_down</a>
<a name="l04355"></a>04355                          ,<a class="code" href="protoapi_8h.html#ad17a9b49724e918386bbb5006d5123f6">IDO_DATA_FAILONUNREACHABLE</a>
<a name="l04356"></a>04356                          ,temp_hostdependency-&gt;<a class="code" href="structhostdependency__struct.html#ae9bbc2108ca84ef881f936717b41fa2e">fail_on_unreachable</a>
<a name="l04357"></a>04357                         );
<a name="l04358"></a>04358                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04359"></a>04359                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04360"></a>04360 
<a name="l04361"></a>04361                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04362"></a>04362                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l04363"></a>04363                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l04364"></a>04364                         );
<a name="l04365"></a>04365                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04366"></a>04366                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04367"></a>04367 
<a name="l04368"></a>04368                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l04369"></a>04369 
<a name="l04370"></a>04370                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l04371"></a>04371                 }
<a name="l04372"></a>04372 
<a name="l04373"></a>04373 
<a name="l04374"></a>04374         <span class="comment">/* free buffers */</span>
<a name="l04375"></a>04375         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l04376"></a>04376                 free(es[x]);
<a name="l04377"></a>04377                 es[x]=NULL;
<a name="l04378"></a>04378                 }
<a name="l04379"></a>04379 
<a name="l04380"></a>04380         <span class="comment">/****** dump service dependency config ******/</span>
<a name="l04381"></a>04381         <span class="keywordflow">for</span>(temp_servicedependency=servicedependency_list;temp_servicedependency!=NULL;temp_servicedependency=temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#a496455e385fa735f653566488748475b">next</a>){
<a name="l04382"></a>04382 
<a name="l04383"></a>04383                 es[0]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#acf903a29089162751232571d32a25533">host_name</a>);
<a name="l04384"></a>04384                 es[1]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#acafed11bcd80bf28aabce9e191369907">service_description</a>);
<a name="l04385"></a>04385                 es[2]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#a11a6afa718d9b622feba2d98ff1f305c">dependent_host_name</a>);
<a name="l04386"></a>04386                 es[3]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#aa561df550386aa4fd3031e40a821090c">dependent_service_description</a>);
<a name="l04387"></a>04387 
<a name="l04388"></a>04388                 es[4]=<a class="code" href="io_8h.html#af816e25e112ff0fb92edba2ea6f33034">ido_escape_buffer</a>(temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#a8329aa5980c11bdd14cfe1b1d4ea0541">dependency_period</a>);
<a name="l04389"></a>04389 
<a name="l04390"></a>04390                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04391"></a>04391                          ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n%d=%s\n%d=%s\n%d=%s\n%d=%d\n%d=%d\n%d=%s\n%d=%d\n%d=%d\n%d=%d\n%d=%d\n&quot;</span>
<a name="l04392"></a>04392                          ,<a class="code" href="protoapi_8h.html#a75d264f0d2b5a62f99efe846459e4fed">IDO_API_SERVICEDEPENDENCYDEFINITION</a>
<a name="l04393"></a>04393                          ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l04394"></a>04394                          ,now.tv_sec
<a name="l04395"></a>04395                          ,now.tv_usec
<a name="l04396"></a>04396                          ,<a class="code" href="protoapi_8h.html#a32c7170240c599870c27a68cbf9f6905">IDO_DATA_HOSTNAME</a>
<a name="l04397"></a>04397                          ,(es[0]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[0]
<a name="l04398"></a>04398                          ,<a class="code" href="protoapi_8h.html#acc3d90e6fffd03d9fdcb041861fd0547">IDO_DATA_SERVICEDESCRIPTION</a>
<a name="l04399"></a>04399                          ,(es[1]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[1]
<a name="l04400"></a>04400                          ,<a class="code" href="protoapi_8h.html#a9965ca221d5f5c1de3240da206b904f0">IDO_DATA_DEPENDENTHOSTNAME</a>
<a name="l04401"></a>04401                          ,(es[2]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[2]
<a name="l04402"></a>04402                          ,<a class="code" href="protoapi_8h.html#a30147797366073ad27ade5e6413510e1">IDO_DATA_DEPENDENTSERVICEDESCRIPTION</a>
<a name="l04403"></a>04403                          ,(es[3]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[3]
<a name="l04404"></a>04404                          ,<a class="code" href="protoapi_8h.html#a1550ae7f3fc713e93f108c567e302440">IDO_DATA_DEPENDENCYTYPE</a>
<a name="l04405"></a>04405                          ,temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#a7eb5cbb3e53c56877b9210a1b0d18b84">dependency_type</a>
<a name="l04406"></a>04406                          ,<a class="code" href="protoapi_8h.html#a143f16b0918d2d173edf4326a26894c5">IDO_DATA_INHERITSPARENT</a>
<a name="l04407"></a>04407                          ,temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#a0b6e556cdf03d434b2e98ec45c054782">inherits_parent</a>
<a name="l04408"></a>04408                          ,<a class="code" href="protoapi_8h.html#a8100978a63d9defa18a728706f246432">IDO_DATA_DEPENDENCYPERIOD</a>
<a name="l04409"></a>04409                          ,(es[4]==NULL)?<span class="stringliteral">&quot;&quot;</span>:es[4]
<a name="l04410"></a>04410                          ,<a class="code" href="protoapi_8h.html#a3a2bfef6a67ca1d493662e7518bdee6c">IDO_DATA_FAILONOK</a>
<a name="l04411"></a>04411                          ,temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#abbd394c73470c448731cf6fc38f57caf">fail_on_ok</a>
<a name="l04412"></a>04412                          ,<a class="code" href="protoapi_8h.html#aac6d2764129024cf74242441aab50df2">IDO_DATA_FAILONWARNING</a>
<a name="l04413"></a>04413                          ,temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#a3a05ec9d8e27a4e79bd406c86130e787">fail_on_warning</a>
<a name="l04414"></a>04414                          ,<a class="code" href="protoapi_8h.html#a0ff4d10502a4b41725b53246900095cb">IDO_DATA_FAILONUNKNOWN</a>
<a name="l04415"></a>04415                          ,temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#abb6a3938502e280e45dca71921c0693c">fail_on_unknown</a>
<a name="l04416"></a>04416                          ,<a class="code" href="protoapi_8h.html#a03c292440a60be192eb1568c8b977ce8">IDO_DATA_FAILONCRITICAL</a>
<a name="l04417"></a>04417                          ,temp_servicedependency-&gt;<a class="code" href="structservicedependency__struct.html#a9c2cd85c42e70f9f1bd305a882d7704d">fail_on_critical</a>
<a name="l04418"></a>04418                         );
<a name="l04419"></a>04419                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04420"></a>04420                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04421"></a>04421 
<a name="l04422"></a>04422                 <a class="code" href="snprintf_8c.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1
<a name="l04423"></a>04423                          ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l04424"></a>04424                          ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l04425"></a>04425                         );
<a name="l04426"></a>04426                 temp_buffer[<span class="keyword">sizeof</span>(temp_buffer)-1]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l04427"></a>04427                 <a class="code" href="utils_8h.html#a4d2311724e39d6a47b17e5e18daff139">ido_dbuf_strcat</a>(&amp;dbuf,temp_buffer);
<a name="l04428"></a>04428 
<a name="l04429"></a>04429                 <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(dbuf.<a class="code" href="structido__dbuf__struct.html#ac2f39c609b40a8cd7bf2b8f5248dd804">buf</a>,IDO_TRUE,IDO_TRUE);
<a name="l04430"></a>04430 
<a name="l04431"></a>04431                 <a class="code" href="utils_8h.html#ab01072b58c97dcad10d70f4ba27a0acb">ido_dbuf_free</a>(&amp;dbuf);
<a name="l04432"></a>04432                 }
<a name="l04433"></a>04433 
<a name="l04434"></a>04434 
<a name="l04435"></a>04435         <span class="comment">/* free buffers */</span>
<a name="l04436"></a>04436         <span class="keywordflow">for</span>(x=0;x&lt;<a class="code" href="idomod_8c.html#a8196be940d0143d00777b26120116cf1">OBJECTCONFIG_ES_ITEMS</a>;x++){
<a name="l04437"></a>04437                 free(es[x]);
<a name="l04438"></a>04438                 es[x]=NULL;
<a name="l04439"></a>04439                 }
<a name="l04440"></a>04440 
<a name="l04441"></a>04441         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_object_config() end\n&quot;</span>);
<a name="l04442"></a>04442 
<a name="l04443"></a>04443         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04444"></a>04444         }
<a name="l04445"></a>04445 
<a name="l04446"></a>04446 
<a name="l04447"></a>04447 
<a name="l04448"></a>04448 <span class="comment">/* dumps config files to data sink */</span>
<a name="l04449"></a><a class="code" href="idomod_8c.html#ad5060cccfb03be3cfd2d801cff499b1f">04449</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#ad5060cccfb03be3cfd2d801cff499b1f">idomod_write_config_files</a>(<span class="keywordtype">void</span>){
<a name="l04450"></a>04450         <span class="keywordtype">int</span> result=<a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04451"></a>04451 
<a name="l04452"></a>04452         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_config_files() start\n&quot;</span>);
<a name="l04453"></a>04453 
<a name="l04454"></a>04454         <span class="keywordflow">if</span>((result=<a class="code" href="idomod_8h.html#ae6ae2878ebc517523f86738c0c563d6f">idomod_write_main_config_file</a>())==<a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>)
<a name="l04455"></a>04455                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l04456"></a>04456 
<a name="l04457"></a>04457         <span class="keywordflow">if</span>((result=<a class="code" href="idomod_8h.html#a858c384e2b53968a04d798a1d8d2fd83">idomod_write_resource_config_files</a>())==<a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>)
<a name="l04458"></a>04458                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l04459"></a>04459 
<a name="l04460"></a>04460         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_config_files() end\n&quot;</span>);
<a name="l04461"></a>04461 
<a name="l04462"></a>04462         <span class="keywordflow">return</span> result;
<a name="l04463"></a>04463         }
<a name="l04464"></a>04464 
<a name="l04465"></a>04465 
<a name="l04466"></a>04466 
<a name="l04467"></a>04467 <span class="comment">/* dumps main config file data to sink */</span>
<a name="l04468"></a><a class="code" href="idomod_8c.html#ae6ae2878ebc517523f86738c0c563d6f">04468</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#ae6ae2878ebc517523f86738c0c563d6f">idomod_write_main_config_file</a>(<span class="keywordtype">void</span>){
<a name="l04469"></a>04469         <span class="keywordtype">char</span> fbuf[<a class="code" href="idomod_8h.html#aa41971a27dceb084b25846cecf73293a">IDOMOD_MAX_BUFLEN</a>];
<a name="l04470"></a>04470         <span class="keywordtype">char</span> *temp_buffer;
<a name="l04471"></a>04471         <span class="keyword">struct </span>timeval now;
<a name="l04472"></a>04472         FILE *fp;
<a name="l04473"></a>04473         <span class="keywordtype">char</span> *var=NULL;
<a name="l04474"></a>04474         <span class="keywordtype">char</span> *val=NULL;
<a name="l04475"></a>04475 
<a name="l04476"></a>04476         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_main_config_file() start\n&quot;</span>);
<a name="l04477"></a>04477 
<a name="l04478"></a>04478         <span class="comment">/* get current time */</span>
<a name="l04479"></a>04479         gettimeofday(&amp;now,NULL);
<a name="l04480"></a>04480 
<a name="l04481"></a>04481         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer
<a name="l04482"></a>04482                  ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n%d=%s\n&quot;</span>
<a name="l04483"></a>04483                  ,<a class="code" href="protoapi_8h.html#ab92d83168940986633a7e65bc363af83">IDO_API_MAINCONFIGFILEVARIABLES</a>
<a name="l04484"></a>04484                  ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l04485"></a>04485                  ,now.tv_sec
<a name="l04486"></a>04486                  ,now.tv_usec
<a name="l04487"></a>04487                  ,<a class="code" href="protoapi_8h.html#a10b20afd053ae4e03c92149f2eb0a570">IDO_DATA_CONFIGFILENAME</a>
<a name="l04488"></a>04488                  ,config_file
<a name="l04489"></a>04489                 )==-1)
<a name="l04490"></a>04490                 temp_buffer=NULL;
<a name="l04491"></a>04491 
<a name="l04492"></a>04492         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_TRUE,IDO_TRUE);
<a name="l04493"></a>04493         free(temp_buffer);
<a name="l04494"></a>04494         temp_buffer=NULL;
<a name="l04495"></a>04495 
<a name="l04496"></a>04496         <span class="comment">/* write each var/val pair from config file */</span>
<a name="l04497"></a>04497         <span class="keywordflow">if</span>((fp=fopen(config_file,<span class="stringliteral">&quot;r&quot;</span>))){
<a name="l04498"></a>04498 
<a name="l04499"></a>04499                 <span class="keywordflow">while</span>((fgets(fbuf,<span class="keyword">sizeof</span>(fbuf),fp))){
<a name="l04500"></a>04500 
<a name="l04501"></a>04501                         <span class="comment">/* skip blank lines */</span>
<a name="l04502"></a>04502                         <span class="keywordflow">if</span>(fbuf[0]==<span class="stringliteral">&#39;\x0&#39;</span> || fbuf[0]==<span class="charliteral">&#39;\n&#39;</span> || fbuf[0]==<span class="charliteral">&#39;\r&#39;</span>)
<a name="l04503"></a>04503                                 <span class="keywordflow">continue</span>;
<a name="l04504"></a>04504 
<a name="l04505"></a>04505                         <a class="code" href="icingastats_8c.html#a44ed939e710ce4674954d98865b42ec0">strip</a>(fbuf);
<a name="l04506"></a>04506 
<a name="l04507"></a>04507                         <span class="comment">/* skip comments */</span>
<a name="l04508"></a>04508                         <span class="keywordflow">if</span>(fbuf[0]==<span class="charliteral">&#39;#&#39;</span> || fbuf[0]==<span class="charliteral">&#39;;&#39;</span>)
<a name="l04509"></a>04509                                 <span class="keywordflow">continue</span>;
<a name="l04510"></a>04510 
<a name="l04511"></a>04511                         <span class="keywordflow">if</span>((var=strtok(fbuf,<span class="stringliteral">&quot;=&quot;</span>))==NULL)
<a name="l04512"></a>04512                                 <span class="keywordflow">continue</span>;
<a name="l04513"></a>04513                         val=strtok(NULL,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l04514"></a>04514 
<a name="l04515"></a>04515                         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer
<a name="l04516"></a>04516                                  ,<span class="stringliteral">&quot;%d=%s=%s\n&quot;</span>
<a name="l04517"></a>04517                                  ,<a class="code" href="protoapi_8h.html#adf48768490a447b139c02ca7379db0a4">IDO_DATA_CONFIGFILEVARIABLE</a>
<a name="l04518"></a>04518                                  ,var
<a name="l04519"></a>04519                                  ,(val==NULL)?<span class="stringliteral">&quot;&quot;</span>:val
<a name="l04520"></a>04520                                 )==-1)
<a name="l04521"></a>04521                                 temp_buffer=NULL;
<a name="l04522"></a>04522 
<a name="l04523"></a>04523                         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_TRUE,IDO_TRUE);
<a name="l04524"></a>04524                         free(temp_buffer);
<a name="l04525"></a>04525                         temp_buffer=NULL;
<a name="l04526"></a>04526                         }
<a name="l04527"></a>04527 
<a name="l04528"></a>04528                 fclose(fp);
<a name="l04529"></a>04529                 }
<a name="l04530"></a>04530 
<a name="l04531"></a>04531         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer
<a name="l04532"></a>04532                  ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l04533"></a>04533                  ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l04534"></a>04534                 )==-1)
<a name="l04535"></a>04535                 temp_buffer=NULL;
<a name="l04536"></a>04536 
<a name="l04537"></a>04537         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_TRUE,IDO_TRUE);
<a name="l04538"></a>04538         free(temp_buffer);
<a name="l04539"></a>04539         temp_buffer=NULL;
<a name="l04540"></a>04540 
<a name="l04541"></a>04541         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_main_config_file() end\n&quot;</span>);
<a name="l04542"></a>04542 
<a name="l04543"></a>04543         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04544"></a>04544         }
<a name="l04545"></a>04545 
<a name="l04546"></a>04546 
<a name="l04547"></a>04547 
<a name="l04548"></a>04548 <span class="comment">/* dumps all resource config files to sink */</span>
<a name="l04549"></a><a class="code" href="idomod_8c.html#a858c384e2b53968a04d798a1d8d2fd83">04549</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a858c384e2b53968a04d798a1d8d2fd83">idomod_write_resource_config_files</a>(<span class="keywordtype">void</span>){
<a name="l04550"></a>04550 
<a name="l04551"></a>04551         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_resource_config_files() start\n&quot;</span>);
<a name="l04552"></a>04552 
<a name="l04553"></a>04553         <span class="comment">/* TODO */</span>
<a name="l04554"></a>04554         <span class="comment">/* loop through main config file to find all resource config files, and then process them */</span>
<a name="l04555"></a>04555         <span class="comment">/* this should probably NOT be done, as the resource file is supposed to remain private... */</span>
<a name="l04556"></a>04556 
<a name="l04557"></a>04557         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_resource_config_files() end\n&quot;</span>);
<a name="l04558"></a>04558 
<a name="l04559"></a>04559         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04560"></a>04560         }
<a name="l04561"></a>04561 
<a name="l04562"></a>04562 
<a name="l04563"></a>04563 
<a name="l04564"></a>04564 <span class="comment">/* dumps a single resource config file to sink */</span>
<a name="l04565"></a><a class="code" href="idomod_8c.html#ae893ef68bfe1248070d8ac72e832805e">04565</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#aa48881aa87d4d70761de1112f17c0fb6">idomod_write_resource_config_file</a>(<span class="keywordtype">char</span> *filename){
<a name="l04566"></a>04566 
<a name="l04567"></a>04567         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_resource_config_file() start\n&quot;</span>);
<a name="l04568"></a>04568 
<a name="l04569"></a>04569         <span class="comment">/* TODO */</span>
<a name="l04570"></a>04570         <span class="comment">/* loop through main config file to find all resource config files, and then process them */</span>
<a name="l04571"></a>04571         <span class="comment">/* this should probably NOT be done, as the resource file is supposed to remain private... */</span>
<a name="l04572"></a>04572 
<a name="l04573"></a>04573         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_resource_config_file() end\n&quot;</span>);
<a name="l04574"></a>04574 
<a name="l04575"></a>04575         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04576"></a>04576         }
<a name="l04577"></a>04577 
<a name="l04578"></a>04578 
<a name="l04579"></a>04579 
<a name="l04580"></a>04580 <span class="comment">/* dumps runtime variables to sink */</span>
<a name="l04581"></a><a class="code" href="idomod_8c.html#a14933c72abd5ffd0642d8900280d8d3d">04581</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#a14933c72abd5ffd0642d8900280d8d3d">idomod_write_runtime_variables</a>(<span class="keywordtype">void</span>){
<a name="l04582"></a>04582         <span class="keywordtype">char</span> *temp_buffer=NULL;
<a name="l04583"></a>04583         <span class="keyword">struct </span>timeval now;
<a name="l04584"></a>04584 
<a name="l04585"></a>04585         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_runtime_variables() start\n&quot;</span>);
<a name="l04586"></a>04586 
<a name="l04587"></a>04587         <span class="comment">/* get current time */</span>
<a name="l04588"></a>04588         gettimeofday(&amp;now,NULL);
<a name="l04589"></a>04589 
<a name="l04590"></a>04590         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer
<a name="l04591"></a>04591                  ,<span class="stringliteral">&quot;\n%d:\n%d=%ld.%ld\n&quot;</span>
<a name="l04592"></a>04592                  ,<a class="code" href="protoapi_8h.html#a0993854a21f0b85577d47389809267b6">IDO_API_RUNTIMEVARIABLES</a>
<a name="l04593"></a>04593                  ,<a class="code" href="protoapi_8h.html#a93b0eb798c5b443a68202f96b1778c13">IDO_DATA_TIMESTAMP</a>
<a name="l04594"></a>04594                  ,now.tv_sec
<a name="l04595"></a>04595                  ,now.tv_usec
<a name="l04596"></a>04596                 )==-1)
<a name="l04597"></a>04597                 temp_buffer=NULL;
<a name="l04598"></a>04598 
<a name="l04599"></a>04599         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_TRUE,IDO_TRUE);
<a name="l04600"></a>04600         free(temp_buffer);
<a name="l04601"></a>04601         temp_buffer=NULL;
<a name="l04602"></a>04602 
<a name="l04603"></a>04603         <span class="comment">/* write out main config file name */</span>
<a name="l04604"></a>04604         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer
<a name="l04605"></a>04605                  ,<span class="stringliteral">&quot;%d=%s=%s\n&quot;</span>
<a name="l04606"></a>04606                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04607"></a>04607                  ,<span class="stringliteral">&quot;config_file&quot;</span>
<a name="l04608"></a>04608                  ,config_file
<a name="l04609"></a>04609                 )==-1)
<a name="l04610"></a>04610                 temp_buffer=NULL;
<a name="l04611"></a>04611 
<a name="l04612"></a>04612         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_TRUE,IDO_TRUE);
<a name="l04613"></a>04613         free(temp_buffer);
<a name="l04614"></a>04614         temp_buffer=NULL;
<a name="l04615"></a>04615 
<a name="l04616"></a>04616         <span class="comment">/* write out vars determined after startup */</span>
<a name="l04617"></a>04617         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer
<a name="l04618"></a>04618                  ,<span class="stringliteral">&quot;%d=%s=%d\n%d=%s=%d\n%d=%s=%d\n%d=%s=%d\n%d=%s=%lf\n%d=%s=%lf\n%d=%s=%lu\n%d=%s=%lu\n%d=%s=%lf\n%d=%s=%lf\n%d=%s=%lf\n%d=%s=%lf\n%d=%s=%lf\n%d=%s=%lf\n%d=%s=%d\n%d=%s=%d\n%d=%s=%d\n&quot;</span>
<a name="l04619"></a>04619                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04620"></a>04620                  ,<span class="stringliteral">&quot;total_services&quot;</span>
<a name="l04621"></a>04621                  ,scheduling_info.total_services
<a name="l04622"></a>04622                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04623"></a>04623                  ,<span class="stringliteral">&quot;total_scheduled_services&quot;</span>
<a name="l04624"></a>04624                  ,scheduling_info.total_scheduled_services
<a name="l04625"></a>04625                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04626"></a>04626                  ,<span class="stringliteral">&quot;total_hosts&quot;</span>
<a name="l04627"></a>04627                  ,scheduling_info.total_hosts
<a name="l04628"></a>04628                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04629"></a>04629                  ,<span class="stringliteral">&quot;total_scheduled_hosts&quot;</span>
<a name="l04630"></a>04630                  ,scheduling_info.total_scheduled_hosts
<a name="l04631"></a>04631                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04632"></a>04632                  ,<span class="stringliteral">&quot;average_services_per_host&quot;</span>
<a name="l04633"></a>04633                  ,scheduling_info.average_services_per_host
<a name="l04634"></a>04634                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04635"></a>04635                  ,<span class="stringliteral">&quot;average_scheduled_services_per_host&quot;</span>
<a name="l04636"></a>04636                  ,scheduling_info.average_scheduled_services_per_host
<a name="l04637"></a>04637                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04638"></a>04638                  ,<span class="stringliteral">&quot;service_check_interval_total&quot;</span>
<a name="l04639"></a>04639                  ,scheduling_info.service_check_interval_total
<a name="l04640"></a>04640                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04641"></a>04641                  ,<span class="stringliteral">&quot;host_check_interval_total&quot;</span>
<a name="l04642"></a>04642                  ,scheduling_info.host_check_interval_total
<a name="l04643"></a>04643                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04644"></a>04644                  ,<span class="stringliteral">&quot;average_service_check_interval&quot;</span>
<a name="l04645"></a>04645                  ,scheduling_info.average_service_check_interval
<a name="l04646"></a>04646                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04647"></a>04647                  ,<span class="stringliteral">&quot;average_host_check_interval&quot;</span>
<a name="l04648"></a>04648                  ,scheduling_info.average_host_check_interval
<a name="l04649"></a>04649                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04650"></a>04650                  ,<span class="stringliteral">&quot;average_service_inter_check_delay&quot;</span>
<a name="l04651"></a>04651                  ,scheduling_info.average_service_inter_check_delay
<a name="l04652"></a>04652                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04653"></a>04653                  ,<span class="stringliteral">&quot;average_host_inter_check_delay&quot;</span>
<a name="l04654"></a>04654                  ,scheduling_info.average_host_inter_check_delay
<a name="l04655"></a>04655                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04656"></a>04656                  ,<span class="stringliteral">&quot;service_inter_check_delay&quot;</span>
<a name="l04657"></a>04657                  ,scheduling_info.service_inter_check_delay
<a name="l04658"></a>04658                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04659"></a>04659                  ,<span class="stringliteral">&quot;host_inter_check_delay&quot;</span>
<a name="l04660"></a>04660                  ,scheduling_info.host_inter_check_delay
<a name="l04661"></a>04661                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04662"></a>04662                  ,<span class="stringliteral">&quot;service_interleave_factor&quot;</span>
<a name="l04663"></a>04663                  ,scheduling_info.service_interleave_factor
<a name="l04664"></a>04664                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04665"></a>04665                  ,<span class="stringliteral">&quot;max_service_check_spread&quot;</span>
<a name="l04666"></a>04666                  ,scheduling_info.max_service_check_spread
<a name="l04667"></a>04667                  ,<a class="code" href="protoapi_8h.html#a17f69a6b1639b2d56e3dbf6df230081c">IDO_DATA_RUNTIMEVARIABLE</a>
<a name="l04668"></a>04668                  ,<span class="stringliteral">&quot;max_host_check_spread&quot;</span>
<a name="l04669"></a>04669                  ,scheduling_info.max_host_check_spread
<a name="l04670"></a>04670                 )==-1)
<a name="l04671"></a>04671                 temp_buffer=NULL;
<a name="l04672"></a>04672 
<a name="l04673"></a>04673         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_TRUE,IDO_TRUE);
<a name="l04674"></a>04674         free(temp_buffer);
<a name="l04675"></a>04675         temp_buffer=NULL;
<a name="l04676"></a>04676 
<a name="l04677"></a>04677         <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_buffer
<a name="l04678"></a>04678                  ,<span class="stringliteral">&quot;%d\n\n&quot;</span>
<a name="l04679"></a>04679                  ,<a class="code" href="protoapi_8h.html#afb49a02615087b9499b78fa0d81dc911">IDO_API_ENDDATA</a>
<a name="l04680"></a>04680                 )==-1)
<a name="l04681"></a>04681                 temp_buffer=NULL;
<a name="l04682"></a>04682 
<a name="l04683"></a>04683         <a class="code" href="idomod_8h.html#a9fa4484e1ea09fc0b67a17ad3cebe4ae">idomod_write_to_sink</a>(temp_buffer,IDO_TRUE,IDO_TRUE);
<a name="l04684"></a>04684         free(temp_buffer);
<a name="l04685"></a>04685         temp_buffer=NULL;
<a name="l04686"></a>04686 
<a name="l04687"></a>04687         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_write_runtime_variables() end\n&quot;</span>);
<a name="l04688"></a>04688 
<a name="l04689"></a>04689         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04690"></a>04690         }
<a name="l04691"></a>04691 
<a name="l04692"></a>04692 
<a name="l04693"></a>04693 <span class="comment">/****************************************************************************/</span>
<a name="l04694"></a>04694 <span class="comment">/* LOGGING ROUTINES                                                         */</span>
<a name="l04695"></a>04695 <span class="comment">/****************************************************************************/</span>
<a name="l04696"></a>04696 
<a name="l04697"></a>04697 <span class="comment">/* opens the debug log for writing */</span>
<a name="l04698"></a><a class="code" href="idomod_8c.html#a923f986e44e7431e73cebaf9555a611e">04698</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#a923f986e44e7431e73cebaf9555a611e">idomod_open_debug_log</a>(<span class="keywordtype">void</span>){
<a name="l04699"></a>04699 
<a name="l04700"></a>04700         <span class="comment">/* don&#39;t do anything if we&#39;re not debugging */</span>
<a name="l04701"></a>04701         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#a4fb3e59ec9d3a1f5f401eafd0f6d492a">idomod_debug_level</a>==IDOMOD_DEBUGL_NONE)
<a name="l04702"></a>04702                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04703"></a>04703 
<a name="l04704"></a>04704         <span class="keywordflow">if</span>((<a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">idomod_debug_file_fp</a>=fopen(<a class="code" href="idomod_8c.html#a0e5a333ba1eed57fb2d1818259c03022">idomod_debug_file</a>,<span class="stringliteral">&quot;a+&quot;</span>))==NULL) {
<a name="l04705"></a>04705                 syslog(LOG_ERR, <span class="stringliteral">&quot;Warning: Could not open debug file &#39;%s&#39; - &#39;%s&#39;&quot;</span>, <a class="code" href="idomod_8c.html#a0e5a333ba1eed57fb2d1818259c03022">idomod_debug_file</a>, strerror(errno));
<a name="l04706"></a>04706                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l04707"></a>04707         }
<a name="l04708"></a>04708 
<a name="l04709"></a>04709         <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<a class="code" href="idomod_8h.html#ad26691f342b0623d5fd00ee291497e56">IDOMOD_DEBUGL_PROCESSINFO</a>, 2, <span class="stringliteral">&quot;idomod_open_debug_log()\n&quot;</span>);
<a name="l04710"></a>04710 
<a name="l04711"></a>04711         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04712"></a>04712 }
<a name="l04713"></a>04713 
<a name="l04714"></a>04714 
<a name="l04715"></a>04715 <span class="comment">/* closes the debug log */</span>
<a name="l04716"></a><a class="code" href="idomod_8c.html#a001d10e51bce600e88b5b65493512b78">04716</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8c.html#a001d10e51bce600e88b5b65493512b78">idomod_close_debug_log</a>(<span class="keywordtype">void</span>){
<a name="l04717"></a>04717 
<a name="l04718"></a>04718         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">idomod_debug_file_fp</a>!=NULL)
<a name="l04719"></a>04719                 fclose(<a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">idomod_debug_file_fp</a>);
<a name="l04720"></a>04720 
<a name="l04721"></a>04721         <a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">idomod_debug_file_fp</a>=NULL;
<a name="l04722"></a>04722 
<a name="l04723"></a>04723         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04724"></a>04724 }
<a name="l04725"></a>04725 
<a name="l04726"></a>04726 
<a name="l04727"></a>04727 <span class="comment">/* write to the debug log */</span>
<a name="l04728"></a><a class="code" href="idomod_8c.html#a0a52efb2c76606a1353cdb738986ad2c">04728</a> <span class="keywordtype">int</span> <a class="code" href="idomod_8h.html#af2daac37efe333a69f92155a205ff4bc">idomod_log_debug_info</a>(<span class="keywordtype">int</span> level, <span class="keywordtype">int</span> verbosity, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...){
<a name="l04729"></a>04729         va_list ap;
<a name="l04730"></a>04730         <span class="keywordtype">char</span> *<a class="code" href="checks_8c.html#ac633a7a52422f2b1d56ed02a56dc8fcf">temp_path</a>=NULL;
<a name="l04731"></a>04731         <span class="keyword">struct </span>timeval current_time;
<a name="l04732"></a>04732 
<a name="l04733"></a>04733         <span class="keywordflow">if</span>(!(<a class="code" href="idomod_8c.html#a4fb3e59ec9d3a1f5f401eafd0f6d492a">idomod_debug_level</a>==<a class="code" href="idomod_8h.html#a79fde517670aa4cc224b5ce89e4ed47b">IDOMOD_DEBUGL_ALL</a> || (level &amp; <a class="code" href="idomod_8c.html#a4fb3e59ec9d3a1f5f401eafd0f6d492a">idomod_debug_level</a>)))
<a name="l04734"></a>04734                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04735"></a>04735 
<a name="l04736"></a>04736         <span class="keywordflow">if</span>(verbosity&gt;<a class="code" href="idomod_8c.html#ad7f4adc09694c36dba1b2d467e217cc8">idomod_debug_verbosity</a>)
<a name="l04737"></a>04737                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04738"></a>04738 
<a name="l04739"></a>04739         <span class="keywordflow">if</span>(<a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">idomod_debug_file_fp</a>==NULL)
<a name="l04740"></a>04740                 <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#acf8b2367b3a651dee4ecb764e86adb18">IDO_ERROR</a>;
<a name="l04741"></a>04741 
<a name="l04742"></a>04742         <span class="comment">/* write the timestamp */</span>
<a name="l04743"></a>04743         gettimeofday(&amp;current_time,NULL);
<a name="l04744"></a>04744         fprintf(<a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">idomod_debug_file_fp</a>,<span class="stringliteral">&quot;[%lu.%06lu] [%03d.%d] [pid=%lu] &quot;</span>,current_time.tv_sec,current_time.tv_usec,level,verbosity,(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)getpid());
<a name="l04745"></a>04745 
<a name="l04746"></a>04746         <span class="comment">/* write the data */</span>
<a name="l04747"></a>04747         va_start(ap,fmt);
<a name="l04748"></a>04748         vfprintf(<a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">idomod_debug_file_fp</a>,fmt,ap);
<a name="l04749"></a>04749         va_end(ap);
<a name="l04750"></a>04750 
<a name="l04751"></a>04751         <span class="comment">/* flush, so we don&#39;t have problems tailing or when fork()ing */</span>
<a name="l04752"></a>04752         fflush(<a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">idomod_debug_file_fp</a>);
<a name="l04753"></a>04753 
<a name="l04754"></a>04754         <span class="comment">/* if file has grown beyond max, rotate it */</span>
<a name="l04755"></a>04755         <span class="keywordflow">if</span>((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)ftell(<a class="code" href="idomod_8c.html#a5c9aee8060fb00ee1a7ede4b204725cc">idomod_debug_file_fp</a>)&gt;<a class="code" href="idomod_8c.html#a1426eac4f55c444bf56d9196623cf47d">idomod_max_debug_file_size</a> &amp;&amp; <a class="code" href="idomod_8c.html#a1426eac4f55c444bf56d9196623cf47d">idomod_max_debug_file_size</a>&gt;0L){
<a name="l04756"></a>04756 
<a name="l04757"></a>04757                 <span class="comment">/* close the file */</span>
<a name="l04758"></a>04758                 <a class="code" href="idomod_8c.html#a001d10e51bce600e88b5b65493512b78">idomod_close_debug_log</a>();
<a name="l04759"></a>04759 
<a name="l04760"></a>04760                 <span class="comment">/* rotate the log file */</span>
<a name="l04761"></a>04761                 <span class="keywordflow">if</span>(<a class="code" href="snprintf_8c.html#a28a648dd20504ebc0c03623a28d82c93">asprintf</a>(&amp;temp_path,<span class="stringliteral">&quot;%s.old&quot;</span>,<a class="code" href="idomod_8c.html#a0e5a333ba1eed57fb2d1818259c03022">idomod_debug_file</a>)==-1)
<a name="l04762"></a>04762                         temp_path=NULL;                 
<a name="l04763"></a>04763 
<a name="l04764"></a>04764                 <span class="keywordflow">if</span>(temp_path){
<a name="l04765"></a>04765 
<a name="l04766"></a>04766                         <span class="comment">/* unlink the old debug file */</span>
<a name="l04767"></a>04767                         unlink(temp_path);
<a name="l04768"></a>04768 
<a name="l04769"></a>04769                         <span class="comment">/* rotate the debug file */</span>
<a name="l04770"></a>04770                         <a class="code" href="base_2utils_8c.html#aa23bc32b41818196b62048be4ee1803e">my_rename</a>(<a class="code" href="idomod_8c.html#a0e5a333ba1eed57fb2d1818259c03022">idomod_debug_file</a>,temp_path);
<a name="l04771"></a>04771 
<a name="l04772"></a>04772                         <span class="comment">/* free memory */</span>
<a name="l04773"></a>04773                         <a class="code" href="include_2common_8h.html#a9b12a99aae3efc49af9be50afc17b526">my_free</a>(temp_path);
<a name="l04774"></a>04774                         }
<a name="l04775"></a>04775 
<a name="l04776"></a>04776                 <span class="comment">/* open a new file */</span>
<a name="l04777"></a>04777                 <a class="code" href="idomod_8c.html#a923f986e44e7431e73cebaf9555a611e">idomod_open_debug_log</a>();
<a name="l04778"></a>04778         }
<a name="l04779"></a>04779 
<a name="l04780"></a>04780         <span class="keywordflow">return</span> <a class="code" href="module_2idoutils_2include_2common_8h.html#a09bcc0b0314a6545997e722684799f4e">IDO_OK</a>;
<a name="l04781"></a>04781 }
<a name="l04782"></a>04782 
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="idomod_8c.html">idomod.c</a>      </li>
      <li class="footer">Generated on Tue May 3 2011 22:33:41 for Icinga-core by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
