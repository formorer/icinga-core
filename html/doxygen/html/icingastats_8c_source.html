<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Icinga-core: base/icingastats.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icinga_logo4-300x109.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Icinga-core&#160;<span id="projectnumber">1.4.0</span></div>
   <div id="projectbrief">next gen monitoring</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('icingastats_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">base/icingastats.c</div>  </div>
</div>
<div class="contents">
<a href="icingastats_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * ICINGASTATS.C - Displays Icinga Statistics</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * Program: Icingastats</span>
<a name="l00006"></a>00006 <span class="comment"> * Version: 1.4.0</span>
<a name="l00007"></a>00007 <span class="comment"> * License: GPL</span>
<a name="l00008"></a>00008 <span class="comment"> * Copyright (c) 2003-2008 Ethan Galstad (egalstad@nagios.org)</span>
<a name="l00009"></a>00009 <span class="comment"> * Copyright (c) 2009-2011 Nagios Core Development Team and Community Contributors</span>
<a name="l00010"></a>00010 <span class="comment"> * Copyright (c) 2009-2011 Icinga Development Team (http://www.icinga.org)</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * License:</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * This program is free software; you can redistribute it and/or modify</span>
<a name="l00015"></a>00015 <span class="comment"> * it under the terms of the GNU General Public License version 2 as</span>
<a name="l00016"></a>00016 <span class="comment"> * published by the Free Software Foundation.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00019"></a>00019 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00020"></a>00020 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00021"></a>00021 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00024"></a>00024 <span class="comment"> * along with this program; if not, write to the Free Software</span>
<a name="l00025"></a>00025 <span class="comment"> * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<a name="l00026"></a>00026 <span class="comment"> *</span>
<a name="l00027"></a>00027 <span class="comment"> *****************************************************************************/</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;../include/config.h&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;../include/common.h&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;../include/icinga.h&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;../include/locations.h&quot;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="comment">/* make sure gcc3 won&#39;t hit here */</span>
<a name="l00035"></a>00035 <span class="preprocessor">#ifndef GCCTOOOLD</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#include &quot;../include/statsprofiler.h&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#endif</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00039"></a><a class="code" href="icingastats_8c.html#a864f9af5e895a674f591929cecf288bc">00039</a> <span class="preprocessor">#define STATUS_NO_DATA             0</span>
<a name="l00040"></a><a class="code" href="icingastats_8c.html#a6f82fb4bb971c65deef1bf4c8b4de1b7">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define STATUS_INFO_DATA           1</span>
<a name="l00041"></a><a class="code" href="icingastats_8c.html#ab52baf6978e6e410c10363afef653aca">00041</a> <span class="preprocessor"></span><span class="preprocessor">#define STATUS_PROGRAM_DATA        2</span>
<a name="l00042"></a><a class="code" href="icingastats_8c.html#a49f0d8af1791c0b852b28443d3863da3">00042</a> <span class="preprocessor"></span><span class="preprocessor">#define STATUS_HOST_DATA           3</span>
<a name="l00043"></a><a class="code" href="icingastats_8c.html#aabc80f1326bfd5b35c701dc545ea415f">00043</a> <span class="preprocessor"></span><span class="preprocessor">#define STATUS_SERVICE_DATA        4</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span>
<a name="l00045"></a>00045 <span class="comment">/* make sure gcc3 won&#39;t hit here */</span>
<a name="l00046"></a>00046 <span class="preprocessor">#ifndef GCCTOOOLD</span>
<a name="l00047"></a><a class="code" href="extinfo_8c.html#a7fb20f82712244ec23e7806e9c6640cc">00047</a> <span class="preprocessor"></span><a class="code" href="structprofile__object.html">profile_object</a>* <a class="code" href="icingastats_8c.html#a7fb20f82712244ec23e7806e9c6640cc">profiled_data</a> = NULL;
<a name="l00048"></a>00048 <span class="preprocessor">#endif</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a><a class="code" href="trends_8c.html#a49546db9991f44e208a1124ce79d62be">00050</a> <span class="keywordtype">char</span> *<a class="code" href="icingastats_8c.html#a7e14c4b6442d6e890227b6fdf8b9cbdd">main_config_file</a>=NULL;
<a name="l00051"></a><a class="code" href="icingastats_8c.html#a2b044792c0428de3366552f40e7e66f8">00051</a> <span class="keywordtype">char</span> *<a class="code" href="icingastats_8c.html#a2b044792c0428de3366552f40e7e66f8">status_file</a>=NULL;
<a name="l00052"></a><a class="code" href="icingastats_8c.html#ad49e4dcb9d7bc0a15932db72e027d831">00052</a> <span class="keywordtype">char</span> *<a class="code" href="icingastats_8c.html#ad49e4dcb9d7bc0a15932db72e027d831">icingastats_file</a>=NULL;
<a name="l00053"></a><a class="code" href="icingastats_8c.html#a41b82863f7e93cc39f1a57a4710cee49">00053</a> <span class="keywordtype">char</span> *<a class="code" href="icingastats_8c.html#a41b82863f7e93cc39f1a57a4710cee49">mrtg_variables</a>=NULL;
<a name="l00054"></a><a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">00054</a> <span class="keywordtype">char</span> *<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>=<span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="icingastats_8c.html#a08c6eb2c8be83f6a9d1d2293effcaf85">00056</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a08c6eb2c8be83f6a9d1d2293effcaf85">mrtg_mode</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00057"></a>00057 
<a name="l00058"></a><a class="code" href="icingastats_8c.html#a07c643af554ecd9fc767d669b34a97ee">00058</a> time_t <a class="code" href="icingastats_8c.html#a07c643af554ecd9fc767d669b34a97ee">status_creation_date</a>=0L;
<a name="l00059"></a><a class="code" href="icingastats_8c.html#aaca19d2016ef211986f33ff6b2118861">00059</a> <span class="keywordtype">char</span> *<a class="code" href="icingastats_8c.html#aaca19d2016ef211986f33ff6b2118861">status_version</a>=NULL;
<a name="l00060"></a><a class="code" href="icingastats_8c.html#a2b5a4f2875a1a545f44ac2faad7a6b67">00060</a> time_t <a class="code" href="broker_8c.html#a2b5a4f2875a1a545f44ac2faad7a6b67">program_start</a>=0L;
<a name="l00061"></a><a class="code" href="icingastats_8c.html#a76dd1f3964760b8a1ce6fb3372869976">00061</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a76dd1f3964760b8a1ce6fb3372869976">status_service_entries</a>=0;
<a name="l00062"></a><a class="code" href="icingastats_8c.html#a039964f5fb45153a4357af17209d5732">00062</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a039964f5fb45153a4357af17209d5732">status_host_entries</a>=0;
<a name="l00063"></a><a class="code" href="icingastats_8c.html#ac471eb984399d299755f905b45397e0c">00063</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="broker_8c.html#ad99d124d1c85c3b69de36466353f295e">nagios_pid</a>=0L;
<a name="l00064"></a>00064 
<a name="l00065"></a><a class="code" href="icingastats_8c.html#a6e8f56b21346caa50d9cbc6162993554">00065</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a6e8f56b21346caa50d9cbc6162993554">min_service_state_change</a>=0.0;
<a name="l00066"></a><a class="code" href="icingastats_8c.html#abe3015d700381da133cd94cd168d9a78">00066</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#abe3015d700381da133cd94cd168d9a78">have_min_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00067"></a><a class="code" href="icingastats_8c.html#a989fb0bb37d769e99412bb67509f57ef">00067</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a989fb0bb37d769e99412bb67509f57ef">max_service_state_change</a>=0.0;
<a name="l00068"></a><a class="code" href="icingastats_8c.html#ab6ca0c5fb2cbbacfd96f2418e584c4ef">00068</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ab6ca0c5fb2cbbacfd96f2418e584c4ef">have_max_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00069"></a><a class="code" href="icingastats_8c.html#a47e511b367558a526430ec661efb90a9">00069</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a47e511b367558a526430ec661efb90a9">average_service_state_change</a>=0.0;
<a name="l00070"></a><a class="code" href="icingastats_8c.html#a18cadc55800349d5a6f41f9991786885">00070</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a18cadc55800349d5a6f41f9991786885">min_active_service_state_change</a>=0.0;
<a name="l00071"></a><a class="code" href="icingastats_8c.html#a906bc3773b6c61fe4145993962a4ae1a">00071</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a906bc3773b6c61fe4145993962a4ae1a">have_min_active_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00072"></a><a class="code" href="icingastats_8c.html#a8dd5cd15010241bd81a671cdce7f781f">00072</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a8dd5cd15010241bd81a671cdce7f781f">max_active_service_state_change</a>=0.0;
<a name="l00073"></a><a class="code" href="icingastats_8c.html#a0f63383fa952de3c72bac81d26460d05">00073</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a0f63383fa952de3c72bac81d26460d05">have_max_active_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00074"></a><a class="code" href="icingastats_8c.html#a9e934eae3acd8429896442f07425bd6f">00074</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a9e934eae3acd8429896442f07425bd6f">average_active_service_state_change</a>=0.0;
<a name="l00075"></a><a class="code" href="icingastats_8c.html#aee5b3d74d8bd3caf489fa758e2110468">00075</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#aee5b3d74d8bd3caf489fa758e2110468">min_active_service_latency</a>=0.0;
<a name="l00076"></a><a class="code" href="icingastats_8c.html#a82fb3f1533e5fe1402b0a751fd4e9e02">00076</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a82fb3f1533e5fe1402b0a751fd4e9e02">have_min_active_service_latency</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00077"></a><a class="code" href="icingastats_8c.html#a31de1d5330bf0f601e49a8ece9ad414b">00077</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a31de1d5330bf0f601e49a8ece9ad414b">max_active_service_latency</a>=0.0;
<a name="l00078"></a><a class="code" href="icingastats_8c.html#ae2a3fc7d728036406ff26df38861e0c9">00078</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ae2a3fc7d728036406ff26df38861e0c9">have_max_active_service_latency</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00079"></a><a class="code" href="icingastats_8c.html#a79fb73631f391c82189024e3e0c687ad">00079</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a79fb73631f391c82189024e3e0c687ad">average_active_service_latency</a>=0.0;
<a name="l00080"></a><a class="code" href="icingastats_8c.html#a6ab9569f167c445b46e19531e859b367">00080</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a6ab9569f167c445b46e19531e859b367">min_active_service_execution_time</a>=0.0;
<a name="l00081"></a><a class="code" href="icingastats_8c.html#a452875b9886683c7d04001240f165d26">00081</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a452875b9886683c7d04001240f165d26">have_min_active_service_execution_time</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00082"></a><a class="code" href="icingastats_8c.html#a5c99c2b06ab9fc0b32bd1cdc062fb726">00082</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a5c99c2b06ab9fc0b32bd1cdc062fb726">max_active_service_execution_time</a>=0.0;
<a name="l00083"></a><a class="code" href="icingastats_8c.html#a0cfe0d4d5c1d38604ae220f92caa4a12">00083</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a0cfe0d4d5c1d38604ae220f92caa4a12">have_max_active_service_execution_time</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00084"></a><a class="code" href="icingastats_8c.html#a3bcc10b03b507b87f36aa0af9a80a0e7">00084</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a3bcc10b03b507b87f36aa0af9a80a0e7">average_active_service_execution_time</a>=0.0;
<a name="l00085"></a><a class="code" href="icingastats_8c.html#a33590a99e4a5f895cdfbf7fc383a34b4">00085</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a33590a99e4a5f895cdfbf7fc383a34b4">min_passive_service_state_change</a>=0.0;
<a name="l00086"></a><a class="code" href="icingastats_8c.html#a01c457ebc81714631ecc7282fcc0da46">00086</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a01c457ebc81714631ecc7282fcc0da46">have_min_passive_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00087"></a><a class="code" href="icingastats_8c.html#aec5b19121188fc8442040c904bc38865">00087</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#aec5b19121188fc8442040c904bc38865">max_passive_service_state_change</a>=0.0;
<a name="l00088"></a><a class="code" href="icingastats_8c.html#a8cf56a570c562a49720b6c76a55ca4ee">00088</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a8cf56a570c562a49720b6c76a55ca4ee">have_max_passive_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00089"></a><a class="code" href="icingastats_8c.html#a9cbe40916fdedb623f6dc4e4717bbdbe">00089</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a9cbe40916fdedb623f6dc4e4717bbdbe">average_passive_service_state_change</a>=0.0;
<a name="l00090"></a><a class="code" href="icingastats_8c.html#aac28691457323877156da4cd6fb843a1">00090</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#aac28691457323877156da4cd6fb843a1">min_passive_service_latency</a>=0.0;
<a name="l00091"></a><a class="code" href="icingastats_8c.html#a6badaef4ae4f2e65ffde55aeb247ecc6">00091</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a6badaef4ae4f2e65ffde55aeb247ecc6">have_min_passive_service_latency</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00092"></a><a class="code" href="icingastats_8c.html#ad52a3fe1009df9a62dbe19b3583c05ce">00092</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#ad52a3fe1009df9a62dbe19b3583c05ce">max_passive_service_latency</a>=0.0;
<a name="l00093"></a><a class="code" href="icingastats_8c.html#ab7023a7729c0286b3c042befb46a0727">00093</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ab7023a7729c0286b3c042befb46a0727">have_max_passive_service_latency</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00094"></a><a class="code" href="icingastats_8c.html#a9e5b19f1a19e0ec0c9223b24267138ba">00094</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a9e5b19f1a19e0ec0c9223b24267138ba">average_passive_service_latency</a>=0.0;
<a name="l00095"></a>00095 
<a name="l00096"></a><a class="code" href="icingastats_8c.html#a791b43eccbcf26dc111629f1dc17a6d3">00096</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a791b43eccbcf26dc111629f1dc17a6d3">have_min_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00097"></a><a class="code" href="icingastats_8c.html#a6b59d0380b2808f99d21713ef4920a31">00097</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a6b59d0380b2808f99d21713ef4920a31">min_host_state_change</a>=0.0;
<a name="l00098"></a><a class="code" href="icingastats_8c.html#a9068a6666c160ff5a58311a54c768e6c">00098</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a9068a6666c160ff5a58311a54c768e6c">have_max_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00099"></a><a class="code" href="icingastats_8c.html#a956ce635ef8a6cbe1b15823b6e0fc54e">00099</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a956ce635ef8a6cbe1b15823b6e0fc54e">max_host_state_change</a>=0.0;
<a name="l00100"></a><a class="code" href="icingastats_8c.html#ab6d8e099e61dd20e286499121be77a30">00100</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#ab6d8e099e61dd20e286499121be77a30">average_host_state_change</a>=0.0;
<a name="l00101"></a><a class="code" href="icingastats_8c.html#a899714feb3211b71870601c33c6e6c1d">00101</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a899714feb3211b71870601c33c6e6c1d">have_min_active_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00102"></a><a class="code" href="icingastats_8c.html#ab32fa8c508b9be8894e5b81767fc7057">00102</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#ab32fa8c508b9be8894e5b81767fc7057">min_active_host_state_change</a>=0.0;
<a name="l00103"></a><a class="code" href="icingastats_8c.html#a9c6244731f2047608202df743bd46f46">00103</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a9c6244731f2047608202df743bd46f46">have_max_active_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00104"></a><a class="code" href="icingastats_8c.html#aab8aeed97b702aabb5cee8b2ead92263">00104</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#aab8aeed97b702aabb5cee8b2ead92263">max_active_host_state_change</a>=0.0;
<a name="l00105"></a><a class="code" href="icingastats_8c.html#af23a17e7ac947a01dc021c46ac926054">00105</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#af23a17e7ac947a01dc021c46ac926054">average_active_host_state_change</a>=0.0;
<a name="l00106"></a><a class="code" href="icingastats_8c.html#a5d8e9c1519cf32abc94e0be347e7faab">00106</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a5d8e9c1519cf32abc94e0be347e7faab">have_min_active_host_latency</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00107"></a><a class="code" href="icingastats_8c.html#a0ab48a2d9498dde0375f53d6f66c80a3">00107</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a0ab48a2d9498dde0375f53d6f66c80a3">min_active_host_latency</a>=0.0;
<a name="l00108"></a><a class="code" href="icingastats_8c.html#a8297a7149dd1991d42cdac88155cc2ab">00108</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a8297a7149dd1991d42cdac88155cc2ab">have_max_active_host_latency</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00109"></a><a class="code" href="icingastats_8c.html#a14954b8cb08e05bf6710a24d048a3686">00109</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a14954b8cb08e05bf6710a24d048a3686">max_active_host_latency</a>=0.0;
<a name="l00110"></a><a class="code" href="icingastats_8c.html#a6b9b860b9466d66b1b189183d70dd9b9">00110</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a6b9b860b9466d66b1b189183d70dd9b9">average_active_host_latency</a>=0.0;
<a name="l00111"></a><a class="code" href="icingastats_8c.html#a2e7bb10b4086cfaf1f91c848eefc1466">00111</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a2e7bb10b4086cfaf1f91c848eefc1466">have_min_active_host_execution_time</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00112"></a><a class="code" href="icingastats_8c.html#a2a3af03b1d2513e0b2872aacf55fc2db">00112</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a2a3af03b1d2513e0b2872aacf55fc2db">min_active_host_execution_time</a>=0.0;
<a name="l00113"></a><a class="code" href="icingastats_8c.html#aa334779de75c74348a6c266a636280bb">00113</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aa334779de75c74348a6c266a636280bb">have_max_active_host_execution_time</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00114"></a><a class="code" href="icingastats_8c.html#a8a4b7d26c2ea92b5915cd61fb49d3bbb">00114</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a8a4b7d26c2ea92b5915cd61fb49d3bbb">max_active_host_execution_time</a>=0.0;
<a name="l00115"></a><a class="code" href="icingastats_8c.html#ab10b78b342e939e96b9e409034ec9ce9">00115</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#ab10b78b342e939e96b9e409034ec9ce9">average_active_host_execution_time</a>=0.0;
<a name="l00116"></a><a class="code" href="icingastats_8c.html#ae4f1a83d7545902d1f7a4d6e356c4fbc">00116</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ae4f1a83d7545902d1f7a4d6e356c4fbc">have_min_passive_host_latency</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00117"></a><a class="code" href="icingastats_8c.html#a3271652a61c5ff739093dd8c6f591fa9">00117</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a3271652a61c5ff739093dd8c6f591fa9">min_passive_host_latency</a>=0.0;
<a name="l00118"></a><a class="code" href="icingastats_8c.html#a8ed469fabc2a069d3c67143b5264c269">00118</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a8ed469fabc2a069d3c67143b5264c269">have_max_passive_host_latency</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00119"></a><a class="code" href="icingastats_8c.html#ae283a04ceba00ff0fddbc63ccc48a190">00119</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#ae283a04ceba00ff0fddbc63ccc48a190">max_passive_host_latency</a>=0.0;
<a name="l00120"></a><a class="code" href="icingastats_8c.html#adbe82b3981c246624c20650468566c0e">00120</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#adbe82b3981c246624c20650468566c0e">average_passive_host_latency</a>=0.0;
<a name="l00121"></a><a class="code" href="icingastats_8c.html#a56b228e3c2fb31d7e517608494fb1713">00121</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a56b228e3c2fb31d7e517608494fb1713">min_passive_host_state_change</a>=0.0;
<a name="l00122"></a><a class="code" href="icingastats_8c.html#ae216bd6a42583221e12e4f8ea35a293b">00122</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ae216bd6a42583221e12e4f8ea35a293b">have_min_passive_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00123"></a><a class="code" href="icingastats_8c.html#a17b9761674be038956e4a19565869e19">00123</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a17b9761674be038956e4a19565869e19">max_passive_host_state_change</a>=0.0;
<a name="l00124"></a><a class="code" href="icingastats_8c.html#a69570da8abe8b7389fe67e312878e8ae">00124</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a69570da8abe8b7389fe67e312878e8ae">have_max_passive_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00125"></a><a class="code" href="icingastats_8c.html#a50c72bad422c3859c3bfc13331bdeeaa">00125</a> <span class="keywordtype">double</span> <a class="code" href="icingastats_8c.html#a50c72bad422c3859c3bfc13331bdeeaa">average_passive_host_state_change</a>=0.0;
<a name="l00126"></a>00126 
<a name="l00127"></a><a class="code" href="icingastats_8c.html#a6f3bfe2701558eb468efee63faa7c399">00127</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a6f3bfe2701558eb468efee63faa7c399">passive_service_checks</a>=0;
<a name="l00128"></a><a class="code" href="icingastats_8c.html#aade6e0837393e4a19cffa0d89258c04f">00128</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aade6e0837393e4a19cffa0d89258c04f">active_service_checks</a>=0;
<a name="l00129"></a><a class="code" href="icingastats_8c.html#a07e6809ed5e65aa004b6f81f86ec16da">00129</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a07e6809ed5e65aa004b6f81f86ec16da">services_ok</a>=0;
<a name="l00130"></a><a class="code" href="icingastats_8c.html#a3325124621a4b2db4b41d947ae74a0bb">00130</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a3325124621a4b2db4b41d947ae74a0bb">services_warning</a>=0;
<a name="l00131"></a><a class="code" href="icingastats_8c.html#a742a2bd058735bb92be466fdbb307806">00131</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a742a2bd058735bb92be466fdbb307806">services_unknown</a>=0;
<a name="l00132"></a><a class="code" href="icingastats_8c.html#a215c9fd19808c2d70ac689496b201db4">00132</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a215c9fd19808c2d70ac689496b201db4">services_critical</a>=0;
<a name="l00133"></a><a class="code" href="icingastats_8c.html#a6e45ee5b6e61f8b77bd070c1260060d1">00133</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a6e45ee5b6e61f8b77bd070c1260060d1">services_flapping</a>=0;
<a name="l00134"></a><a class="code" href="icingastats_8c.html#a8d37798e9029e803d6a5969e94c9d3a6">00134</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a8d37798e9029e803d6a5969e94c9d3a6">services_in_downtime</a>=0;
<a name="l00135"></a><a class="code" href="icingastats_8c.html#a2acd6c0cf1540db95dca076bbde27b0b">00135</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a2acd6c0cf1540db95dca076bbde27b0b">services_checked</a>=0;
<a name="l00136"></a><a class="code" href="icingastats_8c.html#a4b1c8b83beac13844ca1f02a727e5101">00136</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a4b1c8b83beac13844ca1f02a727e5101">services_scheduled</a>=0;
<a name="l00137"></a><a class="code" href="icingastats_8c.html#acd403bfb009e46a810a6b6c2468059b6">00137</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#acd403bfb009e46a810a6b6c2468059b6">passive_host_checks</a>=0;
<a name="l00138"></a><a class="code" href="icingastats_8c.html#a025a7becfdf9bff5d20739c67cb4e4db">00138</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a025a7becfdf9bff5d20739c67cb4e4db">active_host_checks</a>=0;
<a name="l00139"></a><a class="code" href="icingastats_8c.html#a4ec32f7c80efff6bfc434128b41030f0">00139</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a4ec32f7c80efff6bfc434128b41030f0">hosts_up</a>=0;
<a name="l00140"></a><a class="code" href="icingastats_8c.html#a62582cce6c031c753beb1ab6ef5a6105">00140</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a62582cce6c031c753beb1ab6ef5a6105">hosts_down</a>=0;
<a name="l00141"></a><a class="code" href="icingastats_8c.html#acf88e3e13c203ffde5ccb16837644078">00141</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#acf88e3e13c203ffde5ccb16837644078">hosts_unreachable</a>=0;
<a name="l00142"></a><a class="code" href="icingastats_8c.html#a1bec17d54038bb2f121015b347fcea65">00142</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a1bec17d54038bb2f121015b347fcea65">hosts_flapping</a>=0;
<a name="l00143"></a><a class="code" href="icingastats_8c.html#af47b634ea7dace98b8e6941883d93577">00143</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#af47b634ea7dace98b8e6941883d93577">hosts_in_downtime</a>=0;
<a name="l00144"></a><a class="code" href="icingastats_8c.html#ac3dd883bdd6db35506b06b9ffdc7ed92">00144</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ac3dd883bdd6db35506b06b9ffdc7ed92">hosts_checked</a>=0;
<a name="l00145"></a><a class="code" href="icingastats_8c.html#af94ff87658c53ab34e3713530a89faf5">00145</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#af94ff87658c53ab34e3713530a89faf5">hosts_scheduled</a>=0;
<a name="l00146"></a>00146 
<a name="l00147"></a><a class="code" href="icingastats_8c.html#a9585459262080c355a13130975a48240">00147</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a9585459262080c355a13130975a48240">passive_services_checked_last_1min</a>=0;
<a name="l00148"></a><a class="code" href="icingastats_8c.html#a4d2fb1f9cbe0b31b4c205c5de044bd7b">00148</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a4d2fb1f9cbe0b31b4c205c5de044bd7b">passive_services_checked_last_5min</a>=0;
<a name="l00149"></a><a class="code" href="icingastats_8c.html#a3daa04082a78d505db2a52447cfd7492">00149</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a3daa04082a78d505db2a52447cfd7492">passive_services_checked_last_15min</a>=0;
<a name="l00150"></a><a class="code" href="icingastats_8c.html#acb90a86206d93b92b9d419f27b43ddff">00150</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#acb90a86206d93b92b9d419f27b43ddff">passive_services_checked_last_1hour</a>=0;
<a name="l00151"></a><a class="code" href="icingastats_8c.html#a7b1636efc94ff23753592e8a8b0b1d57">00151</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a7b1636efc94ff23753592e8a8b0b1d57">active_services_checked_last_1min</a>=0;
<a name="l00152"></a><a class="code" href="icingastats_8c.html#a26ac776acd4f64f7a385bfd50d9802c6">00152</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a26ac776acd4f64f7a385bfd50d9802c6">active_services_checked_last_5min</a>=0;
<a name="l00153"></a><a class="code" href="icingastats_8c.html#afba2744eba27ab49a4064611cc8ce273">00153</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#afba2744eba27ab49a4064611cc8ce273">active_services_checked_last_15min</a>=0;
<a name="l00154"></a><a class="code" href="icingastats_8c.html#ac70a99f389958677cff7f329fe462d24">00154</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ac70a99f389958677cff7f329fe462d24">active_services_checked_last_1hour</a>=0;
<a name="l00155"></a><a class="code" href="icingastats_8c.html#a9bb4fa54e6a2e6cf2dcba58fa6861270">00155</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a9bb4fa54e6a2e6cf2dcba58fa6861270">passive_hosts_checked_last_1min</a>=0;
<a name="l00156"></a><a class="code" href="icingastats_8c.html#a499d9e6ba02eeaf73c20a9d922392adb">00156</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a499d9e6ba02eeaf73c20a9d922392adb">passive_hosts_checked_last_5min</a>=0;
<a name="l00157"></a><a class="code" href="icingastats_8c.html#a45e936de1abb812a81d4452e3f08ff29">00157</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a45e936de1abb812a81d4452e3f08ff29">passive_hosts_checked_last_15min</a>=0;
<a name="l00158"></a><a class="code" href="icingastats_8c.html#ac5fec1d8c433722c775cba024a391dbb">00158</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ac5fec1d8c433722c775cba024a391dbb">passive_hosts_checked_last_1hour</a>=0;
<a name="l00159"></a><a class="code" href="icingastats_8c.html#ae20347db6462f6d40a6792c1dded22fc">00159</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ae20347db6462f6d40a6792c1dded22fc">active_hosts_checked_last_1min</a>=0;
<a name="l00160"></a><a class="code" href="icingastats_8c.html#ae7aa46cc2c982ada2a718bd6d3cf0497">00160</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ae7aa46cc2c982ada2a718bd6d3cf0497">active_hosts_checked_last_5min</a>=0;
<a name="l00161"></a><a class="code" href="icingastats_8c.html#a36e7ed9e012d64c831520b5fe0dda57e">00161</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a36e7ed9e012d64c831520b5fe0dda57e">active_hosts_checked_last_15min</a>=0;
<a name="l00162"></a><a class="code" href="icingastats_8c.html#a187696d3ec08b09377306fa226302d69">00162</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a187696d3ec08b09377306fa226302d69">active_hosts_checked_last_1hour</a>=0;
<a name="l00163"></a>00163 
<a name="l00164"></a><a class="code" href="icingastats_8c.html#adca7831929169d212eea75d0f44a6928">00164</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#adca7831929169d212eea75d0f44a6928">active_host_checks_last_1min</a>=0;
<a name="l00165"></a><a class="code" href="icingastats_8c.html#a2d834a5beff8ca9cb0f0924a0532b5bd">00165</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a2d834a5beff8ca9cb0f0924a0532b5bd">active_host_checks_last_5min</a>=0;
<a name="l00166"></a><a class="code" href="icingastats_8c.html#a0d655d073aeb42f067549622e81d95df">00166</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a0d655d073aeb42f067549622e81d95df">active_host_checks_last_15min</a>=0;
<a name="l00167"></a><a class="code" href="icingastats_8c.html#ac67ff165f72efff8aaa5134858d7c15a">00167</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ac67ff165f72efff8aaa5134858d7c15a">active_ondemand_host_checks_last_1min</a>=0;
<a name="l00168"></a><a class="code" href="icingastats_8c.html#ad032a31446fc100e7672770b482301ee">00168</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ad032a31446fc100e7672770b482301ee">active_ondemand_host_checks_last_5min</a>=0;
<a name="l00169"></a><a class="code" href="icingastats_8c.html#a4541f9c0be8a1fee6b8aa32bce6f7263">00169</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a4541f9c0be8a1fee6b8aa32bce6f7263">active_ondemand_host_checks_last_15min</a>=0;
<a name="l00170"></a><a class="code" href="icingastats_8c.html#ab97b61a244e2bfe7d29fc5dd3b318c6a">00170</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ab97b61a244e2bfe7d29fc5dd3b318c6a">active_scheduled_host_checks_last_1min</a>=0;
<a name="l00171"></a><a class="code" href="icingastats_8c.html#aebb4624ac45035b9caa067423ef049b1">00171</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aebb4624ac45035b9caa067423ef049b1">active_scheduled_host_checks_last_5min</a>=0;
<a name="l00172"></a><a class="code" href="icingastats_8c.html#acc807a0bc5c1420a52e4b154d7f49765">00172</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#acc807a0bc5c1420a52e4b154d7f49765">active_scheduled_host_checks_last_15min</a>=0;
<a name="l00173"></a><a class="code" href="icingastats_8c.html#a2f060d01f244c7029428beb8cdf6ecfb">00173</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a2f060d01f244c7029428beb8cdf6ecfb">passive_host_checks_last_1min</a>=0;
<a name="l00174"></a><a class="code" href="icingastats_8c.html#aebfa713a6c97b738b0a535eee2fe4971">00174</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aebfa713a6c97b738b0a535eee2fe4971">passive_host_checks_last_5min</a>=0;
<a name="l00175"></a><a class="code" href="icingastats_8c.html#adea9b01f77d72f0206985eeb2d3fa925">00175</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#adea9b01f77d72f0206985eeb2d3fa925">passive_host_checks_last_15min</a>=0;
<a name="l00176"></a><a class="code" href="icingastats_8c.html#a0c1bf0c7e21ba324b9dc6e61a5b9e74d">00176</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a0c1bf0c7e21ba324b9dc6e61a5b9e74d">active_cached_host_checks_last_1min</a>=0;
<a name="l00177"></a><a class="code" href="icingastats_8c.html#a2eabeddbd5626d30c988562466cd912a">00177</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a2eabeddbd5626d30c988562466cd912a">active_cached_host_checks_last_5min</a>=0;
<a name="l00178"></a><a class="code" href="icingastats_8c.html#abfb6a58e41ce513ee28af67ce5d7a8bb">00178</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#abfb6a58e41ce513ee28af67ce5d7a8bb">active_cached_host_checks_last_15min</a>=0;
<a name="l00179"></a><a class="code" href="icingastats_8c.html#a8d4dfb97d89575feaf1768685d898532">00179</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a8d4dfb97d89575feaf1768685d898532">parallel_host_checks_last_1min</a>=0;
<a name="l00180"></a><a class="code" href="icingastats_8c.html#ada4f6c171176a6563c2835a27345eb52">00180</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ada4f6c171176a6563c2835a27345eb52">parallel_host_checks_last_5min</a>=0;
<a name="l00181"></a><a class="code" href="icingastats_8c.html#ad900952678521c33b31cc2aae8baad28">00181</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ad900952678521c33b31cc2aae8baad28">parallel_host_checks_last_15min</a>=0;
<a name="l00182"></a><a class="code" href="icingastats_8c.html#ae6a56f2762c0c57cfc9b7b9f8d59b076">00182</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ae6a56f2762c0c57cfc9b7b9f8d59b076">serial_host_checks_last_1min</a>=0;
<a name="l00183"></a><a class="code" href="icingastats_8c.html#a99f6fdecab332141ba69fd1562a27e59">00183</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a99f6fdecab332141ba69fd1562a27e59">serial_host_checks_last_5min</a>=0;
<a name="l00184"></a><a class="code" href="icingastats_8c.html#a8a71ff973899ce5426746c5e0c8c9833">00184</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a8a71ff973899ce5426746c5e0c8c9833">serial_host_checks_last_15min</a>=0;
<a name="l00185"></a>00185 
<a name="l00186"></a><a class="code" href="icingastats_8c.html#afa2aba124d2d40ede643f1df6d5f66c2">00186</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#afa2aba124d2d40ede643f1df6d5f66c2">active_service_checks_last_1min</a>=0;
<a name="l00187"></a><a class="code" href="icingastats_8c.html#ad3814568c2c73a4689137bfd4b8a30a7">00187</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ad3814568c2c73a4689137bfd4b8a30a7">active_service_checks_last_5min</a>=0;
<a name="l00188"></a><a class="code" href="icingastats_8c.html#aec496ec5a68e4c71483fdcfb20c702e7">00188</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aec496ec5a68e4c71483fdcfb20c702e7">active_service_checks_last_15min</a>=0;
<a name="l00189"></a><a class="code" href="icingastats_8c.html#a6ccfa3b22ab78043b53b9d23f58a0293">00189</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a6ccfa3b22ab78043b53b9d23f58a0293">active_ondemand_service_checks_last_1min</a>=0;
<a name="l00190"></a><a class="code" href="icingastats_8c.html#a2251efdb814145905d321c5b469ab339">00190</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a2251efdb814145905d321c5b469ab339">active_ondemand_service_checks_last_5min</a>=0;
<a name="l00191"></a><a class="code" href="icingastats_8c.html#aa0f5150075a9c93e04c4e261bd61fce8">00191</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aa0f5150075a9c93e04c4e261bd61fce8">active_ondemand_service_checks_last_15min</a>=0;
<a name="l00192"></a><a class="code" href="icingastats_8c.html#a377ba47d905193a309e8aac07923ed64">00192</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a377ba47d905193a309e8aac07923ed64">active_scheduled_service_checks_last_1min</a>=0;
<a name="l00193"></a><a class="code" href="icingastats_8c.html#abee077639cae008ef43add11c8f63bcd">00193</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#abee077639cae008ef43add11c8f63bcd">active_scheduled_service_checks_last_5min</a>=0;
<a name="l00194"></a><a class="code" href="icingastats_8c.html#aee4fa8b66b0a95e438af74b7a937aa09">00194</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aee4fa8b66b0a95e438af74b7a937aa09">active_scheduled_service_checks_last_15min</a>=0;
<a name="l00195"></a><a class="code" href="icingastats_8c.html#a0b6902c696c286c0ee1bf41419a04bce">00195</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a0b6902c696c286c0ee1bf41419a04bce">passive_service_checks_last_1min</a>=0;
<a name="l00196"></a><a class="code" href="icingastats_8c.html#aab662dfa44c5d2c5f2cfe273b1cdec65">00196</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aab662dfa44c5d2c5f2cfe273b1cdec65">passive_service_checks_last_5min</a>=0;
<a name="l00197"></a><a class="code" href="icingastats_8c.html#a6e4c42e61c3a49976567374b7565f7a3">00197</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a6e4c42e61c3a49976567374b7565f7a3">passive_service_checks_last_15min</a>=0;
<a name="l00198"></a><a class="code" href="icingastats_8c.html#a927ed208d02b281b407bd3626824a05c">00198</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a927ed208d02b281b407bd3626824a05c">active_cached_service_checks_last_1min</a>=0;
<a name="l00199"></a><a class="code" href="icingastats_8c.html#a4472f160b9bd593a95ca27421c19fae0">00199</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a4472f160b9bd593a95ca27421c19fae0">active_cached_service_checks_last_5min</a>=0;
<a name="l00200"></a><a class="code" href="icingastats_8c.html#a33e4a1513c493832d4e3761b60f91991">00200</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a33e4a1513c493832d4e3761b60f91991">active_cached_service_checks_last_15min</a>=0;
<a name="l00201"></a>00201 
<a name="l00202"></a><a class="code" href="icingastats_8c.html#a606644b85026fcf4b3bf9dccd50b4e3d">00202</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a606644b85026fcf4b3bf9dccd50b4e3d">external_commands_last_1min</a>=0;
<a name="l00203"></a><a class="code" href="icingastats_8c.html#aadb9ff9b67e95f20138f5baab81db6b5">00203</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aadb9ff9b67e95f20138f5baab81db6b5">external_commands_last_5min</a>=0;
<a name="l00204"></a><a class="code" href="icingastats_8c.html#a4b3e119f0df8cb16ac54efd05c44da35">00204</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a4b3e119f0df8cb16ac54efd05c44da35">external_commands_last_15min</a>=0;
<a name="l00205"></a>00205 
<a name="l00206"></a><a class="code" href="icingastats_8c.html#a0f3a23d5bc3d1e85a9240920806325d2">00206</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a0f3a23d5bc3d1e85a9240920806325d2">total_external_command_buffer_slots</a>=0;
<a name="l00207"></a><a class="code" href="icingastats_8c.html#a6a1538727bc64354ca7a17890ccff0fc">00207</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a6a1538727bc64354ca7a17890ccff0fc">used_external_command_buffer_slots</a>=0;
<a name="l00208"></a><a class="code" href="icingastats_8c.html#a368ab6f581caf767cd105139e2585a47">00208</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a368ab6f581caf767cd105139e2585a47">high_external_command_buffer_slots</a>=0;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 <span class="comment">/* make sure gcc3 won&#39;t hit here */</span>
<a name="l00211"></a>00211 <span class="preprocessor">#ifndef GCCTOOOLD</span>
<a name="l00212"></a><a class="code" href="icingastats_8c.html#a32244f609ee91c91f754bd38fea7ae03">00212</a> <span class="preprocessor"></span><span class="keywordtype">int</span> <a class="code" href="base_2config_8c.html#a32244f609ee91c91f754bd38fea7ae03">event_profiling_enabled</a>=0;
<a name="l00213"></a>00213 <span class="preprocessor">#endif</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span>
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aa810f40af99545de0401fe2087ca69f6">display_mrtg_values</a>(<span class="keywordtype">void</span>);
<a name="l00217"></a>00217 <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ab08bef27321a9f7169b97e5cd52ca0bb">display_stats</a>(<span class="keywordtype">void</span>);
<a name="l00218"></a>00218 <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a70ee58b1b20518921baeec2ad789cbdf">read_config_file</a>(<span class="keywordtype">void</span>);
<a name="l00219"></a>00219 <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#abc7c79a04a38e92e74d3dedb20649aa7">read_status_file</a>(<span class="keywordtype">void</span>);
<a name="l00220"></a>00220 <span class="keywordtype">void</span> <a class="code" href="icingastats_8c.html#a44ed939e710ce4674954d98865b42ec0">strip</a>(<span class="keywordtype">char</span> *);
<a name="l00221"></a>00221 <span class="keywordtype">void</span> <a class="code" href="icingastats_8c.html#a13230b1b393a52cbe4c41c44d90085ac">get_time_breakdown</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>,<span class="keywordtype">int</span> *,<span class="keywordtype">int</span> *,<span class="keywordtype">int</span> *,<span class="keywordtype">int</span> *);
<a name="l00222"></a>00222 <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a437e04e2346e608f57d323284f31814e">read_icingastats_file</a>(<span class="keywordtype">void</span>);
<a name="l00223"></a>00223 
<a name="l00224"></a><a class="code" href="icingastats_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">00224</a> <span class="keywordtype">int</span> <a class="code" href="icinga_8c.html#a7b26396c9888d66d997b0007e8ff1e60">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv){
<a name="l00225"></a>00225         <span class="keywordtype">int</span> result;
<a name="l00226"></a>00226         <span class="keywordtype">int</span> <a class="code" href="cmd_8c.html#aa6a44bb7540c4f54ca854e7eccc677c0">error</a>=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00227"></a>00227         <span class="keywordtype">int</span> display_license=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00228"></a>00228         <span class="keywordtype">int</span> display_help=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00229"></a>00229         <span class="keywordtype">int</span> c;
<a name="l00230"></a>00230 <span class="comment">/* make sure gcc3 won&#39;t hit here */</span>
<a name="l00231"></a>00231 <span class="preprocessor">#ifndef GCCTOOOLD</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span>        <a class="code" href="structprofile__object.html">profile_object</a> *p=NULL;
<a name="l00233"></a>00233 <span class="preprocessor">#endif</span>
<a name="l00234"></a>00234 <span class="preprocessor"></span>
<a name="l00235"></a>00235 <span class="preprocessor">#ifdef HAVE_GETOPT_H</span>
<a name="l00236"></a>00236 <span class="preprocessor"></span>        <span class="keywordtype">int</span> option_index=0;
<a name="l00237"></a>00237         <span class="keyword">static</span> <span class="keyword">struct </span>option long_options[]=
<a name="l00238"></a>00238         {
<a name="l00239"></a>00239                 {<span class="stringliteral">&quot;help&quot;</span>,no_argument,0,<span class="charliteral">&#39;h&#39;</span>},
<a name="l00240"></a>00240                 {<span class="stringliteral">&quot;version&quot;</span>,no_argument,0,<span class="charliteral">&#39;V&#39;</span>},
<a name="l00241"></a>00241                 {<span class="stringliteral">&quot;license&quot;</span>,no_argument,0,<span class="charliteral">&#39;L&#39;</span>},
<a name="l00242"></a>00242                 {<span class="stringliteral">&quot;config&quot;</span>,required_argument,0,<span class="charliteral">&#39;c&#39;</span>},
<a name="l00243"></a>00243                 {<span class="stringliteral">&quot;statsfile&quot;</span>,required_argument,0,<span class="charliteral">&#39;s&#39;</span>},
<a name="l00244"></a>00244                 {<span class="stringliteral">&quot;mrtg&quot;</span>,no_argument,0,<span class="charliteral">&#39;m&#39;</span>},
<a name="l00245"></a>00245                 {<span class="stringliteral">&quot;data&quot;</span>,required_argument,0,<span class="charliteral">&#39;d&#39;</span>},
<a name="l00246"></a>00246                 {<span class="stringliteral">&quot;delimiter&quot;</span>,required_argument,0,<span class="charliteral">&#39;D&#39;</span>},
<a name="l00247"></a>00247                 {0,0,0,0}
<a name="l00248"></a>00248         };
<a name="l00249"></a>00249 <span class="preprocessor">#endif</span>
<a name="l00250"></a>00250 <span class="preprocessor"></span>
<a name="l00251"></a>00251         <span class="comment">/* defaults */</span>
<a name="l00252"></a>00252         <a class="code" href="icingastats_8c.html#a7e14c4b6442d6e890227b6fdf8b9cbdd">main_config_file</a>=strdup(<a class="code" href="locations_8h.html#a33cca38c576ada1ba69225b47cd975a4">DEFAULT_CONFIG_FILE</a>);
<a name="l00253"></a>00253         <a class="code" href="icingastats_8c.html#a2b044792c0428de3366552f40e7e66f8">status_file</a>=strdup(<a class="code" href="locations_8h.html#a5c8d5311862cc5fe17450ca742334f5f">DEFAULT_STATUS_FILE</a>);
<a name="l00254"></a>00254 
<a name="l00255"></a>00255         <span class="comment">/* get all command line arguments */</span>
<a name="l00256"></a>00256         <span class="keywordflow">while</span>(1){
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 <span class="preprocessor">#ifdef HAVE_GETOPT_H</span>
<a name="l00259"></a>00259 <span class="preprocessor"></span>                c=getopt_long(argc,argv,<span class="stringliteral">&quot;+hVLc:ms:d:D:&quot;</span>,long_options,&amp;option_index);
<a name="l00260"></a>00260 <span class="preprocessor">#else</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span>                c=getopt(argc,argv,<span class="stringliteral">&quot;+hVLc:ms:d:D:&quot;</span>);
<a name="l00262"></a>00262 <span class="preprocessor">#endif</span>
<a name="l00263"></a>00263 <span class="preprocessor"></span>
<a name="l00264"></a>00264                 <span class="keywordflow">if</span>(c==-1 || c==EOF)
<a name="l00265"></a>00265                         <span class="keywordflow">break</span>;
<a name="l00266"></a>00266 
<a name="l00267"></a>00267                 <span class="keywordflow">switch</span>(c){
<a name="l00268"></a>00268 
<a name="l00269"></a>00269                 <span class="keywordflow">case</span> <span class="charliteral">&#39;?&#39;</span>:
<a name="l00270"></a>00270                 <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:
<a name="l00271"></a>00271                         display_help=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00272"></a>00272                         <span class="keywordflow">break</span>;
<a name="l00273"></a>00273                 <span class="keywordflow">case</span> <span class="charliteral">&#39;V&#39;</span>:
<a name="l00274"></a>00274                         display_license=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00275"></a>00275                         <span class="keywordflow">break</span>;
<a name="l00276"></a>00276                 <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>:
<a name="l00277"></a>00277                         display_license=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00278"></a>00278                         <span class="keywordflow">break</span>;
<a name="l00279"></a>00279                 <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:
<a name="l00280"></a>00280                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a7e14c4b6442d6e890227b6fdf8b9cbdd">main_config_file</a>)
<a name="l00281"></a>00281                                 free(<a class="code" href="icingastats_8c.html#a7e14c4b6442d6e890227b6fdf8b9cbdd">main_config_file</a>);
<a name="l00282"></a>00282                         <a class="code" href="icingastats_8c.html#a7e14c4b6442d6e890227b6fdf8b9cbdd">main_config_file</a>=strdup(optarg);
<a name="l00283"></a>00283                         <span class="keywordflow">break</span>;
<a name="l00284"></a>00284                 <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:
<a name="l00285"></a>00285                         <a class="code" href="icingastats_8c.html#ad49e4dcb9d7bc0a15932db72e027d831">icingastats_file</a>=strdup(optarg);
<a name="l00286"></a>00286                         <span class="keywordflow">break</span>;
<a name="l00287"></a>00287                 <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:
<a name="l00288"></a>00288                         <a class="code" href="icingastats_8c.html#a08c6eb2c8be83f6a9d1d2293effcaf85">mrtg_mode</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00289"></a>00289                         <span class="keywordflow">break</span>;
<a name="l00290"></a>00290                 <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:
<a name="l00291"></a>00291                         <a class="code" href="icingastats_8c.html#a41b82863f7e93cc39f1a57a4710cee49">mrtg_variables</a>=strdup(optarg);
<a name="l00292"></a>00292                         <span class="keywordflow">break</span>;
<a name="l00293"></a>00293                 <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:
<a name="l00294"></a>00294                         <a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>=strdup(optarg);
<a name="l00295"></a>00295                         <span class="keywordflow">break</span>;
<a name="l00296"></a>00296 
<a name="l00297"></a>00297                 <span class="keywordflow">default</span>:
<a name="l00298"></a>00298                         <span class="keywordflow">break</span>;
<a name="l00299"></a>00299                         }
<a name="l00300"></a>00300 
<a name="l00301"></a>00301                 }
<a name="l00302"></a>00302 
<a name="l00303"></a>00303         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a08c6eb2c8be83f6a9d1d2293effcaf85">mrtg_mode</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>){
<a name="l00304"></a>00304                 printf(<span class="stringliteral">&quot;\n%s Stats %s\n&quot;</span>, <a class="code" href="include_2common_8h.html#a3b6a35b8be8405a9db72cc5dea97954b">PROGRAM_NAME</a>, <a class="code" href="include_2common_8h.html#a2f10abd650e471fae2d7e8c63d41206a">PROGRAM_VERSION</a>);
<a name="l00305"></a>00305                 printf(<span class="stringliteral">&quot;Copyright (c) 2009 Nagios Core Development Team and Community Contributors\n&quot;</span>);
<a name="l00306"></a>00306                 printf(<span class="stringliteral">&quot;Copyright (c) 1999-2009 Ethan Galstad\n&quot;</span>);
<a name="l00307"></a>00307                 printf(<span class="stringliteral">&quot;Last Modified: %s\n&quot;</span>,<a class="code" href="include_2common_8h.html#a8ecb9b224327942e4a81a43d05b0f36e">PROGRAM_MODIFICATION_DATE</a>);
<a name="l00308"></a>00308                 printf(<span class="stringliteral">&quot;License: GPL\n\n&quot;</span>);
<a name="l00309"></a>00309                 }
<a name="l00310"></a>00310 
<a name="l00311"></a>00311         <span class="comment">/* just display the license */</span>
<a name="l00312"></a>00312         <span class="keywordflow">if</span>(display_license==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>){
<a name="l00313"></a>00313 
<a name="l00314"></a>00314                 printf(<span class="stringliteral">&quot;This program is free software; you can redistribute it and/or modify\n&quot;</span>);
<a name="l00315"></a>00315                 printf(<span class="stringliteral">&quot;it under the terms of the GNU General Public License version 2 as\n&quot;</span>);
<a name="l00316"></a>00316                 printf(<span class="stringliteral">&quot;published by the Free Software Foundation.\n\n&quot;</span>);
<a name="l00317"></a>00317                 printf(<span class="stringliteral">&quot;This program is distributed in the hope that it will be useful,\n&quot;</span>);
<a name="l00318"></a>00318                 printf(<span class="stringliteral">&quot;but WITHOUT ANY WARRANTY; without even the implied warranty of\n&quot;</span>);
<a name="l00319"></a>00319                 printf(<span class="stringliteral">&quot;MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n&quot;</span>);
<a name="l00320"></a>00320                 printf(<span class="stringliteral">&quot;GNU General Public License for more details.\n\n&quot;</span>);
<a name="l00321"></a>00321                 printf(<span class="stringliteral">&quot;You should have received a copy of the GNU General Public License\n&quot;</span>);
<a name="l00322"></a>00322                 printf(<span class="stringliteral">&quot;along with this program; if not, write to the Free Software\n&quot;</span>);
<a name="l00323"></a>00323                 printf(<span class="stringliteral">&quot;Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.\n\n&quot;</span>);
<a name="l00324"></a>00324 
<a name="l00325"></a>00325                 exit(<a class="code" href="include_2common_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>);
<a name="l00326"></a>00326                 }
<a name="l00327"></a>00327 
<a name="l00328"></a>00328         <span class="comment">/* if there are no command line options (or if we encountered an error), print usage */</span>
<a name="l00329"></a>00329         <span class="keywordflow">if</span>(error==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> || display_help==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>){
<a name="l00330"></a>00330 
<a name="l00331"></a>00331                 printf(<span class="stringliteral">&quot;Usage: %s [options]\n&quot;</span>,argv[0]);
<a name="l00332"></a>00332                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00333"></a>00333                 printf(<span class="stringliteral">&quot;Startup:\n&quot;</span>);
<a name="l00334"></a>00334                 printf(<span class="stringliteral">&quot; -V, --version      display program version information and exit.\n&quot;</span>);
<a name="l00335"></a>00335                 printf(<span class="stringliteral">&quot; -L, --license      display license information and exit.\n&quot;</span>);
<a name="l00336"></a>00336                 printf(<span class="stringliteral">&quot; -h, --help         display usage information and exit.\n&quot;</span>);
<a name="l00337"></a>00337                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00338"></a>00338                 printf(<span class="stringliteral">&quot;Input file:\n&quot;</span>);
<a name="l00339"></a>00339                 printf(<span class="stringliteral">&quot; -c, --config=FILE  specifies location of main %s config file.\n&quot;</span>, <a class="code" href="include_2common_8h.html#a3b6a35b8be8405a9db72cc5dea97954b">PROGRAM_NAME</a>);
<a name="l00340"></a>00340                 printf(<span class="stringliteral">&quot; -s, --statsfile=FILE  specifies alternate location of file to read %s\n&quot;</span>, <a class="code" href="include_2common_8h.html#a3b6a35b8be8405a9db72cc5dea97954b">PROGRAM_NAME</a>);
<a name="l00341"></a>00341                 printf(<span class="stringliteral">&quot;                       performance data from.\n&quot;</span>);
<a name="l00342"></a>00342                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00343"></a>00343                 printf(<span class="stringliteral">&quot;Output:\n&quot;</span>);
<a name="l00344"></a>00344                 printf(<span class="stringliteral">&quot; -m, --mrtg         display output in MRTG compatible format.\n&quot;</span>);
<a name="l00345"></a>00345                 printf(<span class="stringliteral">&quot; -d, --data=VARS    comma-seperated list of variables to output in MRTG\n&quot;</span>);
<a name="l00346"></a>00346                 printf(<span class="stringliteral">&quot;                    (or compatible) format.  See possible values below.\n&quot;</span>);
<a name="l00347"></a>00347                 printf(<span class="stringliteral">&quot;                    Percentages are rounded, times are in milliseconds.\n&quot;</span>);
<a name="l00348"></a>00348                 printf(<span class="stringliteral">&quot; -D, --delimiter=C  character to use as delimiter in MRTG output mode.\n&quot;</span>);
<a name="l00349"></a>00349                 printf(<span class="stringliteral">&quot;                    Defaults to a newline.\n&quot;</span>);
<a name="l00350"></a>00350                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00351"></a>00351                 printf(<span class="stringliteral">&quot;MRTG DATA VARIABLES (-d option):\n&quot;</span>);
<a name="l00352"></a>00352                 printf(<span class="stringliteral">&quot; PROGRUNTIME          string with time %s process has been running.\n&quot;</span>, <a class="code" href="include_2common_8h.html#a3b6a35b8be8405a9db72cc5dea97954b">PROGRAM_NAME</a>);
<a name="l00353"></a>00353                 printf(<span class="stringliteral">&quot; PROGRUNTIMETT        time %s process has been running (time_t format).\n&quot;</span>, <a class="code" href="include_2common_8h.html#a3b6a35b8be8405a9db72cc5dea97954b">PROGRAM_NAME</a>);
<a name="l00354"></a>00354                 printf(<span class="stringliteral">&quot; STATUSFILEAGE        string with age of status data file.\n&quot;</span>);
<a name="l00355"></a>00355                 printf(<span class="stringliteral">&quot; STATUSFILEAGETT      string with age of status data file (time_t format).\n&quot;</span>);
<a name="l00356"></a>00356                 printf(<span class="stringliteral">&quot; %sVERSION        string with %s version.\n&quot;</span>, <a class="code" href="include_2common_8h.html#a7b3ec32cf6e8ae7b5a907a2f9b6b4beb">PROGRAM_NAME_UC</a>, <a class="code" href="include_2common_8h.html#a3b6a35b8be8405a9db72cc5dea97954b">PROGRAM_NAME</a>);
<a name="l00357"></a>00357                 printf(<span class="stringliteral">&quot; %sPID            pid number of %s deamon.\n&quot;</span>, <a class="code" href="include_2common_8h.html#a7b3ec32cf6e8ae7b5a907a2f9b6b4beb">PROGRAM_NAME_UC</a>, <a class="code" href="include_2common_8h.html#a3b6a35b8be8405a9db72cc5dea97954b">PROGRAM_NAME</a>);
<a name="l00358"></a>00358                 printf(<span class="stringliteral">&quot; %sVERPID         string with %s version and PID.\n&quot;</span>, <a class="code" href="include_2common_8h.html#a7b3ec32cf6e8ae7b5a907a2f9b6b4beb">PROGRAM_NAME_UC</a>, <a class="code" href="include_2common_8h.html#a3b6a35b8be8405a9db72cc5dea97954b">PROGRAM_NAME</a>);
<a name="l00359"></a>00359                 printf(<span class="stringliteral">&quot; TOTCMDBUF            total number of external command buffer slots available.\n&quot;</span>);
<a name="l00360"></a>00360                 printf(<span class="stringliteral">&quot; USEDCMDBUF           number of external command buffer slots currently in use.\n&quot;</span>);
<a name="l00361"></a>00361                 printf(<span class="stringliteral">&quot; HIGHCMDBUF           highest number of external command buffer slots ever in use.\n&quot;</span>);
<a name="l00362"></a>00362                 printf(<span class="stringliteral">&quot; NUMSERVICES          total number of services.\n&quot;</span>);
<a name="l00363"></a>00363                 printf(<span class="stringliteral">&quot; NUMHOSTS             total number of hosts.\n&quot;</span>);
<a name="l00364"></a>00364                 printf(<span class="stringliteral">&quot; NUMSVCOK             number of services OK.\n&quot;</span>);
<a name="l00365"></a>00365                 printf(<span class="stringliteral">&quot; NUMSVCWARN           number of services WARNING.\n&quot;</span>);
<a name="l00366"></a>00366                 printf(<span class="stringliteral">&quot; NUMSVCUNKN           number of services UNKNOWN.\n&quot;</span>);
<a name="l00367"></a>00367                 printf(<span class="stringliteral">&quot; NUMSVCCRIT           number of services CRITICAL.\n&quot;</span>);
<a name="l00368"></a>00368                 printf(<span class="stringliteral">&quot; NUMSVCPROB           number of service problems (WARNING, UNKNOWN or CRITIAL).\n&quot;</span>);
<a name="l00369"></a>00369                 printf(<span class="stringliteral">&quot; NUMSVCCHECKED        number of services that have been checked since start.\n&quot;</span>);
<a name="l00370"></a>00370                 printf(<span class="stringliteral">&quot; NUMSVCSCHEDULED      number of services that are currently scheduled to be checked.\n&quot;</span>);
<a name="l00371"></a>00371                 printf(<span class="stringliteral">&quot; NUMSVCFLAPPING       number of services that are currently flapping.\n&quot;</span>);
<a name="l00372"></a>00372                 printf(<span class="stringliteral">&quot; NUMSVCDOWNTIME       number of services that are currently in downtime.\n&quot;</span>);
<a name="l00373"></a>00373                 printf(<span class="stringliteral">&quot; NUMHSTUP             number of hosts UP.\n&quot;</span>);
<a name="l00374"></a>00374                 printf(<span class="stringliteral">&quot; NUMHSTDOWN           number of hosts DOWN.\n&quot;</span>);
<a name="l00375"></a>00375                 printf(<span class="stringliteral">&quot; NUMHSTUNR            number of hosts UNREACHABLE.\n&quot;</span>);
<a name="l00376"></a>00376                 printf(<span class="stringliteral">&quot; NUMHSTPROB           number of host problems (DOWN or UNREACHABLE).\n&quot;</span>);
<a name="l00377"></a>00377                 printf(<span class="stringliteral">&quot; NUMHSTCHECKED        number of hosts that have been checked since start.\n&quot;</span>);
<a name="l00378"></a>00378                 printf(<span class="stringliteral">&quot; NUMHSTSCHEDULED      number of hosts that are currently scheduled to be checked.\n&quot;</span>);
<a name="l00379"></a>00379                 printf(<span class="stringliteral">&quot; NUMHSTFLAPPING       number of hosts that are currently flapping.\n&quot;</span>);
<a name="l00380"></a>00380                 printf(<span class="stringliteral">&quot; NUMHSTDOWNTIME       number of hosts that are currently in downtime.\n&quot;</span>);
<a name="l00381"></a>00381                 printf(<span class="stringliteral">&quot; NUMHSTACTCHKxM       number of hosts actively checked in last 1/5/15/60 minutes.\n&quot;</span>);
<a name="l00382"></a>00382                 printf(<span class="stringliteral">&quot; NUMHSTPSVCHKxM       number of hosts passively checked in last 1/5/15/60 minutes.\n&quot;</span>);
<a name="l00383"></a>00383                 printf(<span class="stringliteral">&quot; NUMSVCACTCHKxM       number of services actively checked in last 1/5/15/60 minutes.\n&quot;</span>);
<a name="l00384"></a>00384                 printf(<span class="stringliteral">&quot; NUMSVCPSVCHKxM       number of services passively checked in last 1/5/15/60 minutes.\n&quot;</span>);
<a name="l00385"></a>00385                 printf(<span class="stringliteral">&quot; xxxACTSVCLAT         MIN/MAX/AVG active service check latency (ms).\n&quot;</span>);
<a name="l00386"></a>00386                 printf(<span class="stringliteral">&quot; xxxACTSVCEXT         MIN/MAX/AVG active service check execution time (ms).\n&quot;</span>);
<a name="l00387"></a>00387                 printf(<span class="stringliteral">&quot; xxxACTSVCPSC         MIN/MAX/AVG active service check %% state change.\n&quot;</span>);
<a name="l00388"></a>00388                 printf(<span class="stringliteral">&quot; xxxPSVSVCLAT         MIN/MAX/AVG passive service check latency (ms).\n&quot;</span>);
<a name="l00389"></a>00389                 printf(<span class="stringliteral">&quot; xxxPSVSVCPSC         MIN/MAX/AVG passive service check %% state change.\n&quot;</span>);
<a name="l00390"></a>00390                 printf(<span class="stringliteral">&quot; xxxSVCPSC            MIN/MAX/AVG service check %% state change.\n&quot;</span>);
<a name="l00391"></a>00391                 printf(<span class="stringliteral">&quot; xxxACTHSTLAT         MIN/MAX/AVG active host check latency (ms).\n&quot;</span>);
<a name="l00392"></a>00392                 printf(<span class="stringliteral">&quot; xxxACTHSTEXT         MIN/MAX/AVG active host check execution time (ms).\n&quot;</span>);
<a name="l00393"></a>00393                 printf(<span class="stringliteral">&quot; xxxACTHSTPSC         MIN/MAX/AVG active host check %% state change.\n&quot;</span>);
<a name="l00394"></a>00394                 printf(<span class="stringliteral">&quot; xxxPSVHSTLAT         MIN/MAX/AVG passive host check latency (ms).\n&quot;</span>);
<a name="l00395"></a>00395                 printf(<span class="stringliteral">&quot; xxxPSVHSTPSC         MIN/MAX/AVG passive host check %% state change.\n&quot;</span>);
<a name="l00396"></a>00396                 printf(<span class="stringliteral">&quot; xxxHSTPSC            MIN/MAX/AVG host check %% state change.\n&quot;</span>);
<a name="l00397"></a>00397                 printf(<span class="stringliteral">&quot; NUMACTHSTCHECKSxM    number of total active host checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00398"></a>00398                 printf(<span class="stringliteral">&quot; NUMOACTHSTCHECKSxM   number of on-demand active host checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00399"></a>00399                 printf(<span class="stringliteral">&quot; NUMCACHEDHSTCHECKSxM number of cached host checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00400"></a>00400                 printf(<span class="stringliteral">&quot; NUMSACTHSTCHECKSxM   number of scheduled active host checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00401"></a>00401                 printf(<span class="stringliteral">&quot; NUMPARHSTCHECKSxM    number of parallel host checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00402"></a>00402                 printf(<span class="stringliteral">&quot; NUMSERHSTCHECKSxM    number of serial host checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00403"></a>00403                 printf(<span class="stringliteral">&quot; NUMPSVHSTCHECKSxM    number of passive host checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00404"></a>00404                 printf(<span class="stringliteral">&quot; NUMACTSVCCHECKSxM    number of total active service checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00405"></a>00405                 printf(<span class="stringliteral">&quot; NUMOACTSVCCHECKSxM   number of on-demand active service checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00406"></a>00406                 printf(<span class="stringliteral">&quot; NUMCACHEDSVCCHECKSxM number of cached service checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00407"></a>00407                 printf(<span class="stringliteral">&quot; NUMSACTSVCCHECKSxM   number of scheduled active service checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00408"></a>00408                 printf(<span class="stringliteral">&quot; NUMPSVSVCCHECKSxM    number of passive service checks occuring in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00409"></a>00409                 printf(<span class="stringliteral">&quot; NUMEXTCMDSxM         number of external commands processed in last 1/5/15 minutes.\n&quot;</span>);
<a name="l00410"></a>00410 
<a name="l00411"></a>00411 <span class="comment">/* make sure gcc3 won&#39;t hit here */</span>
<a name="l00412"></a>00412 <span class="preprocessor">#ifndef GCCTOOOLD</span>
<a name="l00413"></a>00413 <span class="preprocessor"></span>                <span class="comment">/* event profiler */</span>
<a name="l00414"></a>00414                 <span class="keywordflow">if</span>(<a class="code" href="base_2config_8c.html#a32244f609ee91c91f754bd38fea7ae03">event_profiling_enabled</a>==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>){
<a name="l00415"></a>00415 
<a name="l00416"></a>00416                         <span class="comment">/* read main config file */</span>
<a name="l00417"></a>00417                         result=<a class="code" href="icingastats_8c.html#a70ee58b1b20518921baeec2ad789cbdf">read_config_file</a>();
<a name="l00418"></a>00418                         <span class="keywordflow">if</span>(result==<a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a> &amp;&amp; <a class="code" href="icingastats_8c.html#a08c6eb2c8be83f6a9d1d2293effcaf85">mrtg_mode</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>){
<a name="l00419"></a>00419                                 printf(<span class="stringliteral">&quot;Error processing config file &#39;%s&#39;\n&quot;</span>,<a class="code" href="icingastats_8c.html#a7e14c4b6442d6e890227b6fdf8b9cbdd">main_config_file</a>);
<a name="l00420"></a>00420                                 <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>;
<a name="l00421"></a>00421                         }
<a name="l00422"></a>00422 
<a name="l00423"></a>00423                         <span class="comment">/* read the status file */</span>
<a name="l00424"></a>00424                         result=<a class="code" href="icingastats_8c.html#abc7c79a04a38e92e74d3dedb20649aa7">read_status_file</a>();
<a name="l00425"></a>00425                         <span class="keywordflow">if</span>(result==<a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a> &amp;&amp; <a class="code" href="icingastats_8c.html#a08c6eb2c8be83f6a9d1d2293effcaf85">mrtg_mode</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>){
<a name="l00426"></a>00426                                 printf(<span class="stringliteral">&quot;Error reading status file &#39;%s&#39;\n&quot;</span>,<a class="code" href="icingastats_8c.html#a2b044792c0428de3366552f40e7e66f8">status_file</a>);
<a name="l00427"></a>00427                                 <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>;
<a name="l00428"></a>00428                         }
<a name="l00429"></a>00429 
<a name="l00430"></a>00430                         p = <a class="code" href="icingastats_8c.html#a7fb20f82712244ec23e7806e9c6640cc">profiled_data</a>;
<a name="l00431"></a>00431                         <span class="keywordflow">while</span>(p){
<a name="l00432"></a>00432                                 printf(<span class="stringliteral">&quot;PROFILE_(COUNTER/ELAPSED/EVENTPS)_%s\t\tdynamically generated profile data.\n&quot;</span>,p-&gt;<a class="code" href="structprofile__object.html#a5efb28b409174a9e0906c81b096bf3c6">name</a>);
<a name="l00433"></a>00433                                 p = p-&gt;<a class="code" href="structprofile__object.html#a3f33d2537b97b1be28391930354156c7">next</a>;
<a name="l00434"></a>00434                         }
<a name="l00435"></a>00435                 }
<a name="l00436"></a>00436 <span class="preprocessor">#endif</span>
<a name="l00437"></a>00437 <span class="preprocessor"></span>                printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00438"></a>00438                 printf(<span class="stringliteral">&quot; Note: Replace x&#39;s in MRTG variable names with &#39;MIN&#39;, &#39;MAX&#39;, &#39;AVG&#39;, or the\n&quot;</span>);
<a name="l00439"></a>00439                 printf(<span class="stringliteral">&quot;       the appropriate number (i.e. &#39;1&#39;, &#39;5&#39;, &#39;15&#39;, or &#39;60&#39;).\n&quot;</span>);
<a name="l00440"></a>00440                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00441"></a>00441 
<a name="l00442"></a>00442                 exit(<a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>);
<a name="l00443"></a>00443                 }
<a name="l00444"></a>00444 
<a name="l00445"></a>00445         <span class="comment">/* read pre-processed stats file */</span>
<a name="l00446"></a>00446         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#ad49e4dcb9d7bc0a15932db72e027d831">icingastats_file</a>){
<a name="l00447"></a>00447                 result=<a class="code" href="icingastats_8c.html#a437e04e2346e608f57d323284f31814e">read_icingastats_file</a>();
<a name="l00448"></a>00448                 <span class="keywordflow">if</span>(result==<a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a> &amp;&amp; <a class="code" href="icingastats_8c.html#a08c6eb2c8be83f6a9d1d2293effcaf85">mrtg_mode</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>){
<a name="l00449"></a>00449                         printf(<span class="stringliteral">&quot;Error reading stats file &#39;%s&#39;: %s\n&quot;</span>,<a class="code" href="icingastats_8c.html#ad49e4dcb9d7bc0a15932db72e027d831">icingastats_file</a>,strerror(<a class="code" href="base_2utils_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));
<a name="l00450"></a>00450                         <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>;
<a name="l00451"></a>00451                         }
<a name="l00452"></a>00452                 }
<a name="l00453"></a>00453 
<a name="l00454"></a>00454         <span class="comment">/* else read the normal status file */</span>
<a name="l00455"></a>00455         <span class="keywordflow">else</span>{
<a name="l00456"></a>00456                 <span class="comment">/* read main config file */</span>
<a name="l00457"></a>00457                 result=<a class="code" href="icingastats_8c.html#a70ee58b1b20518921baeec2ad789cbdf">read_config_file</a>();
<a name="l00458"></a>00458                 <span class="keywordflow">if</span>(result==<a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a> &amp;&amp; <a class="code" href="icingastats_8c.html#a08c6eb2c8be83f6a9d1d2293effcaf85">mrtg_mode</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>){
<a name="l00459"></a>00459                         printf(<span class="stringliteral">&quot;Error processing config file &#39;%s&#39;\n&quot;</span>,<a class="code" href="icingastats_8c.html#a7e14c4b6442d6e890227b6fdf8b9cbdd">main_config_file</a>);
<a name="l00460"></a>00460                         <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>;
<a name="l00461"></a>00461                         }
<a name="l00462"></a>00462 
<a name="l00463"></a>00463                 <span class="comment">/* read status file */</span>
<a name="l00464"></a>00464                 result=<a class="code" href="icingastats_8c.html#abc7c79a04a38e92e74d3dedb20649aa7">read_status_file</a>();
<a name="l00465"></a>00465                 <span class="keywordflow">if</span>(result==<a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a> &amp;&amp; <a class="code" href="icingastats_8c.html#a08c6eb2c8be83f6a9d1d2293effcaf85">mrtg_mode</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>){
<a name="l00466"></a>00466                         printf(<span class="stringliteral">&quot;Error reading status file &#39;%s&#39;: %s\n&quot;</span>,<a class="code" href="icingastats_8c.html#a2b044792c0428de3366552f40e7e66f8">status_file</a>,strerror(<a class="code" href="base_2utils_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));
<a name="l00467"></a>00467                         <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>;
<a name="l00468"></a>00468                         }
<a name="l00469"></a>00469                 }
<a name="l00470"></a>00470 
<a name="l00471"></a>00471         <span class="comment">/* display stats */</span>
<a name="l00472"></a>00472         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a08c6eb2c8be83f6a9d1d2293effcaf85">mrtg_mode</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)
<a name="l00473"></a>00473                 <a class="code" href="icingastats_8c.html#ab08bef27321a9f7169b97e5cd52ca0bb">display_stats</a>();
<a name="l00474"></a>00474         <span class="keywordflow">else</span>
<a name="l00475"></a>00475                 <a class="code" href="icingastats_8c.html#aa810f40af99545de0401fe2087ca69f6">display_mrtg_values</a>();
<a name="l00476"></a>00476 
<a name="l00477"></a>00477         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#ad49e4dcb9d7bc0a15932db72e027d831">icingastats_file</a>)
<a name="l00478"></a>00478                 free(<a class="code" href="icingastats_8c.html#ad49e4dcb9d7bc0a15932db72e027d831">icingastats_file</a>);
<a name="l00479"></a>00479 
<a name="l00480"></a>00480         <span class="comment">/* Opsera patch - return based on error, because mrtg_mode was always returning OK */</span>
<a name="l00481"></a>00481         <span class="keywordflow">if</span>(result==<a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>)
<a name="l00482"></a>00482                 <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>;
<a name="l00483"></a>00483         <span class="keywordflow">else</span>
<a name="l00484"></a>00484                 <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;
<a name="l00485"></a>00485         }
<a name="l00486"></a>00486 
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 
<a name="l00489"></a><a class="code" href="icingastats_8c.html#aa810f40af99545de0401fe2087ca69f6">00489</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#aa810f40af99545de0401fe2087ca69f6">display_mrtg_values</a>(<span class="keywordtype">void</span>){
<a name="l00490"></a>00490         <span class="keywordtype">char</span> *temp_ptr;
<a name="l00491"></a>00491         time_t <a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00492"></a>00492         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> time_difference;
<a name="l00493"></a>00493         <span class="keywordtype">int</span> days;
<a name="l00494"></a>00494         <span class="keywordtype">int</span> hours;
<a name="l00495"></a>00495         <span class="keywordtype">int</span> minutes;
<a name="l00496"></a>00496         <span class="keywordtype">int</span> seconds;
<a name="l00497"></a>00497 
<a name="l00498"></a>00498         time(&amp;current_time);
<a name="l00499"></a>00499 
<a name="l00500"></a>00500         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a41b82863f7e93cc39f1a57a4710cee49">mrtg_variables</a>==NULL)
<a name="l00501"></a>00501                 <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;
<a name="l00502"></a>00502 
<a name="l00503"></a>00503         <span class="comment">/* process all variables */</span>
<a name="l00504"></a>00504         <span class="keywordflow">for</span>(temp_ptr=strtok(<a class="code" href="icingastats_8c.html#a41b82863f7e93cc39f1a57a4710cee49">mrtg_variables</a>,<span class="stringliteral">&quot;,&quot;</span>);temp_ptr!=NULL;temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)){
<a name="l00505"></a>00505 
<a name="l00506"></a>00506                 <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;PROGRUNTIME&quot;</span>)){
<a name="l00507"></a>00507                         time_difference=(current_time-<a class="code" href="broker_8c.html#a2b5a4f2875a1a545f44ac2faad7a6b67">program_start</a>);
<a name="l00508"></a>00508                         <a class="code" href="icingastats_8c.html#a13230b1b393a52cbe4c41c44d90085ac">get_time_breakdown</a>(time_difference,&amp;days,&amp;hours,&amp;minutes,&amp;seconds);
<a name="l00509"></a>00509                         printf(<span class="stringliteral">&quot;%dd %dh %dm %ds%s&quot;</span>,days,hours,minutes,seconds,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00510"></a>00510                         }
<a name="l00511"></a>00511                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;PROGRUNTIMETT&quot;</span>)){
<a name="l00512"></a>00512                         time_difference=(current_time-<a class="code" href="broker_8c.html#a2b5a4f2875a1a545f44ac2faad7a6b67">program_start</a>);
<a name="l00513"></a>00513                         printf(<span class="stringliteral">&quot;%lu%s&quot;</span>,time_difference,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00514"></a>00514                         }
<a name="l00515"></a>00515                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;STATUSFILEAGE&quot;</span>)){
<a name="l00516"></a>00516                         time_difference=(current_time-<a class="code" href="icingastats_8c.html#a07c643af554ecd9fc767d669b34a97ee">status_creation_date</a>);
<a name="l00517"></a>00517                         <a class="code" href="icingastats_8c.html#a13230b1b393a52cbe4c41c44d90085ac">get_time_breakdown</a>(time_difference,&amp;days,&amp;hours,&amp;minutes,&amp;seconds);
<a name="l00518"></a>00518                         printf(<span class="stringliteral">&quot;%dd %dh %dm %ds%s&quot;</span>,days,hours,minutes,seconds,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00519"></a>00519                         }
<a name="l00520"></a>00520                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;STATUSFILEAGETT&quot;</span>)){
<a name="l00521"></a>00521                         time_difference=(current_time-<a class="code" href="icingastats_8c.html#a07c643af554ecd9fc767d669b34a97ee">status_creation_date</a>);
<a name="l00522"></a>00522                         printf(<span class="stringliteral">&quot;%lu%s&quot;</span>,time_difference,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00523"></a>00523                         }
<a name="l00524"></a>00524                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;ICINGAVERSION&quot;</span>))
<a name="l00525"></a>00525                         printf(<span class="stringliteral">&quot;%s%s&quot;</span>,<a class="code" href="icingastats_8c.html#aaca19d2016ef211986f33ff6b2118861">status_version</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00526"></a>00526                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;ICINGAPID&quot;</span>))
<a name="l00527"></a>00527                         printf(<span class="stringliteral">&quot;%lu%s&quot;</span>,<a class="code" href="broker_8c.html#ad99d124d1c85c3b69de36466353f295e">nagios_pid</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00528"></a>00528                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;ICINGAVERPID&quot;</span>))
<a name="l00529"></a>00529                         printf(<span class="stringliteral">&quot;%s %s (pid=%lu)%s&quot;</span>, <a class="code" href="include_2common_8h.html#a3b6a35b8be8405a9db72cc5dea97954b">PROGRAM_NAME</a>, <a class="code" href="icingastats_8c.html#aaca19d2016ef211986f33ff6b2118861">status_version</a>, <a class="code" href="broker_8c.html#ad99d124d1c85c3b69de36466353f295e">nagios_pid</a>, <a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00530"></a>00530 
<a name="l00531"></a>00531 
<a name="l00532"></a>00532                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;TOTCMDBUF&quot;</span>))
<a name="l00533"></a>00533                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a0f3a23d5bc3d1e85a9240920806325d2">total_external_command_buffer_slots</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00534"></a>00534                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;USEDCMDBUF&quot;</span>))
<a name="l00535"></a>00535                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a6a1538727bc64354ca7a17890ccff0fc">used_external_command_buffer_slots</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00536"></a>00536                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;HIGHCMDBUF&quot;</span>))
<a name="l00537"></a>00537                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a368ab6f581caf767cd105139e2585a47">high_external_command_buffer_slots</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00538"></a>00538 
<a name="l00539"></a>00539                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSERVICES&quot;</span>))
<a name="l00540"></a>00540                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a76dd1f3964760b8a1ce6fb3372869976">status_service_entries</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00541"></a>00541                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHOSTS&quot;</span>))
<a name="l00542"></a>00542                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a039964f5fb45153a4357af17209d5732">status_host_entries</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00543"></a>00543 
<a name="l00544"></a>00544                 <span class="comment">/* active service check latency */</span>
<a name="l00545"></a>00545                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINACTSVCLAT&quot;</span>))
<a name="l00546"></a>00546                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#aee5b3d74d8bd3caf489fa758e2110468">min_active_service_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00547"></a>00547                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXACTSVCLAT&quot;</span>))
<a name="l00548"></a>00548                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a31de1d5330bf0f601e49a8ece9ad414b">max_active_service_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00549"></a>00549                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGACTSVCLAT&quot;</span>))
<a name="l00550"></a>00550                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a79fb73631f391c82189024e3e0c687ad">average_active_service_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00551"></a>00551 
<a name="l00552"></a>00552                 <span class="comment">/* active service check execution time */</span>
<a name="l00553"></a>00553                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINACTSVCEXT&quot;</span>))
<a name="l00554"></a>00554                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a6ab9569f167c445b46e19531e859b367">min_active_service_execution_time</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00555"></a>00555                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXACTSVCEXT&quot;</span>))
<a name="l00556"></a>00556                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a5c99c2b06ab9fc0b32bd1cdc062fb726">max_active_service_execution_time</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00557"></a>00557                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGACTSVCEXT&quot;</span>))
<a name="l00558"></a>00558                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a3bcc10b03b507b87f36aa0af9a80a0e7">average_active_service_execution_time</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00559"></a>00559 
<a name="l00560"></a>00560                 <span class="comment">/* active service check percent state change */</span>
<a name="l00561"></a>00561                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINACTSVCPSC&quot;</span>))
<a name="l00562"></a>00562                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a18cadc55800349d5a6f41f9991786885">min_active_service_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00563"></a>00563                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXACTSVCPSC&quot;</span>))
<a name="l00564"></a>00564                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a8dd5cd15010241bd81a671cdce7f781f">max_active_service_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00565"></a>00565                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGACTSVCPSC&quot;</span>))
<a name="l00566"></a>00566                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a9e934eae3acd8429896442f07425bd6f">average_active_service_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00567"></a>00567 
<a name="l00568"></a>00568                 <span class="comment">/* passive service check latency */</span>
<a name="l00569"></a>00569                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINPSVSVCLAT&quot;</span>))
<a name="l00570"></a>00570                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#aac28691457323877156da4cd6fb843a1">min_passive_service_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00571"></a>00571                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXPSVSVCLAT&quot;</span>))
<a name="l00572"></a>00572                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#ad52a3fe1009df9a62dbe19b3583c05ce">max_passive_service_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00573"></a>00573                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGPSVSVCLAT&quot;</span>))
<a name="l00574"></a>00574                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a9e5b19f1a19e0ec0c9223b24267138ba">average_passive_service_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00575"></a>00575 
<a name="l00576"></a>00576                 <span class="comment">/* passive service check percent state change */</span>
<a name="l00577"></a>00577                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINPSVSVCPSC&quot;</span>))
<a name="l00578"></a>00578                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a33590a99e4a5f895cdfbf7fc383a34b4">min_passive_service_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00579"></a>00579                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXPSVSVCPSC&quot;</span>))
<a name="l00580"></a>00580                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#aec5b19121188fc8442040c904bc38865">max_passive_service_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00581"></a>00581                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGPSVSVCPSC&quot;</span>))
<a name="l00582"></a>00582                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a9cbe40916fdedb623f6dc4e4717bbdbe">average_passive_service_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00583"></a>00583 
<a name="l00584"></a>00584                 <span class="comment">/* service check percent state change */</span>
<a name="l00585"></a>00585                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINSVCPSC&quot;</span>))
<a name="l00586"></a>00586                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a6e8f56b21346caa50d9cbc6162993554">min_service_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00587"></a>00587                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXSVCPSC&quot;</span>))
<a name="l00588"></a>00588                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a989fb0bb37d769e99412bb67509f57ef">max_service_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00589"></a>00589                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGSVCPSC&quot;</span>))
<a name="l00590"></a>00590                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a47e511b367558a526430ec661efb90a9">average_service_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00591"></a>00591 
<a name="l00592"></a>00592                 <span class="comment">/* active host check latency */</span>
<a name="l00593"></a>00593                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINACTHSTLAT&quot;</span>))
<a name="l00594"></a>00594                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a0ab48a2d9498dde0375f53d6f66c80a3">min_active_host_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00595"></a>00595                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXACTHSTLAT&quot;</span>))
<a name="l00596"></a>00596                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a14954b8cb08e05bf6710a24d048a3686">max_active_host_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00597"></a>00597                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGACTHSTLAT&quot;</span>))
<a name="l00598"></a>00598                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a6b9b860b9466d66b1b189183d70dd9b9">average_active_host_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00599"></a>00599 
<a name="l00600"></a>00600                 <span class="comment">/* active host check execution time */</span>
<a name="l00601"></a>00601                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINACTHSTEXT&quot;</span>))
<a name="l00602"></a>00602                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a2a3af03b1d2513e0b2872aacf55fc2db">min_active_host_execution_time</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00603"></a>00603                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXACTHSTEXT&quot;</span>))
<a name="l00604"></a>00604                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a8a4b7d26c2ea92b5915cd61fb49d3bbb">max_active_host_execution_time</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00605"></a>00605                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGACTHSTEXT&quot;</span>))
<a name="l00606"></a>00606                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#ab10b78b342e939e96b9e409034ec9ce9">average_active_host_execution_time</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00607"></a>00607 
<a name="l00608"></a>00608                 <span class="comment">/* active host check percent state change */</span>
<a name="l00609"></a>00609                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINACTHSTPSC&quot;</span>))
<a name="l00610"></a>00610                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#ab32fa8c508b9be8894e5b81767fc7057">min_active_host_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00611"></a>00611                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXACTHSTPSC&quot;</span>))
<a name="l00612"></a>00612                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#aab8aeed97b702aabb5cee8b2ead92263">max_active_host_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00613"></a>00613                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGACTHSTPSC&quot;</span>))
<a name="l00614"></a>00614                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#af23a17e7ac947a01dc021c46ac926054">average_active_host_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00615"></a>00615 
<a name="l00616"></a>00616                 <span class="comment">/* passive host check latency */</span>
<a name="l00617"></a>00617                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINPSVHSTLAT&quot;</span>))
<a name="l00618"></a>00618                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#a3271652a61c5ff739093dd8c6f591fa9">min_passive_host_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00619"></a>00619                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXPSVHSTLAT&quot;</span>))
<a name="l00620"></a>00620                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#ae283a04ceba00ff0fddbc63ccc48a190">max_passive_host_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00621"></a>00621                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGPSVHSTLAT&quot;</span>))
<a name="l00622"></a>00622                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)(<a class="code" href="icingastats_8c.html#adbe82b3981c246624c20650468566c0e">average_passive_host_latency</a>*1000),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00623"></a>00623 
<a name="l00624"></a>00624                 <span class="comment">/* passive host check percent state change */</span>
<a name="l00625"></a>00625                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINPSVHSTPSC&quot;</span>))
<a name="l00626"></a>00626                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a56b228e3c2fb31d7e517608494fb1713">min_passive_host_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00627"></a>00627                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXPSVHSTPSC&quot;</span>))
<a name="l00628"></a>00628                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a17b9761674be038956e4a19565869e19">max_passive_host_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00629"></a>00629                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGPSVHSTPSC&quot;</span>))
<a name="l00630"></a>00630                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a50c72bad422c3859c3bfc13331bdeeaa">average_passive_host_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00631"></a>00631 
<a name="l00632"></a>00632                 <span class="comment">/* host check percent state change */</span>
<a name="l00633"></a>00633                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MINHSTPSC&quot;</span>))
<a name="l00634"></a>00634                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a6b59d0380b2808f99d21713ef4920a31">min_host_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00635"></a>00635                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;MAXHSTPSC&quot;</span>))
<a name="l00636"></a>00636                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#a956ce635ef8a6cbe1b15823b6e0fc54e">max_host_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00637"></a>00637                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;AVGHSTPSC&quot;</span>))
<a name="l00638"></a>00638                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,(<span class="keywordtype">int</span>)<a class="code" href="icingastats_8c.html#ab6d8e099e61dd20e286499121be77a30">average_host_state_change</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00639"></a>00639 
<a name="l00640"></a>00640                 <span class="comment">/* active host checks over time */</span>
<a name="l00641"></a>00641                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTACTCHK1M&quot;</span>))
<a name="l00642"></a>00642                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ae20347db6462f6d40a6792c1dded22fc">active_hosts_checked_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00643"></a>00643                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTACTCHK5M&quot;</span>))
<a name="l00644"></a>00644                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ae7aa46cc2c982ada2a718bd6d3cf0497">active_hosts_checked_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00645"></a>00645                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTACTCHK15M&quot;</span>))
<a name="l00646"></a>00646                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a36e7ed9e012d64c831520b5fe0dda57e">active_hosts_checked_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00647"></a>00647                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTACTCHK60M&quot;</span>))
<a name="l00648"></a>00648                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a187696d3ec08b09377306fa226302d69">active_hosts_checked_last_1hour</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00649"></a>00649 
<a name="l00650"></a>00650                 <span class="comment">/* passive host checks over time */</span>
<a name="l00651"></a>00651                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTPSVCHK1M&quot;</span>))
<a name="l00652"></a>00652                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a9bb4fa54e6a2e6cf2dcba58fa6861270">passive_hosts_checked_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00653"></a>00653                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTPSVCHK5M&quot;</span>))
<a name="l00654"></a>00654                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a499d9e6ba02eeaf73c20a9d922392adb">passive_hosts_checked_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00655"></a>00655                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTPSVCHK15M&quot;</span>))
<a name="l00656"></a>00656                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a45e936de1abb812a81d4452e3f08ff29">passive_hosts_checked_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00657"></a>00657                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTPSVCHK60M&quot;</span>))
<a name="l00658"></a>00658                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ac5fec1d8c433722c775cba024a391dbb">passive_hosts_checked_last_1hour</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00659"></a>00659 
<a name="l00660"></a>00660                 <span class="comment">/* active service checks over time */</span>
<a name="l00661"></a>00661                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCACTCHK1M&quot;</span>))
<a name="l00662"></a>00662                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a7b1636efc94ff23753592e8a8b0b1d57">active_services_checked_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00663"></a>00663                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCACTCHK5M&quot;</span>))
<a name="l00664"></a>00664                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a26ac776acd4f64f7a385bfd50d9802c6">active_services_checked_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00665"></a>00665                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCACTCHK15M&quot;</span>))
<a name="l00666"></a>00666                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#afba2744eba27ab49a4064611cc8ce273">active_services_checked_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00667"></a>00667                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCACTCHK60M&quot;</span>))
<a name="l00668"></a>00668                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ac70a99f389958677cff7f329fe462d24">active_services_checked_last_1hour</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00669"></a>00669 
<a name="l00670"></a>00670                 <span class="comment">/* passive service checks over time */</span>
<a name="l00671"></a>00671                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCPSVCHK1M&quot;</span>))
<a name="l00672"></a>00672                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a9585459262080c355a13130975a48240">passive_services_checked_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00673"></a>00673                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCPSVCHK5M&quot;</span>))
<a name="l00674"></a>00674                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a4d2fb1f9cbe0b31b4c205c5de044bd7b">passive_services_checked_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00675"></a>00675                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCPSVCHK15M&quot;</span>))
<a name="l00676"></a>00676                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a3daa04082a78d505db2a52447cfd7492">passive_services_checked_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00677"></a>00677                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCPSVCHK60M&quot;</span>))
<a name="l00678"></a>00678                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#acb90a86206d93b92b9d419f27b43ddff">passive_services_checked_last_1hour</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00679"></a>00679 
<a name="l00680"></a>00680                 <span class="comment">/* host check statistics */</span>
<a name="l00681"></a>00681                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMACTHSTCHECKS1M&quot;</span>))
<a name="l00682"></a>00682                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#adca7831929169d212eea75d0f44a6928">active_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00683"></a>00683                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMACTHSTCHECKS5M&quot;</span>))
<a name="l00684"></a>00684                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a2d834a5beff8ca9cb0f0924a0532b5bd">active_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00685"></a>00685                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMACTHSTCHECKS15M&quot;</span>))
<a name="l00686"></a>00686                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a0d655d073aeb42f067549622e81d95df">active_host_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00687"></a>00687                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMOACTHSTCHECKS1M&quot;</span>))
<a name="l00688"></a>00688                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ac67ff165f72efff8aaa5134858d7c15a">active_ondemand_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00689"></a>00689                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMOACTHSTCHECKS5M&quot;</span>))
<a name="l00690"></a>00690                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ad032a31446fc100e7672770b482301ee">active_ondemand_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00691"></a>00691                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMOACTHSTCHECKS15M&quot;</span>))
<a name="l00692"></a>00692                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a4541f9c0be8a1fee6b8aa32bce6f7263">active_ondemand_host_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00693"></a>00693                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSACTHSTCHECKS1M&quot;</span>))
<a name="l00694"></a>00694                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ab97b61a244e2bfe7d29fc5dd3b318c6a">active_scheduled_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00695"></a>00695                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSACTHSTCHECKS5M&quot;</span>))
<a name="l00696"></a>00696                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#aebb4624ac45035b9caa067423ef049b1">active_scheduled_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00697"></a>00697                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSACTHSTCHECKS15M&quot;</span>))
<a name="l00698"></a>00698                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#acc807a0bc5c1420a52e4b154d7f49765">active_scheduled_host_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00699"></a>00699                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMPARHSTCHECKS1M&quot;</span>))
<a name="l00700"></a>00700                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a8d4dfb97d89575feaf1768685d898532">parallel_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00701"></a>00701                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMPARHSTCHECKS5M&quot;</span>))
<a name="l00702"></a>00702                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ada4f6c171176a6563c2835a27345eb52">parallel_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00703"></a>00703                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMPARHSTCHECKS15M&quot;</span>))
<a name="l00704"></a>00704                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ad900952678521c33b31cc2aae8baad28">parallel_host_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00705"></a>00705                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSERHSTCHECKS1M&quot;</span>))
<a name="l00706"></a>00706                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ae6a56f2762c0c57cfc9b7b9f8d59b076">serial_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00707"></a>00707                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSERHSTCHECKS5M&quot;</span>))
<a name="l00708"></a>00708                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a99f6fdecab332141ba69fd1562a27e59">serial_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00709"></a>00709                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSERHSTCHECKS15M&quot;</span>))
<a name="l00710"></a>00710                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a8a71ff973899ce5426746c5e0c8c9833">serial_host_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00711"></a>00711                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMPSVHSTCHECKS1M&quot;</span>))
<a name="l00712"></a>00712                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a2f060d01f244c7029428beb8cdf6ecfb">passive_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00713"></a>00713                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMPSVHSTCHECKS5M&quot;</span>))
<a name="l00714"></a>00714                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#aebfa713a6c97b738b0a535eee2fe4971">passive_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00715"></a>00715                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMPSVHSTCHECKS15M&quot;</span>))
<a name="l00716"></a>00716                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#adea9b01f77d72f0206985eeb2d3fa925">passive_host_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00717"></a>00717                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMCACHEDHSTCHECKS1M&quot;</span>))
<a name="l00718"></a>00718                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a0c1bf0c7e21ba324b9dc6e61a5b9e74d">active_cached_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00719"></a>00719                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMCACHEDHSTCHECKS5M&quot;</span>))
<a name="l00720"></a>00720                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a2eabeddbd5626d30c988562466cd912a">active_cached_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00721"></a>00721                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMCACHEDHSTCHECKS15M&quot;</span>))
<a name="l00722"></a>00722                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#abfb6a58e41ce513ee28af67ce5d7a8bb">active_cached_host_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00723"></a>00723 
<a name="l00724"></a>00724                 <span class="comment">/* service check statistics */</span>
<a name="l00725"></a>00725                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMACTSVCCHECKS1M&quot;</span>))
<a name="l00726"></a>00726                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#afa2aba124d2d40ede643f1df6d5f66c2">active_service_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00727"></a>00727                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMACTSVCCHECKS5M&quot;</span>))
<a name="l00728"></a>00728                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ad3814568c2c73a4689137bfd4b8a30a7">active_service_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00729"></a>00729                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMACTSVCCHECKS15M&quot;</span>))
<a name="l00730"></a>00730                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#aec496ec5a68e4c71483fdcfb20c702e7">active_service_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00731"></a>00731                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMOACTSVCCHECKS1M&quot;</span>))
<a name="l00732"></a>00732                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a6ccfa3b22ab78043b53b9d23f58a0293">active_ondemand_service_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00733"></a>00733                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMOACTSVCCHECKS5M&quot;</span>))
<a name="l00734"></a>00734                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a2251efdb814145905d321c5b469ab339">active_ondemand_service_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00735"></a>00735                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMOACTSVCCHECKS15M&quot;</span>))
<a name="l00736"></a>00736                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#aa0f5150075a9c93e04c4e261bd61fce8">active_ondemand_service_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00737"></a>00737                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSACTSVCCHECKS1M&quot;</span>))
<a name="l00738"></a>00738                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a377ba47d905193a309e8aac07923ed64">active_scheduled_service_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00739"></a>00739                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSACTSVCCHECKS5M&quot;</span>))
<a name="l00740"></a>00740                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#abee077639cae008ef43add11c8f63bcd">active_scheduled_service_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00741"></a>00741                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSACTSVCCHECKS15M&quot;</span>))
<a name="l00742"></a>00742                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#aee4fa8b66b0a95e438af74b7a937aa09">active_scheduled_service_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00743"></a>00743                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMPSVSVCCHECKS1M&quot;</span>))
<a name="l00744"></a>00744                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a0b6902c696c286c0ee1bf41419a04bce">passive_service_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00745"></a>00745                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMPSVSVCCHECKS5M&quot;</span>))
<a name="l00746"></a>00746                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#aab662dfa44c5d2c5f2cfe273b1cdec65">passive_service_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00747"></a>00747                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMPSVSVCCHECKS15M&quot;</span>))
<a name="l00748"></a>00748                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a6e4c42e61c3a49976567374b7565f7a3">passive_service_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00749"></a>00749                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMCACHEDSVCCHECKS1M&quot;</span>))
<a name="l00750"></a>00750                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a927ed208d02b281b407bd3626824a05c">active_cached_service_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00751"></a>00751                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMCACHEDSVCCHECKS5M&quot;</span>))
<a name="l00752"></a>00752                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a4472f160b9bd593a95ca27421c19fae0">active_cached_service_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00753"></a>00753                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMCACHEDSVCCHECKS15M&quot;</span>))
<a name="l00754"></a>00754                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a33e4a1513c493832d4e3761b60f91991">active_cached_service_checks_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00755"></a>00755 
<a name="l00756"></a>00756                 <span class="comment">/* external command stats */</span>
<a name="l00757"></a>00757                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMEXTCMDS1M&quot;</span>))
<a name="l00758"></a>00758                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a606644b85026fcf4b3bf9dccd50b4e3d">external_commands_last_1min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00759"></a>00759                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMEXTCMDS5M&quot;</span>))
<a name="l00760"></a>00760                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#aadb9ff9b67e95f20138f5baab81db6b5">external_commands_last_5min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00761"></a>00761                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMEXTCMDS15M&quot;</span>))
<a name="l00762"></a>00762                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a4b3e119f0df8cb16ac54efd05c44da35">external_commands_last_15min</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00763"></a>00763 
<a name="l00764"></a>00764                 <span class="comment">/* service states */</span>
<a name="l00765"></a>00765                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCOK&quot;</span>))
<a name="l00766"></a>00766                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a07e6809ed5e65aa004b6f81f86ec16da">services_ok</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00767"></a>00767                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCWARN&quot;</span>))
<a name="l00768"></a>00768                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a3325124621a4b2db4b41d947ae74a0bb">services_warning</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00769"></a>00769                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCUNKN&quot;</span>))
<a name="l00770"></a>00770                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a742a2bd058735bb92be466fdbb307806">services_unknown</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00771"></a>00771                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCCRIT&quot;</span>))
<a name="l00772"></a>00772                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a215c9fd19808c2d70ac689496b201db4">services_critical</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00773"></a>00773                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCPROB&quot;</span>))
<a name="l00774"></a>00774                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a3325124621a4b2db4b41d947ae74a0bb">services_warning</a>+<a class="code" href="icingastats_8c.html#a742a2bd058735bb92be466fdbb307806">services_unknown</a>+<a class="code" href="icingastats_8c.html#a215c9fd19808c2d70ac689496b201db4">services_critical</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00775"></a>00775 
<a name="l00776"></a>00776                 <span class="comment">/* misc service info */</span>
<a name="l00777"></a>00777                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCCHECKED&quot;</span>))
<a name="l00778"></a>00778                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a2acd6c0cf1540db95dca076bbde27b0b">services_checked</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00779"></a>00779                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCSCHEDULED&quot;</span>))
<a name="l00780"></a>00780                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a4b1c8b83beac13844ca1f02a727e5101">services_scheduled</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00781"></a>00781                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCFLAPPING&quot;</span>))
<a name="l00782"></a>00782                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a6e45ee5b6e61f8b77bd070c1260060d1">services_flapping</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00783"></a>00783                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMSVCDOWNTIME&quot;</span>))
<a name="l00784"></a>00784                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a8d37798e9029e803d6a5969e94c9d3a6">services_in_downtime</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00785"></a>00785 
<a name="l00786"></a>00786                 <span class="comment">/* host states */</span>
<a name="l00787"></a>00787                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTUP&quot;</span>))
<a name="l00788"></a>00788                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a4ec32f7c80efff6bfc434128b41030f0">hosts_up</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00789"></a>00789                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTDOWN&quot;</span>))
<a name="l00790"></a>00790                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a62582cce6c031c753beb1ab6ef5a6105">hosts_down</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00791"></a>00791                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTUNR&quot;</span>))
<a name="l00792"></a>00792                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#acf88e3e13c203ffde5ccb16837644078">hosts_unreachable</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00793"></a>00793                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTPROB&quot;</span>))
<a name="l00794"></a>00794                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a62582cce6c031c753beb1ab6ef5a6105">hosts_down</a>+<a class="code" href="icingastats_8c.html#acf88e3e13c203ffde5ccb16837644078">hosts_unreachable</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00795"></a>00795 
<a name="l00796"></a>00796                 <span class="comment">/* misc host info */</span>
<a name="l00797"></a>00797                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTCHECKED&quot;</span>))
<a name="l00798"></a>00798                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#ac3dd883bdd6db35506b06b9ffdc7ed92">hosts_checked</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00799"></a>00799                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTSCHEDULED&quot;</span>))
<a name="l00800"></a>00800                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#af94ff87658c53ab34e3713530a89faf5">hosts_scheduled</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00801"></a>00801                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTFLAPPING&quot;</span>))
<a name="l00802"></a>00802                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#a1bec17d54038bb2f121015b347fcea65">hosts_flapping</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00803"></a>00803                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_ptr,<span class="stringliteral">&quot;NUMHSTDOWNTIME&quot;</span>))
<a name="l00804"></a>00804                         printf(<span class="stringliteral">&quot;%d%s&quot;</span>,<a class="code" href="icingastats_8c.html#af47b634ea7dace98b8e6941883d93577">hosts_in_downtime</a>,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00805"></a>00805 
<a name="l00806"></a>00806 <span class="comment">/* make sure gcc3 won&#39;t hit here */</span>
<a name="l00807"></a>00807 <span class="preprocessor">#ifndef GCCTOOOLD</span>
<a name="l00808"></a>00808 <span class="preprocessor"></span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strstr(temp_ptr,<span class="stringliteral">&quot;PROFILE_&quot;</span>) &amp;&amp; <a class="code" href="base_2config_8c.html#a32244f609ee91c91f754bd38fea7ae03">event_profiling_enabled</a>)
<a name="l00809"></a>00809                         <a class="code" href="statsprofiler_8c.html#a4f9c4b5e85a577397e01450afa533146">profile_data_output_mrtg</a>(temp_ptr+strlen(<span class="stringliteral">&quot;PROFILE_&quot;</span>),<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00810"></a>00810 <span class="preprocessor">#endif</span>
<a name="l00811"></a>00811 <span class="preprocessor"></span>                <span class="keywordflow">else</span>
<a name="l00812"></a>00812                         printf(<span class="stringliteral">&quot;%s%s&quot;</span>,temp_ptr,<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>);
<a name="l00813"></a>00813                 }
<a name="l00814"></a>00814 
<a name="l00815"></a>00815         <span class="comment">/* add a newline if necessary */</span>
<a name="l00816"></a>00816         <span class="keywordflow">if</span>(strcmp(<a class="code" href="icingastats_8c.html#a89d538c24a53767d8c5c9f1a2185ee4f">mrtg_delimiter</a>,<span class="stringliteral">&quot;\n&quot;</span>))
<a name="l00817"></a>00817                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00818"></a>00818 
<a name="l00819"></a>00819         <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;
<a name="l00820"></a>00820         }
<a name="l00821"></a>00821 
<a name="l00822"></a>00822 
<a name="l00823"></a><a class="code" href="icingastats_8c.html#ab08bef27321a9f7169b97e5cd52ca0bb">00823</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#ab08bef27321a9f7169b97e5cd52ca0bb">display_stats</a>(<span class="keywordtype">void</span>){
<a name="l00824"></a>00824         time_t <a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00825"></a>00825         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> time_difference;
<a name="l00826"></a>00826         <span class="keywordtype">int</span> days;
<a name="l00827"></a>00827         <span class="keywordtype">int</span> hours;
<a name="l00828"></a>00828         <span class="keywordtype">int</span> minutes;
<a name="l00829"></a>00829         <span class="keywordtype">int</span> seconds;
<a name="l00830"></a>00830 
<a name="l00831"></a>00831         time(&amp;current_time);
<a name="l00832"></a>00832 
<a name="l00833"></a>00833         printf(<span class="stringliteral">&quot;CURRENT STATUS DATA\n&quot;</span>);
<a name="l00834"></a>00834         printf(<span class="stringliteral">&quot;------------------------------------------------------\n&quot;</span>);
<a name="l00835"></a>00835         printf(<span class="stringliteral">&quot;Status File:                            %s\n&quot;</span>,(<a class="code" href="icingastats_8c.html#ad49e4dcb9d7bc0a15932db72e027d831">icingastats_file</a>!=NULL)?<a class="code" href="icingastats_8c.html#ad49e4dcb9d7bc0a15932db72e027d831">icingastats_file</a>:<a class="code" href="icingastats_8c.html#a2b044792c0428de3366552f40e7e66f8">status_file</a>);
<a name="l00836"></a>00836         time_difference=(current_time-<a class="code" href="icingastats_8c.html#a07c643af554ecd9fc767d669b34a97ee">status_creation_date</a>);
<a name="l00837"></a>00837         <a class="code" href="icingastats_8c.html#a13230b1b393a52cbe4c41c44d90085ac">get_time_breakdown</a>(time_difference,&amp;days,&amp;hours,&amp;minutes,&amp;seconds);
<a name="l00838"></a>00838         printf(<span class="stringliteral">&quot;Status File Age:                        %dd %dh %dm %ds\n&quot;</span>,days,hours,minutes,seconds);
<a name="l00839"></a>00839         printf(<span class="stringliteral">&quot;Status File Version:                    %s\n&quot;</span>,<a class="code" href="icingastats_8c.html#aaca19d2016ef211986f33ff6b2118861">status_version</a>);
<a name="l00840"></a>00840         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00841"></a>00841         time_difference=(current_time-<a class="code" href="broker_8c.html#a2b5a4f2875a1a545f44ac2faad7a6b67">program_start</a>);
<a name="l00842"></a>00842         <a class="code" href="icingastats_8c.html#a13230b1b393a52cbe4c41c44d90085ac">get_time_breakdown</a>(time_difference,&amp;days,&amp;hours,&amp;minutes,&amp;seconds);
<a name="l00843"></a>00843         printf(<span class="stringliteral">&quot;Program Running Time:                   %dd %dh %dm %ds\n&quot;</span>,days,hours,minutes,seconds);
<a name="l00844"></a>00844         printf(<span class="stringliteral">&quot;%s PID:                             %lu\n&quot;</span>, <a class="code" href="include_2common_8h.html#a3b6a35b8be8405a9db72cc5dea97954b">PROGRAM_NAME</a>, <a class="code" href="broker_8c.html#ad99d124d1c85c3b69de36466353f295e">nagios_pid</a>);
<a name="l00845"></a>00845         printf(<span class="stringliteral">&quot;Used/High/Total Command Buffers:        %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a6a1538727bc64354ca7a17890ccff0fc">used_external_command_buffer_slots</a>,<a class="code" href="icingastats_8c.html#a368ab6f581caf767cd105139e2585a47">high_external_command_buffer_slots</a>,<a class="code" href="icingastats_8c.html#a0f3a23d5bc3d1e85a9240920806325d2">total_external_command_buffer_slots</a>);
<a name="l00846"></a>00846         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00847"></a>00847         printf(<span class="stringliteral">&quot;Total Services:                         %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a76dd1f3964760b8a1ce6fb3372869976">status_service_entries</a>);
<a name="l00848"></a>00848         printf(<span class="stringliteral">&quot;Services Checked:                       %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a2acd6c0cf1540db95dca076bbde27b0b">services_checked</a>);
<a name="l00849"></a>00849         printf(<span class="stringliteral">&quot;Services Scheduled:                     %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a4b1c8b83beac13844ca1f02a727e5101">services_scheduled</a>);
<a name="l00850"></a>00850         printf(<span class="stringliteral">&quot;Services Actively Checked:              %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#aade6e0837393e4a19cffa0d89258c04f">active_service_checks</a>);
<a name="l00851"></a>00851         printf(<span class="stringliteral">&quot;Services Passively Checked:             %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a6f3bfe2701558eb468efee63faa7c399">passive_service_checks</a>);
<a name="l00852"></a>00852         printf(<span class="stringliteral">&quot;Total Service State Change:             %.3f / %.3f / %.3f %%\n&quot;</span>,<a class="code" href="icingastats_8c.html#a6e8f56b21346caa50d9cbc6162993554">min_service_state_change</a>,<a class="code" href="icingastats_8c.html#a989fb0bb37d769e99412bb67509f57ef">max_service_state_change</a>,<a class="code" href="icingastats_8c.html#a47e511b367558a526430ec661efb90a9">average_service_state_change</a>);
<a name="l00853"></a>00853         printf(<span class="stringliteral">&quot;Active Service Latency:                 %.3f / %.3f / %.3f sec\n&quot;</span>,<a class="code" href="icingastats_8c.html#aee5b3d74d8bd3caf489fa758e2110468">min_active_service_latency</a>,<a class="code" href="icingastats_8c.html#a31de1d5330bf0f601e49a8ece9ad414b">max_active_service_latency</a>,<a class="code" href="icingastats_8c.html#a79fb73631f391c82189024e3e0c687ad">average_active_service_latency</a>);
<a name="l00854"></a>00854         printf(<span class="stringliteral">&quot;Active Service Execution Time:          %.3f / %.3f / %.3f sec\n&quot;</span>,<a class="code" href="icingastats_8c.html#a6ab9569f167c445b46e19531e859b367">min_active_service_execution_time</a>,<a class="code" href="icingastats_8c.html#a5c99c2b06ab9fc0b32bd1cdc062fb726">max_active_service_execution_time</a>,<a class="code" href="icingastats_8c.html#a3bcc10b03b507b87f36aa0af9a80a0e7">average_active_service_execution_time</a>);
<a name="l00855"></a>00855         printf(<span class="stringliteral">&quot;Active Service State Change:            %.3f / %.3f / %.3f %%\n&quot;</span>,<a class="code" href="icingastats_8c.html#a18cadc55800349d5a6f41f9991786885">min_active_service_state_change</a>,<a class="code" href="icingastats_8c.html#a8dd5cd15010241bd81a671cdce7f781f">max_active_service_state_change</a>,<a class="code" href="icingastats_8c.html#a9e934eae3acd8429896442f07425bd6f">average_active_service_state_change</a>);
<a name="l00856"></a>00856         printf(<span class="stringliteral">&quot;Active Services Last 1/5/15/60 min:     %d / %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a7b1636efc94ff23753592e8a8b0b1d57">active_services_checked_last_1min</a>,<a class="code" href="icingastats_8c.html#a26ac776acd4f64f7a385bfd50d9802c6">active_services_checked_last_5min</a>,<a class="code" href="icingastats_8c.html#afba2744eba27ab49a4064611cc8ce273">active_services_checked_last_15min</a>,<a class="code" href="icingastats_8c.html#ac70a99f389958677cff7f329fe462d24">active_services_checked_last_1hour</a>);
<a name="l00857"></a>00857         printf(<span class="stringliteral">&quot;Passive Service Latency:                %.3f / %.3f / %.3f sec\n&quot;</span>,<a class="code" href="icingastats_8c.html#aac28691457323877156da4cd6fb843a1">min_passive_service_latency</a>,<a class="code" href="icingastats_8c.html#ad52a3fe1009df9a62dbe19b3583c05ce">max_passive_service_latency</a>,<a class="code" href="icingastats_8c.html#a9e5b19f1a19e0ec0c9223b24267138ba">average_passive_service_latency</a>);
<a name="l00858"></a>00858         printf(<span class="stringliteral">&quot;Passive Service State Change:           %.3f / %.3f / %.3f %%\n&quot;</span>,<a class="code" href="icingastats_8c.html#a33590a99e4a5f895cdfbf7fc383a34b4">min_passive_service_state_change</a>,<a class="code" href="icingastats_8c.html#aec5b19121188fc8442040c904bc38865">max_passive_service_state_change</a>,<a class="code" href="icingastats_8c.html#a9cbe40916fdedb623f6dc4e4717bbdbe">average_passive_service_state_change</a>);
<a name="l00859"></a>00859         printf(<span class="stringliteral">&quot;Passive Services Last 1/5/15/60 min:    %d / %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a9585459262080c355a13130975a48240">passive_services_checked_last_1min</a>,<a class="code" href="icingastats_8c.html#a4d2fb1f9cbe0b31b4c205c5de044bd7b">passive_services_checked_last_5min</a>,<a class="code" href="icingastats_8c.html#a3daa04082a78d505db2a52447cfd7492">passive_services_checked_last_15min</a>,<a class="code" href="icingastats_8c.html#acb90a86206d93b92b9d419f27b43ddff">passive_services_checked_last_1hour</a>);
<a name="l00860"></a>00860         printf(<span class="stringliteral">&quot;Services Ok/Warn/Unk/Crit:              %d / %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a07e6809ed5e65aa004b6f81f86ec16da">services_ok</a>,<a class="code" href="icingastats_8c.html#a3325124621a4b2db4b41d947ae74a0bb">services_warning</a>,<a class="code" href="icingastats_8c.html#a742a2bd058735bb92be466fdbb307806">services_unknown</a>,<a class="code" href="icingastats_8c.html#a215c9fd19808c2d70ac689496b201db4">services_critical</a>);
<a name="l00861"></a>00861         printf(<span class="stringliteral">&quot;Services Flapping:                      %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a6e45ee5b6e61f8b77bd070c1260060d1">services_flapping</a>);
<a name="l00862"></a>00862         printf(<span class="stringliteral">&quot;Services In Downtime:                   %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a8d37798e9029e803d6a5969e94c9d3a6">services_in_downtime</a>);
<a name="l00863"></a>00863         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00864"></a>00864         printf(<span class="stringliteral">&quot;Total Hosts:                            %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a039964f5fb45153a4357af17209d5732">status_host_entries</a>);
<a name="l00865"></a>00865         printf(<span class="stringliteral">&quot;Hosts Checked:                          %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#ac3dd883bdd6db35506b06b9ffdc7ed92">hosts_checked</a>);
<a name="l00866"></a>00866         printf(<span class="stringliteral">&quot;Hosts Scheduled:                        %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#af94ff87658c53ab34e3713530a89faf5">hosts_scheduled</a>);
<a name="l00867"></a>00867         printf(<span class="stringliteral">&quot;Hosts Actively Checked:                 %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a025a7becfdf9bff5d20739c67cb4e4db">active_host_checks</a>);
<a name="l00868"></a>00868         printf(<span class="stringliteral">&quot;Host Passively Checked:                 %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#acd403bfb009e46a810a6b6c2468059b6">passive_host_checks</a>);
<a name="l00869"></a>00869         printf(<span class="stringliteral">&quot;Total Host State Change:                %.3f / %.3f / %.3f %%\n&quot;</span>,<a class="code" href="icingastats_8c.html#a6b59d0380b2808f99d21713ef4920a31">min_host_state_change</a>,<a class="code" href="icingastats_8c.html#a956ce635ef8a6cbe1b15823b6e0fc54e">max_host_state_change</a>,<a class="code" href="icingastats_8c.html#ab6d8e099e61dd20e286499121be77a30">average_host_state_change</a>);
<a name="l00870"></a>00870         printf(<span class="stringliteral">&quot;Active Host Latency:                    %.3f / %.3f / %.3f sec\n&quot;</span>,<a class="code" href="icingastats_8c.html#a0ab48a2d9498dde0375f53d6f66c80a3">min_active_host_latency</a>,<a class="code" href="icingastats_8c.html#a14954b8cb08e05bf6710a24d048a3686">max_active_host_latency</a>,<a class="code" href="icingastats_8c.html#a6b9b860b9466d66b1b189183d70dd9b9">average_active_host_latency</a>);
<a name="l00871"></a>00871         printf(<span class="stringliteral">&quot;Active Host Execution Time:             %.3f / %.3f / %.3f sec\n&quot;</span>,<a class="code" href="icingastats_8c.html#a2a3af03b1d2513e0b2872aacf55fc2db">min_active_host_execution_time</a>,<a class="code" href="icingastats_8c.html#a8a4b7d26c2ea92b5915cd61fb49d3bbb">max_active_host_execution_time</a>,<a class="code" href="icingastats_8c.html#ab10b78b342e939e96b9e409034ec9ce9">average_active_host_execution_time</a>);
<a name="l00872"></a>00872         printf(<span class="stringliteral">&quot;Active Host State Change:               %.3f / %.3f / %.3f %%\n&quot;</span>,<a class="code" href="icingastats_8c.html#ab32fa8c508b9be8894e5b81767fc7057">min_active_host_state_change</a>,<a class="code" href="icingastats_8c.html#aab8aeed97b702aabb5cee8b2ead92263">max_active_host_state_change</a>,<a class="code" href="icingastats_8c.html#af23a17e7ac947a01dc021c46ac926054">average_active_host_state_change</a>);
<a name="l00873"></a>00873         printf(<span class="stringliteral">&quot;Active Hosts Last 1/5/15/60 min:        %d / %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#ae20347db6462f6d40a6792c1dded22fc">active_hosts_checked_last_1min</a>,<a class="code" href="icingastats_8c.html#ae7aa46cc2c982ada2a718bd6d3cf0497">active_hosts_checked_last_5min</a>,<a class="code" href="icingastats_8c.html#a36e7ed9e012d64c831520b5fe0dda57e">active_hosts_checked_last_15min</a>,<a class="code" href="icingastats_8c.html#a187696d3ec08b09377306fa226302d69">active_hosts_checked_last_1hour</a>);
<a name="l00874"></a>00874         printf(<span class="stringliteral">&quot;Passive Host Latency:                   %.3f / %.3f / %.3f sec\n&quot;</span>,<a class="code" href="icingastats_8c.html#a3271652a61c5ff739093dd8c6f591fa9">min_passive_host_latency</a>,<a class="code" href="icingastats_8c.html#ae283a04ceba00ff0fddbc63ccc48a190">max_passive_host_latency</a>,<a class="code" href="icingastats_8c.html#adbe82b3981c246624c20650468566c0e">average_passive_host_latency</a>);
<a name="l00875"></a>00875         printf(<span class="stringliteral">&quot;Passive Host State Change:              %.3f / %.3f / %.3f %%\n&quot;</span>,<a class="code" href="icingastats_8c.html#a56b228e3c2fb31d7e517608494fb1713">min_passive_host_state_change</a>,<a class="code" href="icingastats_8c.html#a17b9761674be038956e4a19565869e19">max_passive_host_state_change</a>,<a class="code" href="icingastats_8c.html#a50c72bad422c3859c3bfc13331bdeeaa">average_passive_host_state_change</a>);
<a name="l00876"></a>00876         printf(<span class="stringliteral">&quot;Passive Hosts Last 1/5/15/60 min:       %d / %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a9bb4fa54e6a2e6cf2dcba58fa6861270">passive_hosts_checked_last_1min</a>,<a class="code" href="icingastats_8c.html#a499d9e6ba02eeaf73c20a9d922392adb">passive_hosts_checked_last_5min</a>,<a class="code" href="icingastats_8c.html#a45e936de1abb812a81d4452e3f08ff29">passive_hosts_checked_last_15min</a>,<a class="code" href="icingastats_8c.html#ac5fec1d8c433722c775cba024a391dbb">passive_hosts_checked_last_1hour</a>);
<a name="l00877"></a>00877         printf(<span class="stringliteral">&quot;Hosts Up/Down/Unreach:                  %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a4ec32f7c80efff6bfc434128b41030f0">hosts_up</a>,<a class="code" href="icingastats_8c.html#a62582cce6c031c753beb1ab6ef5a6105">hosts_down</a>,<a class="code" href="icingastats_8c.html#acf88e3e13c203ffde5ccb16837644078">hosts_unreachable</a>);
<a name="l00878"></a>00878         printf(<span class="stringliteral">&quot;Hosts Flapping:                         %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a1bec17d54038bb2f121015b347fcea65">hosts_flapping</a>);
<a name="l00879"></a>00879         printf(<span class="stringliteral">&quot;Hosts In Downtime:                      %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#af47b634ea7dace98b8e6941883d93577">hosts_in_downtime</a>);
<a name="l00880"></a>00880         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00881"></a>00881         printf(<span class="stringliteral">&quot;Active Host Checks Last 1/5/15 min:     %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#adca7831929169d212eea75d0f44a6928">active_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a2d834a5beff8ca9cb0f0924a0532b5bd">active_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a0d655d073aeb42f067549622e81d95df">active_host_checks_last_15min</a>);
<a name="l00882"></a>00882         printf(<span class="stringliteral">&quot;   Scheduled:                           %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#ab97b61a244e2bfe7d29fc5dd3b318c6a">active_scheduled_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#aebb4624ac45035b9caa067423ef049b1">active_scheduled_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#acc807a0bc5c1420a52e4b154d7f49765">active_scheduled_host_checks_last_15min</a>);
<a name="l00883"></a>00883         printf(<span class="stringliteral">&quot;   On-demand:                           %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#ac67ff165f72efff8aaa5134858d7c15a">active_ondemand_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#ad032a31446fc100e7672770b482301ee">active_ondemand_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a4541f9c0be8a1fee6b8aa32bce6f7263">active_ondemand_host_checks_last_15min</a>);
<a name="l00884"></a>00884         printf(<span class="stringliteral">&quot;   Parallel:                            %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a8d4dfb97d89575feaf1768685d898532">parallel_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#ada4f6c171176a6563c2835a27345eb52">parallel_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#ad900952678521c33b31cc2aae8baad28">parallel_host_checks_last_15min</a>);
<a name="l00885"></a>00885         printf(<span class="stringliteral">&quot;   Serial:                              %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#ae6a56f2762c0c57cfc9b7b9f8d59b076">serial_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a99f6fdecab332141ba69fd1562a27e59">serial_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a8a71ff973899ce5426746c5e0c8c9833">serial_host_checks_last_15min</a>);
<a name="l00886"></a>00886         printf(<span class="stringliteral">&quot;   Cached:                              %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a0c1bf0c7e21ba324b9dc6e61a5b9e74d">active_cached_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a2eabeddbd5626d30c988562466cd912a">active_cached_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#abfb6a58e41ce513ee28af67ce5d7a8bb">active_cached_host_checks_last_15min</a>);
<a name="l00887"></a>00887         printf(<span class="stringliteral">&quot;Passive Host Checks Last 1/5/15 min:    %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a2f060d01f244c7029428beb8cdf6ecfb">passive_host_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#aebfa713a6c97b738b0a535eee2fe4971">passive_host_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#adea9b01f77d72f0206985eeb2d3fa925">passive_host_checks_last_15min</a>);
<a name="l00888"></a>00888 
<a name="l00889"></a>00889         printf(<span class="stringliteral">&quot;Active Service Checks Last 1/5/15 min:  %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#afa2aba124d2d40ede643f1df6d5f66c2">active_service_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#ad3814568c2c73a4689137bfd4b8a30a7">active_service_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#aec496ec5a68e4c71483fdcfb20c702e7">active_service_checks_last_15min</a>);
<a name="l00890"></a>00890         printf(<span class="stringliteral">&quot;   Scheduled:                           %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a377ba47d905193a309e8aac07923ed64">active_scheduled_service_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#abee077639cae008ef43add11c8f63bcd">active_scheduled_service_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#aee4fa8b66b0a95e438af74b7a937aa09">active_scheduled_service_checks_last_15min</a>);
<a name="l00891"></a>00891         printf(<span class="stringliteral">&quot;   On-demand:                           %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a6ccfa3b22ab78043b53b9d23f58a0293">active_ondemand_service_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a2251efdb814145905d321c5b469ab339">active_ondemand_service_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#aa0f5150075a9c93e04c4e261bd61fce8">active_ondemand_service_checks_last_15min</a>);
<a name="l00892"></a>00892         printf(<span class="stringliteral">&quot;   Cached:                              %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a927ed208d02b281b407bd3626824a05c">active_cached_service_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#a4472f160b9bd593a95ca27421c19fae0">active_cached_service_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a33e4a1513c493832d4e3761b60f91991">active_cached_service_checks_last_15min</a>);
<a name="l00893"></a>00893         printf(<span class="stringliteral">&quot;Passive Service Checks Last 1/5/15 min: %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a0b6902c696c286c0ee1bf41419a04bce">passive_service_checks_last_1min</a>,<a class="code" href="icingastats_8c.html#aab662dfa44c5d2c5f2cfe273b1cdec65">passive_service_checks_last_5min</a>,<a class="code" href="icingastats_8c.html#a6e4c42e61c3a49976567374b7565f7a3">passive_service_checks_last_15min</a>);
<a name="l00894"></a>00894         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00895"></a>00895         printf(<span class="stringliteral">&quot;External Commands Last 1/5/15 min:      %d / %d / %d\n&quot;</span>,<a class="code" href="icingastats_8c.html#a606644b85026fcf4b3bf9dccd50b4e3d">external_commands_last_1min</a>,<a class="code" href="icingastats_8c.html#aadb9ff9b67e95f20138f5baab81db6b5">external_commands_last_5min</a>,<a class="code" href="icingastats_8c.html#a4b3e119f0df8cb16ac54efd05c44da35">external_commands_last_15min</a>);
<a name="l00896"></a>00896         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00897"></a>00897         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00898"></a>00898 
<a name="l00899"></a>00899 <span class="comment">/* make sure gcc3 won&#39;t hit here */</span>
<a name="l00900"></a>00900 <span class="preprocessor">#ifndef GCCTOOOLD</span>
<a name="l00901"></a>00901 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(<a class="code" href="base_2config_8c.html#a32244f609ee91c91f754bd38fea7ae03">event_profiling_enabled</a>){
<a name="l00902"></a>00902                 printf(<span class="stringliteral">&quot;\n\nEVENT PROFILE DATA:\t\ttotal seconds spent / number of events / avg time per event / events per second \n&quot;</span>);
<a name="l00903"></a>00903                 printf(<span class="stringliteral">&quot;----------------------------------------------------\n&quot;</span>);
<a name="l00904"></a>00904 
<a name="l00905"></a>00905                 <a class="code" href="statsprofiler_8c.html#ae233bb64b44b3a63c66ce5588753329c">profile_data_print</a>();
<a name="l00906"></a>00906         }
<a name="l00907"></a>00907 <span class="preprocessor">#endif</span>
<a name="l00908"></a>00908 <span class="preprocessor"></span>
<a name="l00909"></a>00909 
<a name="l00910"></a>00910         <span class="comment">/*</span>
<a name="l00911"></a>00911 <span class="comment">        printf(&quot;CURRENT COMMENT DATA\n&quot;);</span>
<a name="l00912"></a>00912 <span class="comment">        printf(&quot;----------------------------------------------------\n&quot;);</span>
<a name="l00913"></a>00913 <span class="comment">        printf(&quot;\n&quot;);</span>
<a name="l00914"></a>00914 <span class="comment">        printf(&quot;\n&quot;);</span>
<a name="l00915"></a>00915 <span class="comment"></span>
<a name="l00916"></a>00916 <span class="comment">        printf(&quot;CURRENT DOWNTIME DATA\n&quot;);</span>
<a name="l00917"></a>00917 <span class="comment">        printf(&quot;----------------------------------------------------\n&quot;);</span>
<a name="l00918"></a>00918 <span class="comment">        printf(&quot;\n&quot;);</span>
<a name="l00919"></a>00919 <span class="comment">        */</span>
<a name="l00920"></a>00920 
<a name="l00921"></a>00921         <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;
<a name="l00922"></a>00922         }
<a name="l00923"></a>00923 
<a name="l00924"></a>00924 
<a name="l00925"></a><a class="code" href="icingastats_8c.html#a70ee58b1b20518921baeec2ad789cbdf">00925</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a70ee58b1b20518921baeec2ad789cbdf">read_config_file</a>(<span class="keywordtype">void</span>){
<a name="l00926"></a>00926         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="include_2common_8h.html#a23c82337fe6c21111837512469ea40af">MAX_INPUT_BUFFER</a>];
<a name="l00927"></a>00927         FILE *fp;
<a name="l00928"></a>00928         <span class="keywordtype">char</span> *var;
<a name="l00929"></a>00929         <span class="keywordtype">char</span> *val;
<a name="l00930"></a>00930 
<a name="l00931"></a>00931 
<a name="l00932"></a>00932         fp=fopen(<a class="code" href="icingastats_8c.html#a7e14c4b6442d6e890227b6fdf8b9cbdd">main_config_file</a>,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l00933"></a>00933         <span class="keywordflow">if</span>(fp==NULL)
<a name="l00934"></a>00934                 <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>;
<a name="l00935"></a>00935 
<a name="l00936"></a>00936         <span class="comment">/* read all lines from the main Icinga config file */</span>
<a name="l00937"></a>00937         <span class="keywordflow">while</span>(fgets(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1,fp)){
<a name="l00938"></a>00938 
<a name="l00939"></a>00939                 <a class="code" href="icingastats_8c.html#a44ed939e710ce4674954d98865b42ec0">strip</a>(temp_buffer);
<a name="l00940"></a>00940 
<a name="l00941"></a>00941                 <span class="comment">/* skip blank lines and comments */</span>
<a name="l00942"></a>00942                 <span class="keywordflow">if</span>(temp_buffer[0]==<span class="charliteral">&#39;#&#39;</span> || temp_buffer[0]==<span class="stringliteral">&#39;\x0&#39;</span>)
<a name="l00943"></a>00943                         <span class="keywordflow">continue</span>;
<a name="l00944"></a>00944 
<a name="l00945"></a>00945                 var=strtok(temp_buffer,<span class="stringliteral">&quot;=&quot;</span>);
<a name="l00946"></a>00946                 val=strtok(NULL,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00947"></a>00947                 <span class="keywordflow">if</span>(val==NULL)
<a name="l00948"></a>00948                         <span class="keywordflow">continue</span>;
<a name="l00949"></a>00949 
<a name="l00950"></a>00950                 <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;status_file&quot;</span>) || !strcmp(var,<span class="stringliteral">&quot;status_log&quot;</span>) || !strcmp(var,<span class="stringliteral">&quot;xsddefault_status_log&quot;</span>)){
<a name="l00951"></a>00951                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a2b044792c0428de3366552f40e7e66f8">status_file</a>)
<a name="l00952"></a>00952                                 free(<a class="code" href="icingastats_8c.html#a2b044792c0428de3366552f40e7e66f8">status_file</a>);
<a name="l00953"></a>00953                         <a class="code" href="icingastats_8c.html#a2b044792c0428de3366552f40e7e66f8">status_file</a>=strdup(val);
<a name="l00954"></a>00954                         }
<a name="l00955"></a>00955 
<a name="l00956"></a>00956                 }
<a name="l00957"></a>00957 
<a name="l00958"></a>00958         fclose(fp);
<a name="l00959"></a>00959 
<a name="l00960"></a>00960         <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;
<a name="l00961"></a>00961         }
<a name="l00962"></a>00962 
<a name="l00963"></a>00963 
<a name="l00964"></a><a class="code" href="icingastats_8c.html#abc7c79a04a38e92e74d3dedb20649aa7">00964</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#abc7c79a04a38e92e74d3dedb20649aa7">read_status_file</a>(<span class="keywordtype">void</span>){
<a name="l00965"></a>00965         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="include_2common_8h.html#a23c82337fe6c21111837512469ea40af">MAX_INPUT_BUFFER</a>];
<a name="l00966"></a>00966         FILE *fp=NULL;
<a name="l00967"></a>00967         <span class="keywordtype">int</span> data_type=<a class="code" href="icingastats_8c.html#a864f9af5e895a674f591929cecf288bc">STATUS_NO_DATA</a>;
<a name="l00968"></a>00968         <span class="keywordtype">char</span> *var=NULL;
<a name="l00969"></a>00969         <span class="keywordtype">char</span> *val=NULL;
<a name="l00970"></a>00970         <span class="keywordtype">char</span> *temp_ptr=NULL;
<a name="l00971"></a>00971         time_t <a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l00972"></a>00972         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> time_difference=0L;
<a name="l00973"></a>00973 
<a name="l00974"></a>00974         <span class="keywordtype">double</span> execution_time=0.0;
<a name="l00975"></a>00975         <span class="keywordtype">double</span> latency=0.0;
<a name="l00976"></a>00976         <span class="keywordtype">int</span> check_type=<a class="code" href="include_2common_8h.html#ae9ca0dbecc9fa615f650f349a9b410f2">SERVICE_CHECK_ACTIVE</a>;
<a name="l00977"></a>00977         <span class="keywordtype">int</span> current_state=<a class="code" href="cgiutils_8h.html#a35937514c20ebac19d6598f04416db7e">STATE_OK</a>;
<a name="l00978"></a>00978         <span class="keywordtype">double</span> state_change=0.0;
<a name="l00979"></a>00979         <span class="keywordtype">int</span> is_flapping=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00980"></a>00980         <span class="keywordtype">int</span> downtime_depth=0;
<a name="l00981"></a>00981         time_t last_check=0L;
<a name="l00982"></a>00982         <span class="keywordtype">int</span> should_be_scheduled=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00983"></a>00983         <span class="keywordtype">int</span> has_been_checked=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00984"></a>00984 
<a name="l00985"></a>00985 
<a name="l00986"></a>00986         time(&amp;current_time);
<a name="l00987"></a>00987 
<a name="l00988"></a>00988         fp=fopen(<a class="code" href="icingastats_8c.html#a2b044792c0428de3366552f40e7e66f8">status_file</a>,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l00989"></a>00989         <span class="keywordflow">if</span>(fp==NULL)
<a name="l00990"></a>00990                 <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>;
<a name="l00991"></a>00991 
<a name="l00992"></a>00992         <span class="comment">/* read all lines in the status file */</span>
<a name="l00993"></a>00993         <span class="keywordflow">while</span>(fgets(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1,fp)){
<a name="l00994"></a>00994 
<a name="l00995"></a>00995                 <span class="comment">/* skip blank lines and comments */</span>
<a name="l00996"></a>00996                 <span class="keywordflow">if</span>(temp_buffer[0]==<span class="charliteral">&#39;#&#39;</span> || temp_buffer[0]==<span class="stringliteral">&#39;\x0&#39;</span>)
<a name="l00997"></a>00997                         <span class="keywordflow">continue</span>;
<a name="l00998"></a>00998 
<a name="l00999"></a>00999                 <a class="code" href="icingastats_8c.html#a44ed939e710ce4674954d98865b42ec0">strip</a>(temp_buffer);
<a name="l01000"></a>01000 
<a name="l01001"></a>01001                 <span class="comment">/* start of definition */</span>
<a name="l01002"></a>01002                 <span class="keywordflow">if</span>(!strcmp(temp_buffer,<span class="stringliteral">&quot;servicestatus {&quot;</span>)){
<a name="l01003"></a>01003                         data_type=<a class="code" href="icingastats_8c.html#aabc80f1326bfd5b35c701dc545ea415f">STATUS_SERVICE_DATA</a>;
<a name="l01004"></a>01004                         <a class="code" href="icingastats_8c.html#a76dd1f3964760b8a1ce6fb3372869976">status_service_entries</a>++;
<a name="l01005"></a>01005                         }
<a name="l01006"></a>01006                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_buffer,<span class="stringliteral">&quot;hoststatus {&quot;</span>)){
<a name="l01007"></a>01007                         data_type=<a class="code" href="icingastats_8c.html#a49f0d8af1791c0b852b28443d3863da3">STATUS_HOST_DATA</a>;
<a name="l01008"></a>01008                         <a class="code" href="icingastats_8c.html#a039964f5fb45153a4357af17209d5732">status_host_entries</a>++;
<a name="l01009"></a>01009                         }
<a name="l01010"></a>01010                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_buffer,<span class="stringliteral">&quot;info {&quot;</span>))
<a name="l01011"></a>01011                         data_type=<a class="code" href="icingastats_8c.html#a6f82fb4bb971c65deef1bf4c8b4de1b7">STATUS_INFO_DATA</a>;
<a name="l01012"></a>01012                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_buffer,<span class="stringliteral">&quot;programstatus {&quot;</span>))
<a name="l01013"></a>01013                         data_type=<a class="code" href="icingastats_8c.html#ab52baf6978e6e410c10363afef653aca">STATUS_PROGRAM_DATA</a>;
<a name="l01014"></a>01014 
<a name="l01015"></a>01015 
<a name="l01016"></a>01016                 <span class="comment">/* end of definition */</span>
<a name="l01017"></a>01017                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(temp_buffer,<span class="stringliteral">&quot;}&quot;</span>)){
<a name="l01018"></a>01018 
<a name="l01019"></a>01019                         <span class="keywordflow">switch</span>(data_type){
<a name="l01020"></a>01020 
<a name="l01021"></a>01021                         <span class="keywordflow">case</span> <a class="code" href="icingastats_8c.html#a6f82fb4bb971c65deef1bf4c8b4de1b7">STATUS_INFO_DATA</a>:
<a name="l01022"></a>01022                                 <span class="keywordflow">break</span>;
<a name="l01023"></a>01023 
<a name="l01024"></a>01024                         <span class="keywordflow">case</span> <a class="code" href="icingastats_8c.html#ab52baf6978e6e410c10363afef653aca">STATUS_PROGRAM_DATA</a>:
<a name="l01025"></a>01025                                 <span class="comment">/* 02-15-2008 exclude cached host checks from total (they were ondemand checks that never actually executed) */</span>
<a name="l01026"></a>01026                                 <a class="code" href="icingastats_8c.html#adca7831929169d212eea75d0f44a6928">active_host_checks_last_1min</a>=<a class="code" href="icingastats_8c.html#ab97b61a244e2bfe7d29fc5dd3b318c6a">active_scheduled_host_checks_last_1min</a>+<a class="code" href="icingastats_8c.html#ac67ff165f72efff8aaa5134858d7c15a">active_ondemand_host_checks_last_1min</a>;
<a name="l01027"></a>01027                                 <a class="code" href="icingastats_8c.html#a2d834a5beff8ca9cb0f0924a0532b5bd">active_host_checks_last_5min</a>=<a class="code" href="icingastats_8c.html#aebb4624ac45035b9caa067423ef049b1">active_scheduled_host_checks_last_5min</a>+<a class="code" href="icingastats_8c.html#ad032a31446fc100e7672770b482301ee">active_ondemand_host_checks_last_5min</a>;
<a name="l01028"></a>01028                                 <a class="code" href="icingastats_8c.html#a0d655d073aeb42f067549622e81d95df">active_host_checks_last_15min</a>=<a class="code" href="icingastats_8c.html#acc807a0bc5c1420a52e4b154d7f49765">active_scheduled_host_checks_last_15min</a>+<a class="code" href="icingastats_8c.html#a4541f9c0be8a1fee6b8aa32bce6f7263">active_ondemand_host_checks_last_15min</a>;
<a name="l01029"></a>01029 
<a name="l01030"></a>01030                                 <span class="comment">/* 02-15-2008 exclude cached service checks from total (they were ondemand checks that never actually executed) */</span>
<a name="l01031"></a>01031                                 <a class="code" href="icingastats_8c.html#afa2aba124d2d40ede643f1df6d5f66c2">active_service_checks_last_1min</a>=<a class="code" href="icingastats_8c.html#a377ba47d905193a309e8aac07923ed64">active_scheduled_service_checks_last_1min</a>+<a class="code" href="icingastats_8c.html#a6ccfa3b22ab78043b53b9d23f58a0293">active_ondemand_service_checks_last_1min</a>;
<a name="l01032"></a>01032                                 <a class="code" href="icingastats_8c.html#ad3814568c2c73a4689137bfd4b8a30a7">active_service_checks_last_5min</a>=<a class="code" href="icingastats_8c.html#abee077639cae008ef43add11c8f63bcd">active_scheduled_service_checks_last_5min</a>+<a class="code" href="icingastats_8c.html#a2251efdb814145905d321c5b469ab339">active_ondemand_service_checks_last_5min</a>;
<a name="l01033"></a>01033                                 <a class="code" href="icingastats_8c.html#aec496ec5a68e4c71483fdcfb20c702e7">active_service_checks_last_15min</a>=<a class="code" href="icingastats_8c.html#aee4fa8b66b0a95e438af74b7a937aa09">active_scheduled_service_checks_last_15min</a>+<a class="code" href="icingastats_8c.html#aa0f5150075a9c93e04c4e261bd61fce8">active_ondemand_service_checks_last_15min</a>;
<a name="l01034"></a>01034                                 <span class="keywordflow">break</span>;
<a name="l01035"></a>01035 
<a name="l01036"></a>01036                         <span class="keywordflow">case</span> <a class="code" href="icingastats_8c.html#a49f0d8af1791c0b852b28443d3863da3">STATUS_HOST_DATA</a>:
<a name="l01037"></a>01037                                 <a class="code" href="icingastats_8c.html#ab6d8e099e61dd20e286499121be77a30">average_host_state_change</a>=(((<a class="code" href="icingastats_8c.html#ab6d8e099e61dd20e286499121be77a30">average_host_state_change</a>*((double)<a class="code" href="icingastats_8c.html#a039964f5fb45153a4357af17209d5732">status_host_entries</a>-1.0))+state_change)/(double)<a class="code" href="icingastats_8c.html#a039964f5fb45153a4357af17209d5732">status_host_entries</a>);
<a name="l01038"></a>01038                                 <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a791b43eccbcf26dc111629f1dc17a6d3">have_min_host_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a6b59d0380b2808f99d21713ef4920a31">min_host_state_change</a>&gt;state_change){
<a name="l01039"></a>01039                                         <a class="code" href="icingastats_8c.html#a791b43eccbcf26dc111629f1dc17a6d3">have_min_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01040"></a>01040                                         <a class="code" href="icingastats_8c.html#a6b59d0380b2808f99d21713ef4920a31">min_host_state_change</a>=state_change;
<a name="l01041"></a>01041                                         }
<a name="l01042"></a>01042                                 <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a9068a6666c160ff5a58311a54c768e6c">have_max_host_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a956ce635ef8a6cbe1b15823b6e0fc54e">max_host_state_change</a>&lt;state_change){
<a name="l01043"></a>01043                                         <a class="code" href="icingastats_8c.html#a9068a6666c160ff5a58311a54c768e6c">have_max_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01044"></a>01044                                         <a class="code" href="icingastats_8c.html#a956ce635ef8a6cbe1b15823b6e0fc54e">max_host_state_change</a>=state_change;
<a name="l01045"></a>01045                                         }
<a name="l01046"></a>01046                                 <span class="keywordflow">if</span>(check_type==<a class="code" href="include_2common_8h.html#ac9e449de784fe745dd2d6ff07efb8187">HOST_CHECK_ACTIVE</a>){
<a name="l01047"></a>01047                                         <a class="code" href="icingastats_8c.html#a025a7becfdf9bff5d20739c67cb4e4db">active_host_checks</a>++;
<a name="l01048"></a>01048                                         <a class="code" href="icingastats_8c.html#a6b9b860b9466d66b1b189183d70dd9b9">average_active_host_latency</a>=(((<a class="code" href="icingastats_8c.html#a6b9b860b9466d66b1b189183d70dd9b9">average_active_host_latency</a>*((double)<a class="code" href="icingastats_8c.html#a025a7becfdf9bff5d20739c67cb4e4db">active_host_checks</a>-1.0))+latency)/(double)<a class="code" href="icingastats_8c.html#a025a7becfdf9bff5d20739c67cb4e4db">active_host_checks</a>);
<a name="l01049"></a>01049                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a5d8e9c1519cf32abc94e0be347e7faab">have_min_active_host_latency</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a0ab48a2d9498dde0375f53d6f66c80a3">min_active_host_latency</a>&gt;latency){
<a name="l01050"></a>01050                                                 <a class="code" href="icingastats_8c.html#a5d8e9c1519cf32abc94e0be347e7faab">have_min_active_host_latency</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01051"></a>01051                                                 <a class="code" href="icingastats_8c.html#a0ab48a2d9498dde0375f53d6f66c80a3">min_active_host_latency</a>=latency;
<a name="l01052"></a>01052                                                 }
<a name="l01053"></a>01053                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a8297a7149dd1991d42cdac88155cc2ab">have_max_active_host_latency</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a14954b8cb08e05bf6710a24d048a3686">max_active_host_latency</a>&lt;latency){
<a name="l01054"></a>01054                                                 <a class="code" href="icingastats_8c.html#a8297a7149dd1991d42cdac88155cc2ab">have_max_active_host_latency</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01055"></a>01055                                                 <a class="code" href="icingastats_8c.html#a14954b8cb08e05bf6710a24d048a3686">max_active_host_latency</a>=latency;
<a name="l01056"></a>01056                                                 }
<a name="l01057"></a>01057                                         <a class="code" href="icingastats_8c.html#ab10b78b342e939e96b9e409034ec9ce9">average_active_host_execution_time</a>=(((<a class="code" href="icingastats_8c.html#ab10b78b342e939e96b9e409034ec9ce9">average_active_host_execution_time</a>*((double)active_host_checks-1.0))+execution_time)/(double)active_host_checks);
<a name="l01058"></a>01058                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a2e7bb10b4086cfaf1f91c848eefc1466">have_min_active_host_execution_time</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a2a3af03b1d2513e0b2872aacf55fc2db">min_active_host_execution_time</a>&gt;execution_time){
<a name="l01059"></a>01059                                                 <a class="code" href="icingastats_8c.html#a2e7bb10b4086cfaf1f91c848eefc1466">have_min_active_host_execution_time</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01060"></a>01060                                                 <a class="code" href="icingastats_8c.html#a2a3af03b1d2513e0b2872aacf55fc2db">min_active_host_execution_time</a>=execution_time;
<a name="l01061"></a>01061                                                 }
<a name="l01062"></a>01062                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#aa334779de75c74348a6c266a636280bb">have_max_active_host_execution_time</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a8a4b7d26c2ea92b5915cd61fb49d3bbb">max_active_host_execution_time</a>&lt;execution_time){
<a name="l01063"></a>01063                                                 <a class="code" href="icingastats_8c.html#aa334779de75c74348a6c266a636280bb">have_max_active_host_execution_time</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01064"></a>01064                                                 <a class="code" href="icingastats_8c.html#a8a4b7d26c2ea92b5915cd61fb49d3bbb">max_active_host_execution_time</a>=execution_time;
<a name="l01065"></a>01065                                                 }
<a name="l01066"></a>01066                                         <a class="code" href="icingastats_8c.html#af23a17e7ac947a01dc021c46ac926054">average_active_host_state_change</a>=(((<a class="code" href="icingastats_8c.html#af23a17e7ac947a01dc021c46ac926054">average_active_host_state_change</a>*((double)active_host_checks-1.0))+state_change)/(double)active_host_checks);
<a name="l01067"></a>01067                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a899714feb3211b71870601c33c6e6c1d">have_min_active_host_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#ab32fa8c508b9be8894e5b81767fc7057">min_active_host_state_change</a>&gt;state_change){
<a name="l01068"></a>01068                                                 <a class="code" href="icingastats_8c.html#a899714feb3211b71870601c33c6e6c1d">have_min_active_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01069"></a>01069                                                 <a class="code" href="icingastats_8c.html#ab32fa8c508b9be8894e5b81767fc7057">min_active_host_state_change</a>=state_change;
<a name="l01070"></a>01070                                                 }
<a name="l01071"></a>01071                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a9c6244731f2047608202df743bd46f46">have_max_active_host_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#aab8aeed97b702aabb5cee8b2ead92263">max_active_host_state_change</a>&lt;state_change){
<a name="l01072"></a>01072                                                 <a class="code" href="icingastats_8c.html#a9c6244731f2047608202df743bd46f46">have_max_active_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01073"></a>01073                                                 <a class="code" href="icingastats_8c.html#aab8aeed97b702aabb5cee8b2ead92263">max_active_host_state_change</a>=state_change;
<a name="l01074"></a>01074                                                 }
<a name="l01075"></a>01075                                         time_difference=current_time-last_check;
<a name="l01076"></a>01076                                         <span class="keywordflow">if</span>(time_difference&lt;=3600)
<a name="l01077"></a>01077                                                 <a class="code" href="icingastats_8c.html#a187696d3ec08b09377306fa226302d69">active_hosts_checked_last_1hour</a>++;
<a name="l01078"></a>01078                                         <span class="keywordflow">if</span>(time_difference&lt;=900)
<a name="l01079"></a>01079                                                 <a class="code" href="icingastats_8c.html#a36e7ed9e012d64c831520b5fe0dda57e">active_hosts_checked_last_15min</a>++;
<a name="l01080"></a>01080                                         <span class="keywordflow">if</span>(time_difference&lt;=300)
<a name="l01081"></a>01081                                                 <a class="code" href="icingastats_8c.html#ae7aa46cc2c982ada2a718bd6d3cf0497">active_hosts_checked_last_5min</a>++;
<a name="l01082"></a>01082                                         <span class="keywordflow">if</span>(time_difference&lt;=60)
<a name="l01083"></a>01083                                                 <a class="code" href="icingastats_8c.html#ae20347db6462f6d40a6792c1dded22fc">active_hosts_checked_last_1min</a>++;
<a name="l01084"></a>01084                                         }
<a name="l01085"></a>01085                                 <span class="keywordflow">else</span>{
<a name="l01086"></a>01086                                         <a class="code" href="icingastats_8c.html#acd403bfb009e46a810a6b6c2468059b6">passive_host_checks</a>++;
<a name="l01087"></a>01087                                         <a class="code" href="icingastats_8c.html#adbe82b3981c246624c20650468566c0e">average_passive_host_latency</a>=(((<a class="code" href="icingastats_8c.html#adbe82b3981c246624c20650468566c0e">average_passive_host_latency</a>*((double)<a class="code" href="icingastats_8c.html#acd403bfb009e46a810a6b6c2468059b6">passive_host_checks</a>-1.0))+latency)/(double)<a class="code" href="icingastats_8c.html#acd403bfb009e46a810a6b6c2468059b6">passive_host_checks</a>);
<a name="l01088"></a>01088                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#ae4f1a83d7545902d1f7a4d6e356c4fbc">have_min_passive_host_latency</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a3271652a61c5ff739093dd8c6f591fa9">min_passive_host_latency</a>&gt;latency){
<a name="l01089"></a>01089                                                 <a class="code" href="icingastats_8c.html#ae4f1a83d7545902d1f7a4d6e356c4fbc">have_min_passive_host_latency</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01090"></a>01090                                                 <a class="code" href="icingastats_8c.html#a3271652a61c5ff739093dd8c6f591fa9">min_passive_host_latency</a>=latency;
<a name="l01091"></a>01091                                                 }
<a name="l01092"></a>01092                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a8ed469fabc2a069d3c67143b5264c269">have_max_passive_host_latency</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#ae283a04ceba00ff0fddbc63ccc48a190">max_passive_host_latency</a>&lt;latency){
<a name="l01093"></a>01093                                                 <a class="code" href="icingastats_8c.html#a8ed469fabc2a069d3c67143b5264c269">have_max_passive_host_latency</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01094"></a>01094                                                 <a class="code" href="icingastats_8c.html#ae283a04ceba00ff0fddbc63ccc48a190">max_passive_host_latency</a>=latency;
<a name="l01095"></a>01095                                                 }
<a name="l01096"></a>01096                                         <a class="code" href="icingastats_8c.html#a50c72bad422c3859c3bfc13331bdeeaa">average_passive_host_state_change</a>=(((<a class="code" href="icingastats_8c.html#a50c72bad422c3859c3bfc13331bdeeaa">average_passive_host_state_change</a>*((double)passive_host_checks-1.0))+state_change)/(double)passive_host_checks);
<a name="l01097"></a>01097                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#ae216bd6a42583221e12e4f8ea35a293b">have_min_passive_host_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a56b228e3c2fb31d7e517608494fb1713">min_passive_host_state_change</a>&gt;state_change){
<a name="l01098"></a>01098                                                 <a class="code" href="icingastats_8c.html#ae216bd6a42583221e12e4f8ea35a293b">have_min_passive_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01099"></a>01099                                                 <a class="code" href="icingastats_8c.html#a56b228e3c2fb31d7e517608494fb1713">min_passive_host_state_change</a>=state_change;
<a name="l01100"></a>01100                                                 }
<a name="l01101"></a>01101                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a69570da8abe8b7389fe67e312878e8ae">have_max_passive_host_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a17b9761674be038956e4a19565869e19">max_passive_host_state_change</a>&lt;state_change){
<a name="l01102"></a>01102                                                 <a class="code" href="icingastats_8c.html#a69570da8abe8b7389fe67e312878e8ae">have_max_passive_host_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01103"></a>01103                                                 <a class="code" href="icingastats_8c.html#a17b9761674be038956e4a19565869e19">max_passive_host_state_change</a>=state_change;
<a name="l01104"></a>01104                                                 }
<a name="l01105"></a>01105                                         time_difference=current_time-last_check;
<a name="l01106"></a>01106                                         <span class="keywordflow">if</span>(time_difference&lt;=3600)
<a name="l01107"></a>01107                                                 <a class="code" href="icingastats_8c.html#ac5fec1d8c433722c775cba024a391dbb">passive_hosts_checked_last_1hour</a>++;
<a name="l01108"></a>01108                                         <span class="keywordflow">if</span>(time_difference&lt;=900)
<a name="l01109"></a>01109                                                 <a class="code" href="icingastats_8c.html#a45e936de1abb812a81d4452e3f08ff29">passive_hosts_checked_last_15min</a>++;
<a name="l01110"></a>01110                                         <span class="keywordflow">if</span>(time_difference&lt;=300)
<a name="l01111"></a>01111                                                 <a class="code" href="icingastats_8c.html#a499d9e6ba02eeaf73c20a9d922392adb">passive_hosts_checked_last_5min</a>++;
<a name="l01112"></a>01112                                         <span class="keywordflow">if</span>(time_difference&lt;=60)
<a name="l01113"></a>01113                                                 <a class="code" href="icingastats_8c.html#a9bb4fa54e6a2e6cf2dcba58fa6861270">passive_hosts_checked_last_1min</a>++;
<a name="l01114"></a>01114                                         }
<a name="l01115"></a>01115                                 <span class="keywordflow">switch</span>(current_state){
<a name="l01116"></a>01116                                 <span class="keywordflow">case</span> <a class="code" href="icinga_8h.html#a38e2a1ffa128bd8c4c48866d120dc4b0">HOST_UP</a>:
<a name="l01117"></a>01117                                         <a class="code" href="icingastats_8c.html#a4ec32f7c80efff6bfc434128b41030f0">hosts_up</a>++;
<a name="l01118"></a>01118                                         <span class="keywordflow">break</span>;
<a name="l01119"></a>01119                                 <span class="keywordflow">case</span> <a class="code" href="icinga_8h.html#a19d20cca11e4cf399742ad25c05d73fb">HOST_DOWN</a>:
<a name="l01120"></a>01120                                         <a class="code" href="icingastats_8c.html#a62582cce6c031c753beb1ab6ef5a6105">hosts_down</a>++;
<a name="l01121"></a>01121                                         <span class="keywordflow">break</span>;
<a name="l01122"></a>01122                                 <span class="keywordflow">case</span> <a class="code" href="icinga_8h.html#ab1433105627834e0a2c670250bf64285">HOST_UNREACHABLE</a>:
<a name="l01123"></a>01123                                         <a class="code" href="icingastats_8c.html#acf88e3e13c203ffde5ccb16837644078">hosts_unreachable</a>++;
<a name="l01124"></a>01124                                         <span class="keywordflow">break</span>;
<a name="l01125"></a>01125                                 <span class="keywordflow">default</span>:
<a name="l01126"></a>01126                                         <span class="keywordflow">break</span>;
<a name="l01127"></a>01127                                         }
<a name="l01128"></a>01128                                 <span class="keywordflow">if</span>(is_flapping==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
<a name="l01129"></a>01129                                         <a class="code" href="icingastats_8c.html#a1bec17d54038bb2f121015b347fcea65">hosts_flapping</a>++;
<a name="l01130"></a>01130                                 <span class="keywordflow">if</span>(downtime_depth&gt;0)
<a name="l01131"></a>01131                                         <a class="code" href="icingastats_8c.html#af47b634ea7dace98b8e6941883d93577">hosts_in_downtime</a>++;
<a name="l01132"></a>01132                                 <span class="keywordflow">if</span>(has_been_checked==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
<a name="l01133"></a>01133                                         <a class="code" href="icingastats_8c.html#ac3dd883bdd6db35506b06b9ffdc7ed92">hosts_checked</a>++;
<a name="l01134"></a>01134                                 <span class="keywordflow">if</span>(should_be_scheduled==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
<a name="l01135"></a>01135                                         <a class="code" href="icingastats_8c.html#af94ff87658c53ab34e3713530a89faf5">hosts_scheduled</a>++;
<a name="l01136"></a>01136                                 <span class="keywordflow">break</span>;
<a name="l01137"></a>01137 
<a name="l01138"></a>01138                         <span class="keywordflow">case</span> <a class="code" href="icingastats_8c.html#aabc80f1326bfd5b35c701dc545ea415f">STATUS_SERVICE_DATA</a>:
<a name="l01139"></a>01139                                 <a class="code" href="icingastats_8c.html#a47e511b367558a526430ec661efb90a9">average_service_state_change</a>=(((<a class="code" href="icingastats_8c.html#a47e511b367558a526430ec661efb90a9">average_service_state_change</a>*((double)<a class="code" href="icingastats_8c.html#a76dd1f3964760b8a1ce6fb3372869976">status_service_entries</a>-1.0))+state_change)/(double)<a class="code" href="icingastats_8c.html#a76dd1f3964760b8a1ce6fb3372869976">status_service_entries</a>);
<a name="l01140"></a>01140                                 <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#abe3015d700381da133cd94cd168d9a78">have_min_service_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a6e8f56b21346caa50d9cbc6162993554">min_service_state_change</a>&gt;state_change){
<a name="l01141"></a>01141                                         <a class="code" href="icingastats_8c.html#abe3015d700381da133cd94cd168d9a78">have_min_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01142"></a>01142                                         <a class="code" href="icingastats_8c.html#a6e8f56b21346caa50d9cbc6162993554">min_service_state_change</a>=state_change;
<a name="l01143"></a>01143                                         }
<a name="l01144"></a>01144                                 <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#ab6ca0c5fb2cbbacfd96f2418e584c4ef">have_max_service_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a989fb0bb37d769e99412bb67509f57ef">max_service_state_change</a>&lt;state_change){
<a name="l01145"></a>01145                                         <a class="code" href="icingastats_8c.html#ab6ca0c5fb2cbbacfd96f2418e584c4ef">have_max_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01146"></a>01146                                         <a class="code" href="icingastats_8c.html#a989fb0bb37d769e99412bb67509f57ef">max_service_state_change</a>=state_change;
<a name="l01147"></a>01147                                         }
<a name="l01148"></a>01148                                 <span class="keywordflow">if</span>(check_type==<a class="code" href="include_2common_8h.html#ae9ca0dbecc9fa615f650f349a9b410f2">SERVICE_CHECK_ACTIVE</a>){
<a name="l01149"></a>01149                                         <a class="code" href="icingastats_8c.html#aade6e0837393e4a19cffa0d89258c04f">active_service_checks</a>++;
<a name="l01150"></a>01150                                         <a class="code" href="icingastats_8c.html#a79fb73631f391c82189024e3e0c687ad">average_active_service_latency</a>=(((<a class="code" href="icingastats_8c.html#a79fb73631f391c82189024e3e0c687ad">average_active_service_latency</a>*((double)<a class="code" href="icingastats_8c.html#aade6e0837393e4a19cffa0d89258c04f">active_service_checks</a>-1.0))+latency)/(double)<a class="code" href="icingastats_8c.html#aade6e0837393e4a19cffa0d89258c04f">active_service_checks</a>);
<a name="l01151"></a>01151                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a82fb3f1533e5fe1402b0a751fd4e9e02">have_min_active_service_latency</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#aee5b3d74d8bd3caf489fa758e2110468">min_active_service_latency</a>&gt;latency){
<a name="l01152"></a>01152                                                 <a class="code" href="icingastats_8c.html#a82fb3f1533e5fe1402b0a751fd4e9e02">have_min_active_service_latency</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01153"></a>01153                                                 <a class="code" href="icingastats_8c.html#aee5b3d74d8bd3caf489fa758e2110468">min_active_service_latency</a>=latency;
<a name="l01154"></a>01154                                                 }
<a name="l01155"></a>01155                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#ae2a3fc7d728036406ff26df38861e0c9">have_max_active_service_latency</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a31de1d5330bf0f601e49a8ece9ad414b">max_active_service_latency</a>&lt;latency){
<a name="l01156"></a>01156                                                 <a class="code" href="icingastats_8c.html#ae2a3fc7d728036406ff26df38861e0c9">have_max_active_service_latency</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01157"></a>01157                                                 <a class="code" href="icingastats_8c.html#a31de1d5330bf0f601e49a8ece9ad414b">max_active_service_latency</a>=latency;
<a name="l01158"></a>01158                                                 }
<a name="l01159"></a>01159                                         <a class="code" href="icingastats_8c.html#a3bcc10b03b507b87f36aa0af9a80a0e7">average_active_service_execution_time</a>=(((<a class="code" href="icingastats_8c.html#a3bcc10b03b507b87f36aa0af9a80a0e7">average_active_service_execution_time</a>*((double)active_service_checks-1.0))+execution_time)/(double)active_service_checks);
<a name="l01160"></a>01160                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a452875b9886683c7d04001240f165d26">have_min_active_service_execution_time</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a6ab9569f167c445b46e19531e859b367">min_active_service_execution_time</a>&gt;execution_time){
<a name="l01161"></a>01161                                                 <a class="code" href="icingastats_8c.html#a452875b9886683c7d04001240f165d26">have_min_active_service_execution_time</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01162"></a>01162                                                 <a class="code" href="icingastats_8c.html#a6ab9569f167c445b46e19531e859b367">min_active_service_execution_time</a>=execution_time;
<a name="l01163"></a>01163                                                 }
<a name="l01164"></a>01164                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a0cfe0d4d5c1d38604ae220f92caa4a12">have_max_active_service_execution_time</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a5c99c2b06ab9fc0b32bd1cdc062fb726">max_active_service_execution_time</a>&lt;execution_time){
<a name="l01165"></a>01165                                                 <a class="code" href="icingastats_8c.html#a0cfe0d4d5c1d38604ae220f92caa4a12">have_max_active_service_execution_time</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01166"></a>01166                                                 <a class="code" href="icingastats_8c.html#a5c99c2b06ab9fc0b32bd1cdc062fb726">max_active_service_execution_time</a>=execution_time;
<a name="l01167"></a>01167                                                 }
<a name="l01168"></a>01168                                         <a class="code" href="icingastats_8c.html#a9e934eae3acd8429896442f07425bd6f">average_active_service_state_change</a>=(((<a class="code" href="icingastats_8c.html#a9e934eae3acd8429896442f07425bd6f">average_active_service_state_change</a>*((double)active_service_checks-1.0))+state_change)/(double)active_service_checks);
<a name="l01169"></a>01169                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a906bc3773b6c61fe4145993962a4ae1a">have_min_active_service_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a18cadc55800349d5a6f41f9991786885">min_active_service_state_change</a>&gt;state_change){
<a name="l01170"></a>01170                                                 <a class="code" href="icingastats_8c.html#a906bc3773b6c61fe4145993962a4ae1a">have_min_active_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01171"></a>01171                                                 <a class="code" href="icingastats_8c.html#a18cadc55800349d5a6f41f9991786885">min_active_service_state_change</a>=state_change;
<a name="l01172"></a>01172                                                 }
<a name="l01173"></a>01173                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a0f63383fa952de3c72bac81d26460d05">have_max_active_service_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a8dd5cd15010241bd81a671cdce7f781f">max_active_service_state_change</a>&lt;state_change){
<a name="l01174"></a>01174                                                 <a class="code" href="icingastats_8c.html#a0f63383fa952de3c72bac81d26460d05">have_max_active_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01175"></a>01175                                                 <a class="code" href="icingastats_8c.html#a8dd5cd15010241bd81a671cdce7f781f">max_active_service_state_change</a>=state_change;
<a name="l01176"></a>01176                                                 }
<a name="l01177"></a>01177                                         time_difference=current_time-last_check;
<a name="l01178"></a>01178                                         <span class="keywordflow">if</span>(time_difference&lt;=3600)
<a name="l01179"></a>01179                                                 <a class="code" href="icingastats_8c.html#ac70a99f389958677cff7f329fe462d24">active_services_checked_last_1hour</a>++;
<a name="l01180"></a>01180                                         <span class="keywordflow">if</span>(time_difference&lt;=900)
<a name="l01181"></a>01181                                                 <a class="code" href="icingastats_8c.html#afba2744eba27ab49a4064611cc8ce273">active_services_checked_last_15min</a>++;
<a name="l01182"></a>01182                                         <span class="keywordflow">if</span>(time_difference&lt;=300)
<a name="l01183"></a>01183                                                 <a class="code" href="icingastats_8c.html#a26ac776acd4f64f7a385bfd50d9802c6">active_services_checked_last_5min</a>++;
<a name="l01184"></a>01184                                         <span class="keywordflow">if</span>(time_difference&lt;=60)
<a name="l01185"></a>01185                                                 <a class="code" href="icingastats_8c.html#a7b1636efc94ff23753592e8a8b0b1d57">active_services_checked_last_1min</a>++;
<a name="l01186"></a>01186                                         }
<a name="l01187"></a>01187                                 <span class="keywordflow">else</span>{
<a name="l01188"></a>01188                                         <a class="code" href="icingastats_8c.html#a6f3bfe2701558eb468efee63faa7c399">passive_service_checks</a>++;
<a name="l01189"></a>01189                                         <a class="code" href="icingastats_8c.html#a9e5b19f1a19e0ec0c9223b24267138ba">average_passive_service_latency</a>=(((<a class="code" href="icingastats_8c.html#a9e5b19f1a19e0ec0c9223b24267138ba">average_passive_service_latency</a>*((double)<a class="code" href="icingastats_8c.html#a6f3bfe2701558eb468efee63faa7c399">passive_service_checks</a>-1.0))+latency)/(double)<a class="code" href="icingastats_8c.html#a6f3bfe2701558eb468efee63faa7c399">passive_service_checks</a>);
<a name="l01190"></a>01190                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a6badaef4ae4f2e65ffde55aeb247ecc6">have_min_passive_service_latency</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#aac28691457323877156da4cd6fb843a1">min_passive_service_latency</a>&gt;latency){
<a name="l01191"></a>01191                                                 <a class="code" href="icingastats_8c.html#a6badaef4ae4f2e65ffde55aeb247ecc6">have_min_passive_service_latency</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01192"></a>01192                                                 <a class="code" href="icingastats_8c.html#aac28691457323877156da4cd6fb843a1">min_passive_service_latency</a>=latency;
<a name="l01193"></a>01193                                                 }
<a name="l01194"></a>01194                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#ab7023a7729c0286b3c042befb46a0727">have_max_passive_service_latency</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#ad52a3fe1009df9a62dbe19b3583c05ce">max_passive_service_latency</a>&lt;latency){
<a name="l01195"></a>01195                                                 <a class="code" href="icingastats_8c.html#ab7023a7729c0286b3c042befb46a0727">have_max_passive_service_latency</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01196"></a>01196                                                 <a class="code" href="icingastats_8c.html#ad52a3fe1009df9a62dbe19b3583c05ce">max_passive_service_latency</a>=latency;
<a name="l01197"></a>01197                                                 }
<a name="l01198"></a>01198                                         <a class="code" href="icingastats_8c.html#a9cbe40916fdedb623f6dc4e4717bbdbe">average_passive_service_state_change</a>=(((<a class="code" href="icingastats_8c.html#a9cbe40916fdedb623f6dc4e4717bbdbe">average_passive_service_state_change</a>*((double)passive_service_checks-1.0))+state_change)/(double)passive_service_checks);
<a name="l01199"></a>01199                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a01c457ebc81714631ecc7282fcc0da46">have_min_passive_service_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#a33590a99e4a5f895cdfbf7fc383a34b4">min_passive_service_state_change</a>&gt;state_change){
<a name="l01200"></a>01200                                                 <a class="code" href="icingastats_8c.html#a01c457ebc81714631ecc7282fcc0da46">have_min_passive_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01201"></a>01201                                                 <a class="code" href="icingastats_8c.html#a33590a99e4a5f895cdfbf7fc383a34b4">min_passive_service_state_change</a>=state_change;
<a name="l01202"></a>01202                                                 }
<a name="l01203"></a>01203                                         <span class="keywordflow">if</span>(<a class="code" href="icingastats_8c.html#a8cf56a570c562a49720b6c76a55ca4ee">have_max_passive_service_state_change</a>==<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> || <a class="code" href="icingastats_8c.html#aec5b19121188fc8442040c904bc38865">max_passive_service_state_change</a>&lt;state_change){
<a name="l01204"></a>01204                                                 <a class="code" href="icingastats_8c.html#a8cf56a570c562a49720b6c76a55ca4ee">have_max_passive_service_state_change</a>=<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l01205"></a>01205                                                 <a class="code" href="icingastats_8c.html#aec5b19121188fc8442040c904bc38865">max_passive_service_state_change</a>=state_change;
<a name="l01206"></a>01206                                                 }
<a name="l01207"></a>01207                                         time_difference=current_time-last_check;
<a name="l01208"></a>01208                                         <span class="keywordflow">if</span>(time_difference&lt;=3600)
<a name="l01209"></a>01209                                                 <a class="code" href="icingastats_8c.html#acb90a86206d93b92b9d419f27b43ddff">passive_services_checked_last_1hour</a>++;
<a name="l01210"></a>01210                                         <span class="keywordflow">if</span>(time_difference&lt;=900)
<a name="l01211"></a>01211                                                 <a class="code" href="icingastats_8c.html#a3daa04082a78d505db2a52447cfd7492">passive_services_checked_last_15min</a>++;
<a name="l01212"></a>01212                                         <span class="keywordflow">if</span>(time_difference&lt;=300)
<a name="l01213"></a>01213                                                 <a class="code" href="icingastats_8c.html#a4d2fb1f9cbe0b31b4c205c5de044bd7b">passive_services_checked_last_5min</a>++;
<a name="l01214"></a>01214                                         <span class="keywordflow">if</span>(time_difference&lt;=60)
<a name="l01215"></a>01215                                                 <a class="code" href="icingastats_8c.html#a9585459262080c355a13130975a48240">passive_services_checked_last_1min</a>++;
<a name="l01216"></a>01216                                         }
<a name="l01217"></a>01217                                 <span class="keywordflow">switch</span>(current_state){
<a name="l01218"></a>01218                                 <span class="keywordflow">case</span> <a class="code" href="cgiutils_8h.html#a35937514c20ebac19d6598f04416db7e">STATE_OK</a>:
<a name="l01219"></a>01219                                         <a class="code" href="icingastats_8c.html#a07e6809ed5e65aa004b6f81f86ec16da">services_ok</a>++;
<a name="l01220"></a>01220                                         <span class="keywordflow">break</span>;
<a name="l01221"></a>01221                                 <span class="keywordflow">case</span> <a class="code" href="cgiutils_8h.html#a4b06ae38f5452bbb219bb49f0081c3f0">STATE_WARNING</a>:
<a name="l01222"></a>01222                                         <a class="code" href="icingastats_8c.html#a3325124621a4b2db4b41d947ae74a0bb">services_warning</a>++;
<a name="l01223"></a>01223                                         <span class="keywordflow">break</span>;
<a name="l01224"></a>01224                                 <span class="keywordflow">case</span> <a class="code" href="cgiutils_8h.html#a3a671c5b5d9122f1158555575bc0feb1">STATE_UNKNOWN</a>:
<a name="l01225"></a>01225                                         <a class="code" href="icingastats_8c.html#a742a2bd058735bb92be466fdbb307806">services_unknown</a>++;
<a name="l01226"></a>01226                                         <span class="keywordflow">break</span>;
<a name="l01227"></a>01227                                 <span class="keywordflow">case</span> <a class="code" href="cgiutils_8h.html#a19827c887254e66b983c3269a42562bc">STATE_CRITICAL</a>:
<a name="l01228"></a>01228                                         <a class="code" href="icingastats_8c.html#a215c9fd19808c2d70ac689496b201db4">services_critical</a>++;
<a name="l01229"></a>01229                                         <span class="keywordflow">break</span>;
<a name="l01230"></a>01230                                 <span class="keywordflow">default</span>:
<a name="l01231"></a>01231                                         <span class="keywordflow">break</span>;
<a name="l01232"></a>01232                                         }
<a name="l01233"></a>01233                                 <span class="keywordflow">if</span>(is_flapping==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
<a name="l01234"></a>01234                                         <a class="code" href="icingastats_8c.html#a6e45ee5b6e61f8b77bd070c1260060d1">services_flapping</a>++;
<a name="l01235"></a>01235                                 <span class="keywordflow">if</span>(downtime_depth&gt;0)
<a name="l01236"></a>01236                                         <a class="code" href="icingastats_8c.html#a8d37798e9029e803d6a5969e94c9d3a6">services_in_downtime</a>++;
<a name="l01237"></a>01237                                 <span class="keywordflow">if</span>(has_been_checked==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
<a name="l01238"></a>01238                                         <a class="code" href="icingastats_8c.html#a2acd6c0cf1540db95dca076bbde27b0b">services_checked</a>++;
<a name="l01239"></a>01239                                 <span class="keywordflow">if</span>(should_be_scheduled==<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
<a name="l01240"></a>01240                                         <a class="code" href="icingastats_8c.html#a4b1c8b83beac13844ca1f02a727e5101">services_scheduled</a>++;
<a name="l01241"></a>01241                                 <span class="keywordflow">break</span>;
<a name="l01242"></a>01242 
<a name="l01243"></a>01243                         <span class="keywordflow">default</span>:
<a name="l01244"></a>01244                                 <span class="keywordflow">break</span>;
<a name="l01245"></a>01245                                 }
<a name="l01246"></a>01246 
<a name="l01247"></a>01247                         data_type=<a class="code" href="icingastats_8c.html#a864f9af5e895a674f591929cecf288bc">STATUS_NO_DATA</a>;
<a name="l01248"></a>01248 
<a name="l01249"></a>01249                         execution_time=0.0;
<a name="l01250"></a>01250                         latency=0.0;
<a name="l01251"></a>01251                         check_type=0;
<a name="l01252"></a>01252                         current_state=0;
<a name="l01253"></a>01253                         state_change=0.0;
<a name="l01254"></a>01254                         is_flapping=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l01255"></a>01255                         downtime_depth=0;
<a name="l01256"></a>01256                         last_check=(time_t)0;
<a name="l01257"></a>01257                         has_been_checked=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l01258"></a>01258                         should_be_scheduled=<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l01259"></a>01259                         }
<a name="l01260"></a>01260 
<a name="l01261"></a>01261 
<a name="l01262"></a>01262                 <span class="comment">/* inside definition */</span>
<a name="l01263"></a>01263                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(data_type!=<a class="code" href="icingastats_8c.html#a864f9af5e895a674f591929cecf288bc">STATUS_NO_DATA</a>){
<a name="l01264"></a>01264 
<a name="l01265"></a>01265                         var=strtok(temp_buffer,<span class="stringliteral">&quot;=&quot;</span>);
<a name="l01266"></a>01266                         val=strtok(NULL,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01267"></a>01267                         <span class="keywordflow">if</span>(val==NULL)
<a name="l01268"></a>01268                                 <span class="keywordflow">continue</span>;
<a name="l01269"></a>01269 
<a name="l01270"></a>01270                         <span class="keywordflow">switch</span>(data_type){
<a name="l01271"></a>01271 
<a name="l01272"></a>01272                         <span class="keywordflow">case</span> <a class="code" href="icingastats_8c.html#a6f82fb4bb971c65deef1bf4c8b4de1b7">STATUS_INFO_DATA</a>:
<a name="l01273"></a>01273                                 <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;created&quot;</span>))
<a name="l01274"></a>01274                                         <a class="code" href="icingastats_8c.html#a07c643af554ecd9fc767d669b34a97ee">status_creation_date</a>=strtoul(val,NULL,10);
<a name="l01275"></a>01275                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;version&quot;</span>))
<a name="l01276"></a>01276                                         <a class="code" href="icingastats_8c.html#aaca19d2016ef211986f33ff6b2118861">status_version</a>=strdup(val);
<a name="l01277"></a>01277                                 <span class="keywordflow">break</span>;
<a name="l01278"></a>01278 
<a name="l01279"></a>01279                         <span class="keywordflow">case</span> <a class="code" href="icingastats_8c.html#ab52baf6978e6e410c10363afef653aca">STATUS_PROGRAM_DATA</a>:
<a name="l01280"></a>01280                                 <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;program_start&quot;</span>))
<a name="l01281"></a>01281                                         <a class="code" href="broker_8c.html#a2b5a4f2875a1a545f44ac2faad7a6b67">program_start</a>=strtoul(val,NULL,10);
<a name="l01282"></a>01282                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;total_external_command_buffer_slots&quot;</span>))
<a name="l01283"></a>01283                                         <a class="code" href="icingastats_8c.html#a0f3a23d5bc3d1e85a9240920806325d2">total_external_command_buffer_slots</a>=atoi(val);
<a name="l01284"></a>01284                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;used_external_command_buffer_slots&quot;</span>))
<a name="l01285"></a>01285                                         <a class="code" href="icingastats_8c.html#a6a1538727bc64354ca7a17890ccff0fc">used_external_command_buffer_slots</a>=atoi(val);
<a name="l01286"></a>01286                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;high_external_command_buffer_slots&quot;</span>))
<a name="l01287"></a>01287                                         <a class="code" href="icingastats_8c.html#a368ab6f581caf767cd105139e2585a47">high_external_command_buffer_slots</a>=atoi(val);
<a name="l01288"></a>01288                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;icinga_pid&quot;</span>))
<a name="l01289"></a>01289                                         <a class="code" href="broker_8c.html#ad99d124d1c85c3b69de36466353f295e">nagios_pid</a>=strtoul(val,NULL,10);
<a name="l01290"></a>01290                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_scheduled_host_check_stats&quot;</span>)){
<a name="l01291"></a>01291                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01292"></a>01292                                                 <a class="code" href="icingastats_8c.html#ab97b61a244e2bfe7d29fc5dd3b318c6a">active_scheduled_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01293"></a>01293                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01294"></a>01294                                                 <a class="code" href="icingastats_8c.html#aebb4624ac45035b9caa067423ef049b1">active_scheduled_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01295"></a>01295                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01296"></a>01296                                                 <a class="code" href="icingastats_8c.html#acc807a0bc5c1420a52e4b154d7f49765">active_scheduled_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01297"></a>01297                                         }
<a name="l01298"></a>01298                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_ondemand_host_check_stats&quot;</span>)){
<a name="l01299"></a>01299                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01300"></a>01300                                                 <a class="code" href="icingastats_8c.html#ac67ff165f72efff8aaa5134858d7c15a">active_ondemand_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01301"></a>01301                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01302"></a>01302                                                 <a class="code" href="icingastats_8c.html#ad032a31446fc100e7672770b482301ee">active_ondemand_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01303"></a>01303                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01304"></a>01304                                                 <a class="code" href="icingastats_8c.html#a4541f9c0be8a1fee6b8aa32bce6f7263">active_ondemand_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01305"></a>01305                                         }
<a name="l01306"></a>01306                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;cached_host_check_stats&quot;</span>)){
<a name="l01307"></a>01307                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01308"></a>01308                                                 <a class="code" href="icingastats_8c.html#a0c1bf0c7e21ba324b9dc6e61a5b9e74d">active_cached_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01309"></a>01309                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01310"></a>01310                                                 <a class="code" href="icingastats_8c.html#a2eabeddbd5626d30c988562466cd912a">active_cached_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01311"></a>01311                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01312"></a>01312                                                 <a class="code" href="icingastats_8c.html#abfb6a58e41ce513ee28af67ce5d7a8bb">active_cached_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01313"></a>01313                                         }
<a name="l01314"></a>01314                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;passive_host_check_stats&quot;</span>)){
<a name="l01315"></a>01315                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01316"></a>01316                                                 <a class="code" href="icingastats_8c.html#a2f060d01f244c7029428beb8cdf6ecfb">passive_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01317"></a>01317                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01318"></a>01318                                                 <a class="code" href="icingastats_8c.html#aebfa713a6c97b738b0a535eee2fe4971">passive_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01319"></a>01319                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01320"></a>01320                                                 <a class="code" href="icingastats_8c.html#adea9b01f77d72f0206985eeb2d3fa925">passive_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01321"></a>01321                                         }
<a name="l01322"></a>01322                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_scheduled_service_check_stats&quot;</span>)){
<a name="l01323"></a>01323                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01324"></a>01324                                                 <a class="code" href="icingastats_8c.html#a377ba47d905193a309e8aac07923ed64">active_scheduled_service_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01325"></a>01325                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01326"></a>01326                                                 <a class="code" href="icingastats_8c.html#abee077639cae008ef43add11c8f63bcd">active_scheduled_service_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01327"></a>01327                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01328"></a>01328                                                 <a class="code" href="icingastats_8c.html#aee4fa8b66b0a95e438af74b7a937aa09">active_scheduled_service_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01329"></a>01329                                         }
<a name="l01330"></a>01330                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_ondemand_service_check_stats&quot;</span>)){
<a name="l01331"></a>01331                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01332"></a>01332                                                 <a class="code" href="icingastats_8c.html#a6ccfa3b22ab78043b53b9d23f58a0293">active_ondemand_service_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01333"></a>01333                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01334"></a>01334                                                 <a class="code" href="icingastats_8c.html#a2251efdb814145905d321c5b469ab339">active_ondemand_service_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01335"></a>01335                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01336"></a>01336                                                 <a class="code" href="icingastats_8c.html#aa0f5150075a9c93e04c4e261bd61fce8">active_ondemand_service_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01337"></a>01337                                         }
<a name="l01338"></a>01338                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;cached_service_check_stats&quot;</span>)){
<a name="l01339"></a>01339                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01340"></a>01340                                                 <a class="code" href="icingastats_8c.html#a927ed208d02b281b407bd3626824a05c">active_cached_service_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01341"></a>01341                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01342"></a>01342                                                 <a class="code" href="icingastats_8c.html#a4472f160b9bd593a95ca27421c19fae0">active_cached_service_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01343"></a>01343                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01344"></a>01344                                                 <a class="code" href="icingastats_8c.html#a33e4a1513c493832d4e3761b60f91991">active_cached_service_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01345"></a>01345                                         }
<a name="l01346"></a>01346                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;passive_service_check_stats&quot;</span>)){
<a name="l01347"></a>01347                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01348"></a>01348                                                 <a class="code" href="icingastats_8c.html#a0b6902c696c286c0ee1bf41419a04bce">passive_service_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01349"></a>01349                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01350"></a>01350                                                 <a class="code" href="icingastats_8c.html#aab662dfa44c5d2c5f2cfe273b1cdec65">passive_service_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01351"></a>01351                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01352"></a>01352                                                 <a class="code" href="icingastats_8c.html#a6e4c42e61c3a49976567374b7565f7a3">passive_service_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01353"></a>01353                                         }
<a name="l01354"></a>01354                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;external_command_stats&quot;</span>)){
<a name="l01355"></a>01355                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01356"></a>01356                                                 <a class="code" href="icingastats_8c.html#a606644b85026fcf4b3bf9dccd50b4e3d">external_commands_last_1min</a>=atoi(temp_ptr);
<a name="l01357"></a>01357                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01358"></a>01358                                                 <a class="code" href="icingastats_8c.html#aadb9ff9b67e95f20138f5baab81db6b5">external_commands_last_5min</a>=atoi(temp_ptr);
<a name="l01359"></a>01359                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01360"></a>01360                                                 <a class="code" href="icingastats_8c.html#a4b3e119f0df8cb16ac54efd05c44da35">external_commands_last_15min</a>=atoi(temp_ptr);
<a name="l01361"></a>01361                                         }
<a name="l01362"></a>01362                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;parallel_host_check_stats&quot;</span>)){
<a name="l01363"></a>01363                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01364"></a>01364                                                 <a class="code" href="icingastats_8c.html#a8d4dfb97d89575feaf1768685d898532">parallel_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01365"></a>01365                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01366"></a>01366                                                 <a class="code" href="icingastats_8c.html#ada4f6c171176a6563c2835a27345eb52">parallel_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01367"></a>01367                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01368"></a>01368                                                 <a class="code" href="icingastats_8c.html#ad900952678521c33b31cc2aae8baad28">parallel_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01369"></a>01369                                         }
<a name="l01370"></a>01370                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;serial_host_check_stats&quot;</span>)){
<a name="l01371"></a>01371                                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01372"></a>01372                                                 <a class="code" href="icingastats_8c.html#ae6a56f2762c0c57cfc9b7b9f8d59b076">serial_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01373"></a>01373                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01374"></a>01374                                                 <a class="code" href="icingastats_8c.html#a99f6fdecab332141ba69fd1562a27e59">serial_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01375"></a>01375                                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01376"></a>01376                                                 <a class="code" href="icingastats_8c.html#a8a71ff973899ce5426746c5e0c8c9833">serial_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01377"></a>01377                                         }
<a name="l01378"></a>01378                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;event_profiling_enabled&quot;</span>)){
<a name="l01379"></a>01379 <span class="comment">/* make sure gcc3 won&#39;t hit here */</span>
<a name="l01380"></a>01380 <span class="preprocessor">#ifndef GCCTOOOLD</span>
<a name="l01381"></a>01381 <span class="preprocessor"></span>                                        <a class="code" href="base_2config_8c.html#a32244f609ee91c91f754bd38fea7ae03">event_profiling_enabled</a>=atoi(val);
<a name="l01382"></a>01382 <span class="preprocessor">#endif</span>
<a name="l01383"></a>01383 <span class="preprocessor"></span>                                        }
<a name="l01384"></a>01384                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strstr(var,<span class="stringliteral">&quot;PROFILE_&quot;</span>) &amp;&amp; !strstr(var,<span class="stringliteral">&quot;null&quot;</span>)){
<a name="l01385"></a>01385 
<a name="l01386"></a>01386 <span class="comment">/* make sure gcc3 won&#39;t hit here */</span>
<a name="l01387"></a>01387 <span class="preprocessor">#ifndef GCCTOOOLD</span>
<a name="l01388"></a>01388 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>(strstr(var,<span class="stringliteral">&quot;COUNTER&quot;</span>))
<a name="l01389"></a>01389                                                 <a class="code" href="statsprofiler_8c.html#a9ed108a2c658bce2e16d9a8ed6ccb338">profile_object_update_count</a>(var+strlen(<span class="stringliteral">&quot;PROFILE_COUNTER_&quot;</span>),strtod(val,NULL));
<a name="l01390"></a>01390 
<a name="l01391"></a>01391                                         <span class="keywordflow">if</span>(strstr(var,<span class="stringliteral">&quot;ELAPSED&quot;</span>))
<a name="l01392"></a>01392                                                 <a class="code" href="statsprofiler_8c.html#af949efb11c7afeb124992d62c082f429">profile_object_update_elapsed</a>(var+strlen(<span class="stringliteral">&quot;PROFILE_ELAPSED_&quot;</span>),atoi(val));
<a name="l01393"></a>01393 <span class="preprocessor">#endif</span>
<a name="l01394"></a>01394 <span class="preprocessor"></span>                                        }
<a name="l01395"></a>01395                                 <span class="keywordflow">break</span>;
<a name="l01396"></a>01396 
<a name="l01397"></a>01397                         <span class="keywordflow">case</span> <a class="code" href="icingastats_8c.html#a49f0d8af1791c0b852b28443d3863da3">STATUS_HOST_DATA</a>:
<a name="l01398"></a>01398                                 <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;check_execution_time&quot;</span>))
<a name="l01399"></a>01399                                         execution_time=strtod(val,NULL);
<a name="l01400"></a>01400                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;check_latency&quot;</span>))
<a name="l01401"></a>01401                                         latency=strtod(val,NULL);
<a name="l01402"></a>01402                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;percent_state_change&quot;</span>))
<a name="l01403"></a>01403                                         state_change=strtod(val,NULL);
<a name="l01404"></a>01404                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;check_type&quot;</span>))
<a name="l01405"></a>01405                                         check_type=atoi(val);
<a name="l01406"></a>01406                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;current_state&quot;</span>))
<a name="l01407"></a>01407                                         current_state=atoi(val);
<a name="l01408"></a>01408                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;is_flapping&quot;</span>))
<a name="l01409"></a>01409                                         is_flapping=(atoi(val)&gt;0)?<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>:<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l01410"></a>01410                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;scheduled_downtime_depth&quot;</span>))
<a name="l01411"></a>01411                                         downtime_depth=atoi(val);
<a name="l01412"></a>01412                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;last_check&quot;</span>))
<a name="l01413"></a>01413                                         last_check=strtoul(val,NULL,10);
<a name="l01414"></a>01414                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;has_been_checked&quot;</span>))
<a name="l01415"></a>01415                                         has_been_checked=(atoi(val)&gt;0)?<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>:<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l01416"></a>01416                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;should_be_scheduled&quot;</span>))
<a name="l01417"></a>01417                                         should_be_scheduled=(atoi(val)&gt;0)?<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>:<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l01418"></a>01418                                 <span class="keywordflow">break</span>;
<a name="l01419"></a>01419 
<a name="l01420"></a>01420                         <span class="keywordflow">case</span> <a class="code" href="icingastats_8c.html#aabc80f1326bfd5b35c701dc545ea415f">STATUS_SERVICE_DATA</a>:
<a name="l01421"></a>01421                                 <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;check_execution_time&quot;</span>))
<a name="l01422"></a>01422                                         execution_time=strtod(val,NULL);
<a name="l01423"></a>01423                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;check_latency&quot;</span>))
<a name="l01424"></a>01424                                         latency=strtod(val,NULL);
<a name="l01425"></a>01425                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;percent_state_change&quot;</span>))
<a name="l01426"></a>01426                                         state_change=strtod(val,NULL);
<a name="l01427"></a>01427                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;check_type&quot;</span>))
<a name="l01428"></a>01428                                         check_type=atoi(val);
<a name="l01429"></a>01429                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;current_state&quot;</span>))
<a name="l01430"></a>01430                                         current_state=atoi(val);
<a name="l01431"></a>01431                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;is_flapping&quot;</span>))
<a name="l01432"></a>01432                                         is_flapping=(atoi(val)&gt;0)?<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>:<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l01433"></a>01433                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;scheduled_downtime_depth&quot;</span>))
<a name="l01434"></a>01434                                         downtime_depth=atoi(val);
<a name="l01435"></a>01435                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;last_check&quot;</span>))
<a name="l01436"></a>01436                                         last_check=strtoul(val,NULL,10);
<a name="l01437"></a>01437                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;has_been_checked&quot;</span>))
<a name="l01438"></a>01438                                         has_been_checked=(atoi(val)&gt;0)?<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>:<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l01439"></a>01439                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;should_be_scheduled&quot;</span>))
<a name="l01440"></a>01440                                         should_be_scheduled=(atoi(val)&gt;0)?<a class="code" href="include_2common_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>:<a class="code" href="include_2common_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l01441"></a>01441                                 <span class="keywordflow">break</span>;
<a name="l01442"></a>01442 
<a name="l01443"></a>01443                         <span class="keywordflow">default</span>:
<a name="l01444"></a>01444                                 <span class="keywordflow">break</span>;
<a name="l01445"></a>01445                                 }
<a name="l01446"></a>01446 
<a name="l01447"></a>01447                         }
<a name="l01448"></a>01448                 }
<a name="l01449"></a>01449 
<a name="l01450"></a>01450         fclose(fp);
<a name="l01451"></a>01451 
<a name="l01452"></a>01452         <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;
<a name="l01453"></a>01453         }
<a name="l01454"></a>01454 
<a name="l01455"></a>01455 
<a name="l01456"></a><a class="code" href="icingastats_8c.html#a437e04e2346e608f57d323284f31814e">01456</a> <span class="keywordtype">int</span> <a class="code" href="icingastats_8c.html#a437e04e2346e608f57d323284f31814e">read_icingastats_file</a>(<span class="keywordtype">void</span>){
<a name="l01457"></a>01457         <span class="keywordtype">char</span> temp_buffer[<a class="code" href="include_2common_8h.html#a23c82337fe6c21111837512469ea40af">MAX_INPUT_BUFFER</a>];
<a name="l01458"></a>01458         FILE *fp=NULL;
<a name="l01459"></a>01459         <span class="keywordtype">char</span> *var=NULL;
<a name="l01460"></a>01460         <span class="keywordtype">char</span> *val=NULL;
<a name="l01461"></a>01461         <span class="keywordtype">char</span> *temp_ptr=NULL;
<a name="l01462"></a>01462         time_t <a class="code" href="status_8c.html#ab1938d5563a4d7b5ef9b9f74a685508b">current_time</a>;
<a name="l01463"></a>01463 
<a name="l01464"></a>01464         time(&amp;current_time);
<a name="l01465"></a>01465 
<a name="l01466"></a>01466         fp=fopen(<a class="code" href="icingastats_8c.html#ad49e4dcb9d7bc0a15932db72e027d831">icingastats_file</a>,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l01467"></a>01467         <span class="keywordflow">if</span>(fp==NULL)
<a name="l01468"></a>01468                 <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>;
<a name="l01469"></a>01469 
<a name="l01470"></a>01470         <span class="comment">/* read all lines in the status file */</span>
<a name="l01471"></a>01471         <span class="keywordflow">while</span>(fgets(temp_buffer,<span class="keyword">sizeof</span>(temp_buffer)-1,fp)){
<a name="l01472"></a>01472 
<a name="l01473"></a>01473                 <span class="comment">/* skip comments */</span>
<a name="l01474"></a>01474                 <span class="keywordflow">if</span>(temp_buffer[0]==<span class="charliteral">&#39;#&#39;</span>)
<a name="l01475"></a>01475                         <span class="keywordflow">continue</span>;
<a name="l01476"></a>01476 
<a name="l01477"></a>01477                 <a class="code" href="icingastats_8c.html#a44ed939e710ce4674954d98865b42ec0">strip</a>(temp_buffer);
<a name="l01478"></a>01478 
<a name="l01479"></a>01479                 var=strtok(temp_buffer,<span class="stringliteral">&quot;=&quot;</span>);
<a name="l01480"></a>01480                 val=strtok(NULL,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01481"></a>01481                 <span class="keywordflow">if</span>(val==NULL)
<a name="l01482"></a>01482                         <span class="keywordflow">continue</span>;
<a name="l01483"></a>01483 
<a name="l01484"></a>01484                 <span class="comment">/**** INFO ****/</span>
<a name="l01485"></a>01485                 <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;created&quot;</span>))
<a name="l01486"></a>01486                         <a class="code" href="icingastats_8c.html#a07c643af554ecd9fc767d669b34a97ee">status_creation_date</a>=strtoul(val,NULL,10);
<a name="l01487"></a>01487                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;nagios_version&quot;</span>))
<a name="l01488"></a>01488                         <a class="code" href="icingastats_8c.html#aaca19d2016ef211986f33ff6b2118861">status_version</a>=strdup(val);
<a name="l01489"></a>01489 
<a name="l01490"></a>01490                 <span class="comment">/****  PROGRAM INFO ****/</span>
<a name="l01491"></a>01491                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;program_start&quot;</span>))
<a name="l01492"></a>01492                         <a class="code" href="broker_8c.html#a2b5a4f2875a1a545f44ac2faad7a6b67">program_start</a>=strtoul(val,NULL,10);
<a name="l01493"></a>01493                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;total_external_command_buffer_slots&quot;</span>))
<a name="l01494"></a>01494                         <a class="code" href="icingastats_8c.html#a0f3a23d5bc3d1e85a9240920806325d2">total_external_command_buffer_slots</a>=atoi(val);
<a name="l01495"></a>01495                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;used_external_command_buffer_slots&quot;</span>))
<a name="l01496"></a>01496                         <a class="code" href="icingastats_8c.html#a6a1538727bc64354ca7a17890ccff0fc">used_external_command_buffer_slots</a>=atoi(val);
<a name="l01497"></a>01497                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;high_external_command_buffer_slots&quot;</span>))
<a name="l01498"></a>01498                         <a class="code" href="icingastats_8c.html#a368ab6f581caf767cd105139e2585a47">high_external_command_buffer_slots</a>=atoi(val);
<a name="l01499"></a>01499                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;icinga_pid&quot;</span>))
<a name="l01500"></a>01500                         <a class="code" href="broker_8c.html#ad99d124d1c85c3b69de36466353f295e">nagios_pid</a>=strtoul(val,NULL,10);
<a name="l01501"></a>01501                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_scheduled_host_check_stats&quot;</span>)){
<a name="l01502"></a>01502                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01503"></a>01503                                 <a class="code" href="icingastats_8c.html#ab97b61a244e2bfe7d29fc5dd3b318c6a">active_scheduled_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01504"></a>01504                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01505"></a>01505                                 <a class="code" href="icingastats_8c.html#aebb4624ac45035b9caa067423ef049b1">active_scheduled_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01506"></a>01506                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01507"></a>01507                                 <a class="code" href="icingastats_8c.html#acc807a0bc5c1420a52e4b154d7f49765">active_scheduled_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01508"></a>01508                         }
<a name="l01509"></a>01509                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_ondemand_host_check_stats&quot;</span>)){
<a name="l01510"></a>01510                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01511"></a>01511                                 <a class="code" href="icingastats_8c.html#ac67ff165f72efff8aaa5134858d7c15a">active_ondemand_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01512"></a>01512                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01513"></a>01513                                 <a class="code" href="icingastats_8c.html#ad032a31446fc100e7672770b482301ee">active_ondemand_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01514"></a>01514                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01515"></a>01515                                 <a class="code" href="icingastats_8c.html#a4541f9c0be8a1fee6b8aa32bce6f7263">active_ondemand_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01516"></a>01516                         }
<a name="l01517"></a>01517                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;cached_host_check_stats&quot;</span>)){
<a name="l01518"></a>01518                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01519"></a>01519                                 <a class="code" href="icingastats_8c.html#a0c1bf0c7e21ba324b9dc6e61a5b9e74d">active_cached_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01520"></a>01520                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01521"></a>01521                                 <a class="code" href="icingastats_8c.html#a2eabeddbd5626d30c988562466cd912a">active_cached_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01522"></a>01522                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01523"></a>01523                                 <a class="code" href="icingastats_8c.html#abfb6a58e41ce513ee28af67ce5d7a8bb">active_cached_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01524"></a>01524                         }
<a name="l01525"></a>01525                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;passive_host_check_stats&quot;</span>)){
<a name="l01526"></a>01526                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01527"></a>01527                                 <a class="code" href="icingastats_8c.html#a2f060d01f244c7029428beb8cdf6ecfb">passive_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01528"></a>01528                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01529"></a>01529                                 <a class="code" href="icingastats_8c.html#aebfa713a6c97b738b0a535eee2fe4971">passive_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01530"></a>01530                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01531"></a>01531                                 <a class="code" href="icingastats_8c.html#adea9b01f77d72f0206985eeb2d3fa925">passive_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01532"></a>01532                         }
<a name="l01533"></a>01533                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_scheduled_service_check_stats&quot;</span>)){
<a name="l01534"></a>01534                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01535"></a>01535                                 <a class="code" href="icingastats_8c.html#a377ba47d905193a309e8aac07923ed64">active_scheduled_service_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01536"></a>01536                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01537"></a>01537                                 <a class="code" href="icingastats_8c.html#abee077639cae008ef43add11c8f63bcd">active_scheduled_service_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01538"></a>01538                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01539"></a>01539                                 <a class="code" href="icingastats_8c.html#aee4fa8b66b0a95e438af74b7a937aa09">active_scheduled_service_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01540"></a>01540                         }
<a name="l01541"></a>01541                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_ondemand_service_check_stats&quot;</span>)){
<a name="l01542"></a>01542                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01543"></a>01543                                 <a class="code" href="icingastats_8c.html#a6ccfa3b22ab78043b53b9d23f58a0293">active_ondemand_service_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01544"></a>01544                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01545"></a>01545                                 <a class="code" href="icingastats_8c.html#a2251efdb814145905d321c5b469ab339">active_ondemand_service_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01546"></a>01546                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01547"></a>01547                                 <a class="code" href="icingastats_8c.html#aa0f5150075a9c93e04c4e261bd61fce8">active_ondemand_service_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01548"></a>01548                         }
<a name="l01549"></a>01549                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;cached_service_check_stats&quot;</span>)){
<a name="l01550"></a>01550                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01551"></a>01551                                 <a class="code" href="icingastats_8c.html#a927ed208d02b281b407bd3626824a05c">active_cached_service_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01552"></a>01552                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01553"></a>01553                                 <a class="code" href="icingastats_8c.html#a4472f160b9bd593a95ca27421c19fae0">active_cached_service_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01554"></a>01554                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01555"></a>01555                                 <a class="code" href="icingastats_8c.html#a33e4a1513c493832d4e3761b60f91991">active_cached_service_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01556"></a>01556                         }
<a name="l01557"></a>01557                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;passive_service_check_stats&quot;</span>)){
<a name="l01558"></a>01558                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01559"></a>01559                                 <a class="code" href="icingastats_8c.html#a0b6902c696c286c0ee1bf41419a04bce">passive_service_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01560"></a>01560                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01561"></a>01561                                 <a class="code" href="icingastats_8c.html#aab662dfa44c5d2c5f2cfe273b1cdec65">passive_service_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01562"></a>01562                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01563"></a>01563                                 <a class="code" href="icingastats_8c.html#a6e4c42e61c3a49976567374b7565f7a3">passive_service_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01564"></a>01564                         }
<a name="l01565"></a>01565                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;external_command_stats&quot;</span>)){
<a name="l01566"></a>01566                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01567"></a>01567                                 <a class="code" href="icingastats_8c.html#a606644b85026fcf4b3bf9dccd50b4e3d">external_commands_last_1min</a>=atoi(temp_ptr);
<a name="l01568"></a>01568                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01569"></a>01569                                 <a class="code" href="icingastats_8c.html#aadb9ff9b67e95f20138f5baab81db6b5">external_commands_last_5min</a>=atoi(temp_ptr);
<a name="l01570"></a>01570                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01571"></a>01571                                 <a class="code" href="icingastats_8c.html#a4b3e119f0df8cb16ac54efd05c44da35">external_commands_last_15min</a>=atoi(temp_ptr);
<a name="l01572"></a>01572                         }
<a name="l01573"></a>01573                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;parallel_host_check_stats&quot;</span>)){
<a name="l01574"></a>01574                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01575"></a>01575                                 <a class="code" href="icingastats_8c.html#a8d4dfb97d89575feaf1768685d898532">parallel_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01576"></a>01576                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01577"></a>01577                                 <a class="code" href="icingastats_8c.html#ada4f6c171176a6563c2835a27345eb52">parallel_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01578"></a>01578                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01579"></a>01579                                 <a class="code" href="icingastats_8c.html#ad900952678521c33b31cc2aae8baad28">parallel_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01580"></a>01580                         }
<a name="l01581"></a>01581                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;serial_host_check_stats&quot;</span>)){
<a name="l01582"></a>01582                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01583"></a>01583                                 <a class="code" href="icingastats_8c.html#ae6a56f2762c0c57cfc9b7b9f8d59b076">serial_host_checks_last_1min</a>=atoi(temp_ptr);
<a name="l01584"></a>01584                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01585"></a>01585                                 <a class="code" href="icingastats_8c.html#a99f6fdecab332141ba69fd1562a27e59">serial_host_checks_last_5min</a>=atoi(temp_ptr);
<a name="l01586"></a>01586                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01587"></a>01587                                 <a class="code" href="icingastats_8c.html#a8a71ff973899ce5426746c5e0c8c9833">serial_host_checks_last_15min</a>=atoi(temp_ptr);
<a name="l01588"></a>01588                         }
<a name="l01589"></a>01589 
<a name="l01590"></a>01590                 <span class="comment">/***** HOST INFO *****/</span>
<a name="l01591"></a>01591 
<a name="l01592"></a>01592                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;total_hosts&quot;</span>))
<a name="l01593"></a>01593                         <a class="code" href="icingastats_8c.html#a039964f5fb45153a4357af17209d5732">status_host_entries</a>=atoi(val);
<a name="l01594"></a>01594                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;hosts_checked&quot;</span>))
<a name="l01595"></a>01595                         <a class="code" href="icingastats_8c.html#ac3dd883bdd6db35506b06b9ffdc7ed92">hosts_checked</a>=atoi(val);
<a name="l01596"></a>01596                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;hosts_scheduled&quot;</span>))
<a name="l01597"></a>01597                         <a class="code" href="icingastats_8c.html#af94ff87658c53ab34e3713530a89faf5">hosts_scheduled</a>=atoi(val);
<a name="l01598"></a>01598                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;hosts_flapping&quot;</span>))
<a name="l01599"></a>01599                         <a class="code" href="icingastats_8c.html#a1bec17d54038bb2f121015b347fcea65">hosts_flapping</a>=atoi(val);
<a name="l01600"></a>01600                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;hosts_in_downtime&quot;</span>))
<a name="l01601"></a>01601                         <a class="code" href="icingastats_8c.html#af47b634ea7dace98b8e6941883d93577">hosts_in_downtime</a>=atoi(val);
<a name="l01602"></a>01602                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;hosts_up&quot;</span>))
<a name="l01603"></a>01603                         <a class="code" href="icingastats_8c.html#a4ec32f7c80efff6bfc434128b41030f0">hosts_up</a>=atoi(val);
<a name="l01604"></a>01604                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;hosts_down&quot;</span>))
<a name="l01605"></a>01605                         <a class="code" href="icingastats_8c.html#a62582cce6c031c753beb1ab6ef5a6105">hosts_down</a>=atoi(val);
<a name="l01606"></a>01606                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;hosts_unreachable&quot;</span>))
<a name="l01607"></a>01607                         <a class="code" href="icingastats_8c.html#acf88e3e13c203ffde5ccb16837644078">hosts_unreachable</a>=atoi(val);
<a name="l01608"></a>01608                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;hosts_actively_checked&quot;</span>))
<a name="l01609"></a>01609                         <a class="code" href="icingastats_8c.html#a025a7becfdf9bff5d20739c67cb4e4db">active_host_checks</a>=atoi(val);
<a name="l01610"></a>01610                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;hosts_passively_checked&quot;</span>))
<a name="l01611"></a>01611                         <a class="code" href="icingastats_8c.html#acd403bfb009e46a810a6b6c2468059b6">passive_host_checks</a>=atoi(val);
<a name="l01612"></a>01612                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;total_host_state_change&quot;</span>)){
<a name="l01613"></a>01613                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01614"></a>01614                                 <a class="code" href="icingastats_8c.html#a6b59d0380b2808f99d21713ef4920a31">min_host_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01615"></a>01615                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01616"></a>01616                                 <a class="code" href="icingastats_8c.html#a956ce635ef8a6cbe1b15823b6e0fc54e">max_host_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01617"></a>01617                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01618"></a>01618                                 <a class="code" href="icingastats_8c.html#ab6d8e099e61dd20e286499121be77a30">average_host_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01619"></a>01619                         }
<a name="l01620"></a>01620                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_host_latency&quot;</span>)){
<a name="l01621"></a>01621                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01622"></a>01622                                 <a class="code" href="icingastats_8c.html#a0ab48a2d9498dde0375f53d6f66c80a3">min_active_host_latency</a>=strtod(temp_ptr,NULL);
<a name="l01623"></a>01623                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01624"></a>01624                                 <a class="code" href="icingastats_8c.html#a14954b8cb08e05bf6710a24d048a3686">max_active_host_latency</a>=strtod(temp_ptr,NULL);
<a name="l01625"></a>01625                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01626"></a>01626                                 <a class="code" href="icingastats_8c.html#a6b9b860b9466d66b1b189183d70dd9b9">average_active_host_latency</a>=strtod(temp_ptr,NULL);
<a name="l01627"></a>01627                         }
<a name="l01628"></a>01628                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_host_execution_time&quot;</span>)){
<a name="l01629"></a>01629                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01630"></a>01630                                 <a class="code" href="icingastats_8c.html#a2a3af03b1d2513e0b2872aacf55fc2db">min_active_host_execution_time</a>=strtod(temp_ptr,NULL);
<a name="l01631"></a>01631                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01632"></a>01632                                 <a class="code" href="icingastats_8c.html#a8a4b7d26c2ea92b5915cd61fb49d3bbb">max_active_host_execution_time</a>=strtod(temp_ptr,NULL);
<a name="l01633"></a>01633                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01634"></a>01634                                 <a class="code" href="icingastats_8c.html#ab10b78b342e939e96b9e409034ec9ce9">average_active_host_execution_time</a>=strtod(temp_ptr,NULL);
<a name="l01635"></a>01635                         }
<a name="l01636"></a>01636                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_host_state_change&quot;</span>)){
<a name="l01637"></a>01637                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01638"></a>01638                                 <a class="code" href="icingastats_8c.html#ab32fa8c508b9be8894e5b81767fc7057">min_active_host_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01639"></a>01639                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01640"></a>01640                                 <a class="code" href="icingastats_8c.html#aab8aeed97b702aabb5cee8b2ead92263">max_active_host_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01641"></a>01641                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01642"></a>01642                                 <a class="code" href="icingastats_8c.html#af23a17e7ac947a01dc021c46ac926054">average_active_host_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01643"></a>01643                         }
<a name="l01644"></a>01644                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_hosts_last_x&quot;</span>)){
<a name="l01645"></a>01645                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01646"></a>01646                                 <a class="code" href="icingastats_8c.html#ae20347db6462f6d40a6792c1dded22fc">active_hosts_checked_last_1min</a>=atoi(temp_ptr);
<a name="l01647"></a>01647                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01648"></a>01648                                 <a class="code" href="icingastats_8c.html#ae7aa46cc2c982ada2a718bd6d3cf0497">active_hosts_checked_last_5min</a>=atoi(temp_ptr);
<a name="l01649"></a>01649                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01650"></a>01650                                 <a class="code" href="icingastats_8c.html#a36e7ed9e012d64c831520b5fe0dda57e">active_hosts_checked_last_15min</a>=atoi(temp_ptr);
<a name="l01651"></a>01651                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01652"></a>01652                                 <a class="code" href="icingastats_8c.html#a187696d3ec08b09377306fa226302d69">active_hosts_checked_last_1hour</a>=atoi(temp_ptr);
<a name="l01653"></a>01653                         }
<a name="l01654"></a>01654                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;passive_host_latency&quot;</span>)){
<a name="l01655"></a>01655                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01656"></a>01656                                 <a class="code" href="icingastats_8c.html#a3271652a61c5ff739093dd8c6f591fa9">min_passive_host_latency</a>=strtod(temp_ptr,NULL);
<a name="l01657"></a>01657                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01658"></a>01658                                 <a class="code" href="icingastats_8c.html#ae283a04ceba00ff0fddbc63ccc48a190">max_passive_host_latency</a>=strtod(temp_ptr,NULL);
<a name="l01659"></a>01659                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01660"></a>01660                                 <a class="code" href="icingastats_8c.html#adbe82b3981c246624c20650468566c0e">average_passive_host_latency</a>=strtod(temp_ptr,NULL);
<a name="l01661"></a>01661                         }
<a name="l01662"></a>01662                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;passive_host_state_change&quot;</span>)){
<a name="l01663"></a>01663                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01664"></a>01664                                 <a class="code" href="icingastats_8c.html#a56b228e3c2fb31d7e517608494fb1713">min_passive_host_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01665"></a>01665                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01666"></a>01666                                 <a class="code" href="icingastats_8c.html#a17b9761674be038956e4a19565869e19">max_passive_host_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01667"></a>01667                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01668"></a>01668                                 <a class="code" href="icingastats_8c.html#a50c72bad422c3859c3bfc13331bdeeaa">average_passive_host_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01669"></a>01669                         }
<a name="l01670"></a>01670                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;passive_hosts_last_x&quot;</span>)){
<a name="l01671"></a>01671                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01672"></a>01672                                 <a class="code" href="icingastats_8c.html#a9bb4fa54e6a2e6cf2dcba58fa6861270">passive_hosts_checked_last_1min</a>=atoi(temp_ptr);
<a name="l01673"></a>01673                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01674"></a>01674                                 <a class="code" href="icingastats_8c.html#a499d9e6ba02eeaf73c20a9d922392adb">passive_hosts_checked_last_5min</a>=atoi(temp_ptr);
<a name="l01675"></a>01675                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01676"></a>01676                                 <a class="code" href="icingastats_8c.html#a45e936de1abb812a81d4452e3f08ff29">passive_hosts_checked_last_15min</a>=atoi(temp_ptr);
<a name="l01677"></a>01677                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01678"></a>01678                                 <a class="code" href="icingastats_8c.html#ac5fec1d8c433722c775cba024a391dbb">passive_hosts_checked_last_1hour</a>=atoi(temp_ptr);
<a name="l01679"></a>01679                         }
<a name="l01680"></a>01680 
<a name="l01681"></a>01681 
<a name="l01682"></a>01682                 <span class="comment">/***** SERVICE INFO *****/</span>
<a name="l01683"></a>01683 
<a name="l01684"></a>01684                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;total_services&quot;</span>))
<a name="l01685"></a>01685                         <a class="code" href="icingastats_8c.html#a76dd1f3964760b8a1ce6fb3372869976">status_service_entries</a>=atoi(val);
<a name="l01686"></a>01686                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;services_checked&quot;</span>))
<a name="l01687"></a>01687                         <a class="code" href="icingastats_8c.html#a2acd6c0cf1540db95dca076bbde27b0b">services_checked</a>=atoi(val);
<a name="l01688"></a>01688                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;services_scheduled&quot;</span>))
<a name="l01689"></a>01689                         <a class="code" href="icingastats_8c.html#a4b1c8b83beac13844ca1f02a727e5101">services_scheduled</a>=atoi(val);
<a name="l01690"></a>01690                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;services_flapping&quot;</span>))
<a name="l01691"></a>01691                         <a class="code" href="icingastats_8c.html#a6e45ee5b6e61f8b77bd070c1260060d1">services_flapping</a>=atoi(val);
<a name="l01692"></a>01692                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;services_in_downtime&quot;</span>))
<a name="l01693"></a>01693                         <a class="code" href="icingastats_8c.html#a8d37798e9029e803d6a5969e94c9d3a6">services_in_downtime</a>=atoi(val);
<a name="l01694"></a>01694                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;services_ok&quot;</span>))
<a name="l01695"></a>01695                         <a class="code" href="icingastats_8c.html#a07e6809ed5e65aa004b6f81f86ec16da">services_ok</a>=atoi(val);
<a name="l01696"></a>01696                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;services_warning&quot;</span>))
<a name="l01697"></a>01697                         <a class="code" href="icingastats_8c.html#a3325124621a4b2db4b41d947ae74a0bb">services_warning</a>=atoi(val);
<a name="l01698"></a>01698                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;services_critical&quot;</span>))
<a name="l01699"></a>01699                         <a class="code" href="icingastats_8c.html#a215c9fd19808c2d70ac689496b201db4">services_critical</a>=atoi(val);
<a name="l01700"></a>01700                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;services_unknown&quot;</span>))
<a name="l01701"></a>01701                         <a class="code" href="icingastats_8c.html#a742a2bd058735bb92be466fdbb307806">services_unknown</a>=atoi(val);
<a name="l01702"></a>01702                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;services_actively_checked&quot;</span>))
<a name="l01703"></a>01703                         <a class="code" href="icingastats_8c.html#aade6e0837393e4a19cffa0d89258c04f">active_service_checks</a>=atoi(val);
<a name="l01704"></a>01704                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;services_passively_checked&quot;</span>))
<a name="l01705"></a>01705                         <a class="code" href="icingastats_8c.html#a6f3bfe2701558eb468efee63faa7c399">passive_service_checks</a>=atoi(val);
<a name="l01706"></a>01706                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;total_service_state_change&quot;</span>)){
<a name="l01707"></a>01707                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01708"></a>01708                                 <a class="code" href="icingastats_8c.html#a6e8f56b21346caa50d9cbc6162993554">min_service_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01709"></a>01709                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01710"></a>01710                                 <a class="code" href="icingastats_8c.html#a989fb0bb37d769e99412bb67509f57ef">max_service_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01711"></a>01711                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01712"></a>01712                                 <a class="code" href="icingastats_8c.html#a47e511b367558a526430ec661efb90a9">average_service_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01713"></a>01713                         }
<a name="l01714"></a>01714                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_service_latency&quot;</span>)){
<a name="l01715"></a>01715                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01716"></a>01716                                 <a class="code" href="icingastats_8c.html#aee5b3d74d8bd3caf489fa758e2110468">min_active_service_latency</a>=strtod(temp_ptr,NULL);
<a name="l01717"></a>01717                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01718"></a>01718                                 <a class="code" href="icingastats_8c.html#a31de1d5330bf0f601e49a8ece9ad414b">max_active_service_latency</a>=strtod(temp_ptr,NULL);
<a name="l01719"></a>01719                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01720"></a>01720                                 <a class="code" href="icingastats_8c.html#a79fb73631f391c82189024e3e0c687ad">average_active_service_latency</a>=strtod(temp_ptr,NULL);
<a name="l01721"></a>01721                         }
<a name="l01722"></a>01722                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_service_execution_time&quot;</span>)){
<a name="l01723"></a>01723                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01724"></a>01724                                 <a class="code" href="icingastats_8c.html#a6ab9569f167c445b46e19531e859b367">min_active_service_execution_time</a>=strtod(temp_ptr,NULL);
<a name="l01725"></a>01725                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01726"></a>01726                                 <a class="code" href="icingastats_8c.html#a5c99c2b06ab9fc0b32bd1cdc062fb726">max_active_service_execution_time</a>=strtod(temp_ptr,NULL);
<a name="l01727"></a>01727                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01728"></a>01728                                 <a class="code" href="icingastats_8c.html#a3bcc10b03b507b87f36aa0af9a80a0e7">average_active_service_execution_time</a>=strtod(temp_ptr,NULL);
<a name="l01729"></a>01729                         }
<a name="l01730"></a>01730                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_service_state_change&quot;</span>)){
<a name="l01731"></a>01731                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01732"></a>01732                                 <a class="code" href="icingastats_8c.html#a18cadc55800349d5a6f41f9991786885">min_active_service_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01733"></a>01733                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01734"></a>01734                                 <a class="code" href="icingastats_8c.html#a8dd5cd15010241bd81a671cdce7f781f">max_active_service_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01735"></a>01735                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01736"></a>01736                                 <a class="code" href="icingastats_8c.html#a9e934eae3acd8429896442f07425bd6f">average_active_service_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01737"></a>01737                         }
<a name="l01738"></a>01738                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;active_services_last_x&quot;</span>)){
<a name="l01739"></a>01739                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01740"></a>01740                                 <a class="code" href="icingastats_8c.html#a7b1636efc94ff23753592e8a8b0b1d57">active_services_checked_last_1min</a>=atoi(temp_ptr);
<a name="l01741"></a>01741                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01742"></a>01742                                 <a class="code" href="icingastats_8c.html#a26ac776acd4f64f7a385bfd50d9802c6">active_services_checked_last_5min</a>=atoi(temp_ptr);
<a name="l01743"></a>01743                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01744"></a>01744                                 <a class="code" href="icingastats_8c.html#afba2744eba27ab49a4064611cc8ce273">active_services_checked_last_15min</a>=atoi(temp_ptr);
<a name="l01745"></a>01745                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01746"></a>01746                                 <a class="code" href="icingastats_8c.html#ac70a99f389958677cff7f329fe462d24">active_services_checked_last_1hour</a>=atoi(temp_ptr);
<a name="l01747"></a>01747                         }
<a name="l01748"></a>01748                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;passive_service_latency&quot;</span>)){
<a name="l01749"></a>01749                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01750"></a>01750                                 <a class="code" href="icingastats_8c.html#aac28691457323877156da4cd6fb843a1">min_passive_service_latency</a>=strtod(temp_ptr,NULL);
<a name="l01751"></a>01751                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01752"></a>01752                                 <a class="code" href="icingastats_8c.html#ad52a3fe1009df9a62dbe19b3583c05ce">max_passive_service_latency</a>=strtod(temp_ptr,NULL);
<a name="l01753"></a>01753                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01754"></a>01754                                 <a class="code" href="icingastats_8c.html#a9e5b19f1a19e0ec0c9223b24267138ba">average_passive_service_latency</a>=strtod(temp_ptr,NULL);
<a name="l01755"></a>01755                         }
<a name="l01756"></a>01756                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;passive_service_state_change&quot;</span>)){
<a name="l01757"></a>01757                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01758"></a>01758                                 <a class="code" href="icingastats_8c.html#a33590a99e4a5f895cdfbf7fc383a34b4">min_passive_service_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01759"></a>01759                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01760"></a>01760                                 <a class="code" href="icingastats_8c.html#aec5b19121188fc8442040c904bc38865">max_passive_service_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01761"></a>01761                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01762"></a>01762                                 <a class="code" href="icingastats_8c.html#a9cbe40916fdedb623f6dc4e4717bbdbe">average_passive_service_state_change</a>=strtod(temp_ptr,NULL);
<a name="l01763"></a>01763                         }
<a name="l01764"></a>01764                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmp(var,<span class="stringliteral">&quot;passive_services_last_x&quot;</span>)){
<a name="l01765"></a>01765                         <span class="keywordflow">if</span>((temp_ptr=strtok(val,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01766"></a>01766                                 <a class="code" href="icingastats_8c.html#a9585459262080c355a13130975a48240">passive_services_checked_last_1min</a>=atoi(temp_ptr);
<a name="l01767"></a>01767                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01768"></a>01768                                 <a class="code" href="icingastats_8c.html#a4d2fb1f9cbe0b31b4c205c5de044bd7b">passive_services_checked_last_5min</a>=atoi(temp_ptr);
<a name="l01769"></a>01769                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01770"></a>01770                                 <a class="code" href="icingastats_8c.html#a3daa04082a78d505db2a52447cfd7492">passive_services_checked_last_15min</a>=atoi(temp_ptr);
<a name="l01771"></a>01771                         <span class="keywordflow">if</span>((temp_ptr=strtok(NULL,<span class="stringliteral">&quot;,&quot;</span>)))
<a name="l01772"></a>01772                                 <a class="code" href="icingastats_8c.html#acb90a86206d93b92b9d419f27b43ddff">passive_services_checked_last_1hour</a>=atoi(temp_ptr);
<a name="l01773"></a>01773                         }
<a name="l01774"></a>01774                 }
<a name="l01775"></a>01775 
<a name="l01776"></a>01776         fclose(fp);
<a name="l01777"></a>01777 
<a name="l01778"></a>01778         <span class="comment">/* 02-15-2008 exclude cached host checks from total (they were ondemand checks that never actually executed) */</span>
<a name="l01779"></a>01779         <a class="code" href="icingastats_8c.html#adca7831929169d212eea75d0f44a6928">active_host_checks_last_1min</a>=<a class="code" href="icingastats_8c.html#ab97b61a244e2bfe7d29fc5dd3b318c6a">active_scheduled_host_checks_last_1min</a>+<a class="code" href="icingastats_8c.html#ac67ff165f72efff8aaa5134858d7c15a">active_ondemand_host_checks_last_1min</a>;
<a name="l01780"></a>01780         <a class="code" href="icingastats_8c.html#a2d834a5beff8ca9cb0f0924a0532b5bd">active_host_checks_last_5min</a>=<a class="code" href="icingastats_8c.html#aebb4624ac45035b9caa067423ef049b1">active_scheduled_host_checks_last_5min</a>+<a class="code" href="icingastats_8c.html#ad032a31446fc100e7672770b482301ee">active_ondemand_host_checks_last_5min</a>;
<a name="l01781"></a>01781         <a class="code" href="icingastats_8c.html#a0d655d073aeb42f067549622e81d95df">active_host_checks_last_15min</a>=<a class="code" href="icingastats_8c.html#acc807a0bc5c1420a52e4b154d7f49765">active_scheduled_host_checks_last_15min</a>+<a class="code" href="icingastats_8c.html#a4541f9c0be8a1fee6b8aa32bce6f7263">active_ondemand_host_checks_last_15min</a>;
<a name="l01782"></a>01782 
<a name="l01783"></a>01783         <span class="comment">/* 02-15-2008 exclude cached service checks from total (they were ondemand checks that never actually executed) */</span>
<a name="l01784"></a>01784         <a class="code" href="icingastats_8c.html#afa2aba124d2d40ede643f1df6d5f66c2">active_service_checks_last_1min</a>=<a class="code" href="icingastats_8c.html#a377ba47d905193a309e8aac07923ed64">active_scheduled_service_checks_last_1min</a>+<a class="code" href="icingastats_8c.html#a6ccfa3b22ab78043b53b9d23f58a0293">active_ondemand_service_checks_last_1min</a>;
<a name="l01785"></a>01785         <a class="code" href="icingastats_8c.html#ad3814568c2c73a4689137bfd4b8a30a7">active_service_checks_last_5min</a>=<a class="code" href="icingastats_8c.html#abee077639cae008ef43add11c8f63bcd">active_scheduled_service_checks_last_5min</a>+<a class="code" href="icingastats_8c.html#a2251efdb814145905d321c5b469ab339">active_ondemand_service_checks_last_5min</a>;
<a name="l01786"></a>01786         <a class="code" href="icingastats_8c.html#aec496ec5a68e4c71483fdcfb20c702e7">active_service_checks_last_15min</a>=<a class="code" href="icingastats_8c.html#aee4fa8b66b0a95e438af74b7a937aa09">active_scheduled_service_checks_last_15min</a>+<a class="code" href="icingastats_8c.html#aa0f5150075a9c93e04c4e261bd61fce8">active_ondemand_service_checks_last_15min</a>;
<a name="l01787"></a>01787 
<a name="l01788"></a>01788         <span class="keywordflow">return</span> <a class="code" href="include_2common_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;
<a name="l01789"></a>01789         }
<a name="l01790"></a>01790 
<a name="l01791"></a>01791 
<a name="l01792"></a>01792 <span class="comment">/* strip newline, carriage return, and tab characters from beginning and end of a string */</span>
<a name="l01793"></a><a class="code" href="shared_8h.html#a5868318c8a45305e38e85afd67147759">01793</a> <span class="keywordtype">void</span> <a class="code" href="icingastats_8c.html#a44ed939e710ce4674954d98865b42ec0">strip</a>(<span class="keywordtype">char</span> *buffer){
<a name="l01794"></a>01794         <span class="keyword">register</span> <span class="keywordtype">int</span> x;
<a name="l01795"></a>01795         <span class="keyword">register</span> <span class="keywordtype">int</span> y;
<a name="l01796"></a>01796         <span class="keyword">register</span> <span class="keywordtype">int</span> z;
<a name="l01797"></a>01797 
<a name="l01798"></a>01798         <span class="keywordflow">if</span>(buffer==NULL || buffer[0]==<span class="stringliteral">&#39;\x0&#39;</span>)
<a name="l01799"></a>01799                 <span class="keywordflow">return</span>;
<a name="l01800"></a>01800 
<a name="l01801"></a>01801         <span class="comment">/* strip end of string */</span>
<a name="l01802"></a>01802         y=(int)strlen(buffer);
<a name="l01803"></a>01803         <span class="keywordflow">for</span>(x=y-1;x&gt;=0;x--){
<a name="l01804"></a>01804                 <span class="keywordflow">if</span>(buffer[x]==<span class="charliteral">&#39; &#39;</span> || buffer[x]==<span class="charliteral">&#39;\n&#39;</span> || buffer[x]==<span class="charliteral">&#39;\r&#39;</span> || buffer[x]==<span class="charliteral">&#39;\t&#39;</span> || buffer[x]==13)
<a name="l01805"></a>01805                         buffer[x]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01806"></a>01806                 <span class="keywordflow">else</span>
<a name="l01807"></a>01807                         <span class="keywordflow">break</span>;
<a name="l01808"></a>01808                 }
<a name="l01809"></a>01809 
<a name="l01810"></a>01810         <span class="comment">/* strip beginning of string (by shifting) */</span>
<a name="l01811"></a>01811         y=(int)strlen(buffer);
<a name="l01812"></a>01812         <span class="keywordflow">for</span>(x=0;x&lt;y;x++){
<a name="l01813"></a>01813                 <span class="keywordflow">if</span>(buffer[x]==<span class="charliteral">&#39; &#39;</span> || buffer[x]==<span class="charliteral">&#39;\n&#39;</span> || buffer[x]==<span class="charliteral">&#39;\r&#39;</span> || buffer[x]==<span class="charliteral">&#39;\t&#39;</span> || buffer[x]==13)
<a name="l01814"></a>01814                         <span class="keywordflow">continue</span>;
<a name="l01815"></a>01815                 <span class="keywordflow">else</span>
<a name="l01816"></a>01816                         <span class="keywordflow">break</span>;
<a name="l01817"></a>01817                 }
<a name="l01818"></a>01818         <span class="keywordflow">if</span>(x&gt;0){
<a name="l01819"></a>01819                 <span class="keywordflow">for</span>(z=x;z&lt;y;z++)
<a name="l01820"></a>01820                         buffer[z-x]=buffer[z];
<a name="l01821"></a>01821                 buffer[y-x]=<span class="stringliteral">&#39;\x0&#39;</span>;
<a name="l01822"></a>01822                 }
<a name="l01823"></a>01823 
<a name="l01824"></a>01824         <span class="keywordflow">return</span>;
<a name="l01825"></a>01825         }
<a name="l01826"></a>01826 
<a name="l01827"></a>01827 
<a name="l01828"></a>01828 
<a name="l01829"></a>01829 <span class="comment">/* get days, hours, minutes, and seconds from a raw time_t format or total seconds */</span>
<a name="l01830"></a><a class="code" href="shared_8h.html#a4f69ae1e416b78a28247f5aac6d4bc2f">01830</a> <span class="keywordtype">void</span> <a class="code" href="icingastats_8c.html#a13230b1b393a52cbe4c41c44d90085ac">get_time_breakdown</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> raw_time,<span class="keywordtype">int</span> *days,<span class="keywordtype">int</span> *hours,<span class="keywordtype">int</span> *minutes,<span class="keywordtype">int</span> *seconds){
<a name="l01831"></a>01831         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> temp_time;
<a name="l01832"></a>01832         <span class="keywordtype">int</span> temp_days;
<a name="l01833"></a>01833         <span class="keywordtype">int</span> temp_hours;
<a name="l01834"></a>01834         <span class="keywordtype">int</span> temp_minutes;
<a name="l01835"></a>01835         <span class="keywordtype">int</span> temp_seconds;
<a name="l01836"></a>01836 
<a name="l01837"></a>01837         temp_time=raw_time;
<a name="l01838"></a>01838 
<a name="l01839"></a>01839         temp_days=temp_time/86400;
<a name="l01840"></a>01840         temp_time-=(temp_days * 86400);
<a name="l01841"></a>01841         temp_hours=temp_time/3600;
<a name="l01842"></a>01842         temp_time-=(temp_hours * 3600);
<a name="l01843"></a>01843         temp_minutes=temp_time/60;
<a name="l01844"></a>01844         temp_time-=(temp_minutes * 60);
<a name="l01845"></a>01845         temp_seconds=(int)temp_time;
<a name="l01846"></a>01846 
<a name="l01847"></a>01847         *days=temp_days;
<a name="l01848"></a>01848         *hours=temp_hours;
<a name="l01849"></a>01849         *minutes=temp_minutes;
<a name="l01850"></a>01850         *seconds=temp_seconds;
<a name="l01851"></a>01851 
<a name="l01852"></a>01852         <span class="keywordflow">return</span>;
<a name="l01853"></a>01853         }
<a name="l01854"></a>01854 
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="icingastats_8c.html">icingastats.c</a>      </li>
      <li class="footer">Generated on Tue May 3 2011 22:33:38 for Icinga-core by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
